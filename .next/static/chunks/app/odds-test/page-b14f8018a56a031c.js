(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{8579:function(e,a,s){Promise.resolve().then(s.bind(s,2977))},2977:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return l}});var t=s(7437),r=s(2265);function l(){let[e,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[n,d]=(0,r.useState)(null),[c,i]=(0,r.useState)("all"),x=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(!0),d(null);try{let a=new URLSearchParams({sport:c,refresh:e.toString()}),s=await fetch("/api/odds?".concat(a)),t=await s.json();if(!s.ok)throw Error(t.message||t.error||"Failed to fetch odds");l(t.data)}catch(e){d(e instanceof Error?e.message:"An error occurred"),l(null)}finally{a(!1)}},m=e=>new Date(e).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),h=(e,a)=>e&&0!==e.length?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Game Time"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Away Team"}),(0,t.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spread"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Home Team"}),(0,t.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spread"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Book"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:m(e.gameTime)}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.awayTeam}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-center font-mono",children:null!==e.awaySpread?(0,t.jsxs)("span",{className:e.awaySpread>0?"text-green-600":"text-red-600",children:[e.awaySpread>0?"+":"",e.awaySpread]}):"-"}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:e.homeTeam}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-center font-mono",children:null!==e.homeSpread?(0,t.jsxs)("span",{className:e.homeSpread>0?"text-green-600":"text-red-600",children:[e.homeSpread>0?"+":"",e.homeSpread]}):"-"}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:e.bookmaker||"-"})]},e.gameId))})]})}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:["No ",a," games available"]});return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83C\uDFC8 Live Odds from The Odds API"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Fetching real-time spread data for NFL and NCAAF games"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",value:"all",checked:"all"===c,onChange:e=>i(e.target.value),className:"mr-2"}),(0,t.jsx)("span",{children:"All Sports"})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",value:"nfl",checked:"nfl"===c,onChange:e=>i(e.target.value),className:"mr-2"}),(0,t.jsx)("span",{children:"NFL Only"})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",value:"ncaaf",checked:"ncaaf"===c,onChange:e=>i(e.target.value),className:"mr-2"}),(0,t.jsx)("span",{children:"NCAAF Only"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 sm:ml-auto",children:[(0,t.jsx)("button",{onClick:()=>x(!1),disabled:e,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:e?"⏳ Loading...":"\uD83D\uDCCA Fetch Odds"}),(0,t.jsx)("button",{onClick:()=>x(!0),disabled:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"\uD83D\uDD04 Refresh Cache"})]})]}),n&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:["❌ ",n]})]}),s&&(0,t.jsxs)("div",{className:"space-y-6",children:[s.nfl&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["NFL Games (",s.nfl.count,")"]})}),(0,t.jsx)("div",{className:"p-6",children:h(s.nfl.games,"NFL")})]}),s.ncaaf&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["NCAAF Games (",s.ncaaf.count,")"]})}),(0,t.jsx)("div",{className:"p-6",children:h(s.ncaaf.games,"NCAAF")})]}),s.timestamp&&(0,t.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",m(s.timestamp)]})]}),!s&&!e&&(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83D\uDCCB How to use:"}),(0,t.jsxs)("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[(0,t.jsx)("li",{children:"Make sure THE_ODDS_API_KEY is set in your .env file"}),(0,t.jsxs)("li",{children:["Get a free API key from ",(0,t.jsx)("a",{href:"https://the-odds-api.com",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"the-odds-api.com"})]}),(0,t.jsx)("li",{children:"Select which sport to fetch (All, NFL, or NCAAF)"}),(0,t.jsx)("li",{children:'Click "Fetch Odds" to get live spread data'}),(0,t.jsx)("li",{children:"Data is cached for 5 minutes to conserve API requests"}),(0,t.jsx)("li",{children:'Use "Refresh Cache" to force fetch new data'})]})]})]})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8579)}),_N_E=e.O()}]);