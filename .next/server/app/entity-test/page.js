(()=>{var e={};e.id=247,e.ids=[247],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6526:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d}),t(577),t(2029),t(5866);var a=t(3191),n=t(8716),l=t(7922),i=t.n(l),r=t(5231),c={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>r[e]);t.d(s,c);let d=["",{children:["entity-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,577)),"/Users/jb/Development/office_football_pool/src/app/entity-test/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/Users/jb/Development/office_football_pool/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/jb/Development/office_football_pool/src/app/entity-test/page.tsx"],m="/entity-test/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/entity-test/page",pathname:"/entity-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9955:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},9936:(e,s,t)=>{Promise.resolve().then(t.bind(t,7633))},3768:()=>{},7633:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(326),n=t(7577);function l(){let[e,s]=(0,n.useState)(""),[t,l]=(0,n.useState)([]),[i,r]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1),[o,m]=(0,n.useState)("teams"),x=`Dallas
KC Chiefs
Philly
New England
Tampa
LA Chargers
#11 Alabama
Michigan State
Texas Tech
Penn St.`,h=`Dallas @ Philadelphia
Kansas City vs LA Chargers
Tampa Bay @ Atlanta
#11 Alabama vs Michigan State
Ohio St. @ Tennessee
Patriots vs Bills`,p=async()=>{d(!0);try{let s=e.trim().split("\n").filter(e=>e.trim());if("teams"===o){let e=s.map(e=>({name:e.trim(),league:e.includes("#")||e.includes("State")||e.includes("University")?"NCAAF":void 0})),t=await fetch("/api/match-teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teams:e})}),a=await t.json();a.success&&(l(a.matches),r([]))}else{let e=s.map(e=>{let s=e.split(/[@vs]/i).map(e=>e.trim());if(s.length>=2){let t=e.includes("@");return{awayTeam:t?s[0]:s[1],homeTeam:t?s[1]:s[0],league:void 0}}return null}).filter(Boolean),t=await fetch("/api/match-teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({games:e})}),a=await t.json();a.success&&(r(a.matches),l([]))}}catch(e){console.error("Error testing matches:",e)}finally{d(!1)}},g=e=>e>=.8?"text-green-600":e>=.6?"text-yellow-600":"text-red-600",u=e=>({exact:"bg-green-100 text-green-800",alias:"bg-blue-100 text-blue-800",fuzzy:"bg-yellow-100 text-yellow-800",llm:"bg-purple-100 text-purple-800"})[e]||"bg-gray-100 text-gray-800";return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83C\uDFAF Entity Resolution Test"}),a.jsx("p",{className:"text-gray-600",children:"Test team name matching and resolution for picksheets"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"teams",checked:"teams"===o,onChange:e=>m(e.target.value),className:"mr-2"}),a.jsx("span",{children:"Match Teams"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"games",checked:"games"===o,onChange:e=>m(e.target.value),className:"mr-2"}),a.jsx("span",{children:"Match Games"})]})]}),(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Enter ","teams"===o?"team names (one per line)":"games (format: Away @ Home or Home vs Away)"]}),a.jsx("textarea",{value:e,onChange:e=>s(e.target.value),className:"w-full h-48 p-3 border rounded-lg font-mono text-sm",placeholder:"teams"===o?"Enter team names...":"Enter games..."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:p,disabled:c||!e,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:c?"Matching...":"Test Matching"}),a.jsx("button",{onClick:()=>s("teams"===o?x:h),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Load Sample"}),a.jsx("button",{onClick:()=>{s(""),l([]),r([])},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Clear"})]})]}),t.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-semibold",children:"Team Matches"})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Original"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Matched"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"League"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Method"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Confidence"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Candidates"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-2 text-sm",children:e.originalName}),a.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:e.matchedName}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded ${"NFL"===e.league?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:e.league})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded ${u(e.method)}`,children:e.method})}),(0,a.jsxs)("td",{className:`px-4 py-2 text-sm font-mono ${g(e.confidence)}`,children:[(100*e.confidence).toFixed(0),"%"]}),a.jsx("td",{className:"px-4 py-2 text-xs text-gray-600",children:e.candidates?.map(e=>`${e.name} (${(100*e.score).toFixed(0)}%)`).join(", ")||"-"})]},s))})]})})})]}),i.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-semibold",children:"Game Matches"})}),a.jsx("div",{className:"p-6 space-y-4",children:i.map((e,s)=>(0,a.jsxs)("div",{className:`border rounded-lg p-4 ${e.needsVerification?"border-yellow-400 bg-yellow-50":"border-gray-200"}`,children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg",children:["Game ",s+1]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("span",{className:`px-2 py-1 text-sm font-medium rounded ${e.overallConfidence>=.8?"bg-green-100 text-green-800":e.overallConfidence>=.6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[(100*e.overallConfidence).toFixed(0),"% Overall"]}),e.needsVerification&&a.jsx("span",{className:"px-2 py-1 text-sm bg-yellow-100 text-yellow-800 rounded",children:"⚠️ Needs Verification"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-1",children:"Away Team"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:e.awayTeam.originalName})," → ",a.jsx("span",{className:"font-medium",children:e.awayTeam.matchedName})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${u(e.awayTeam.method)}`,children:e.awayTeam.method}),(0,a.jsxs)("span",{className:`text-xs font-mono ${g(e.awayTeam.confidence)}`,children:[(100*e.awayTeam.confidence).toFixed(0),"%"]})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-1",children:"Home Team"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:e.homeTeam.originalName})," → ",a.jsx("span",{className:"font-medium",children:e.homeTeam.matchedName})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${u(e.homeTeam.method)}`,children:e.homeTeam.method}),(0,a.jsxs)("span",{className:`text-xs font-mono ${g(e.homeTeam.confidence)}`,children:[(100*e.homeTeam.confidence).toFixed(0),"%"]})]})]})]})]})]},s))})]}),!c&&0===t.length&&0===i.length&&(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83C\uDFAF How Entity Resolution Works"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-2",children:[(0,a.jsxs)("li",{children:[a.jsx("strong",{children:"Exact Match:"})," Direct match with official team name (100% confidence)"]}),(0,a.jsxs)("li",{children:[a.jsx("strong",{children:"Alias Match:"})," Match with known nickname or abbreviation (95% confidence)"]}),(0,a.jsxs)("li",{children:[a.jsx("strong",{children:"Fuzzy Match:"})," Approximate string matching using Fuse.js (60-90% confidence)"]}),(0,a.jsxs)("li",{children:[a.jsx("strong",{children:"LLM Verification:"})," OpenAI for ambiguous matches (85% confidence)"]}),(0,a.jsxs)("li",{children:[a.jsx("strong",{children:"NCAA Detection:"})," Identifies college teams by patterns (State, University, rankings)"]})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-white rounded",children:[a.jsx("h4",{className:"font-medium mb-1",children:"Confidence Levels:"}),(0,a.jsxs)("div",{className:"flex gap-4 text-xs",children:[a.jsx("span",{className:"text-green-600",children:"● High (≥80%)"}),a.jsx("span",{className:"text-yellow-600",children:"● Medium (60-79%)"}),a.jsx("span",{className:"text-red-600",children:"● Low (<60%)"})]})]})]})]})})}},577:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>r});var a=t(8570);let n=(0,a.createProxy)(String.raw`/Users/jb/Development/office_football_pool/src/app/entity-test/page.tsx`),{__esModule:l,$$typeof:i}=n;n.default;let r=(0,a.createProxy)(String.raw`/Users/jb/Development/office_football_pool/src/app/entity-test/page.tsx#default`)},2029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>n});var a=t(9510);t(5023);let n={title:"Spread Analysis System",description:"Picksheet Market Comparison Engine"};function l({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"bg-black",children:e})})}},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,471],()=>t(6526));module.exports=a})();