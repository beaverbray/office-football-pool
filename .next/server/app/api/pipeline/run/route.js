"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pipeline/run/route";
exports.ids = ["app/api/pipeline/run/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpipeline%2Frun%2Froute&page=%2Fapi%2Fpipeline%2Frun%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpipeline%2Frun%2Froute.ts&appDir=%2FUsers%2Fjb%2FDevelopment%2Foffice_football_pool%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjb%2FDevelopment%2Foffice_football_pool&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpipeline%2Frun%2Froute&page=%2Fapi%2Fpipeline%2Frun%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpipeline%2Frun%2Froute.ts&appDir=%2FUsers%2Fjb%2FDevelopment%2Foffice_football_pool%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjb%2FDevelopment%2Foffice_football_pool&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_jb_Development_office_football_pool_src_app_api_pipeline_run_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/pipeline/run/route.ts */ \"(rsc)/./src/app/api/pipeline/run/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pipeline/run/route\",\n        pathname: \"/api/pipeline/run\",\n        filename: \"route\",\n        bundlePath: \"app/api/pipeline/run/route\"\n    },\n    resolvedPagePath: \"/Users/jb/Development/office_football_pool/src/app/api/pipeline/run/route.ts\",\n    nextConfigOutput,\n    userland: _Users_jb_Development_office_football_pool_src_app_api_pipeline_run_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/pipeline/run/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwaXBlbGluZSUyRnJ1biUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcGlwZWxpbmUlMkZydW4lMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwaXBlbGluZSUyRnJ1biUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmpiJTJGRGV2ZWxvcG1lbnQlMkZvZmZpY2VfZm9vdGJhbGxfcG9vbCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZqYiUyRkRldmVsb3BtZW50JTJGb2ZmaWNlX2Zvb3RiYWxsX3Bvb2wmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzRCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2ZmaWNlLWZvb3RiYWxsLXBvb2wvPzVjNTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2piL0RldmVsb3BtZW50L29mZmljZV9mb290YmFsbF9wb29sL3NyYy9hcHAvYXBpL3BpcGVsaW5lL3J1bi9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGlwZWxpbmUvcnVuL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGlwZWxpbmUvcnVuXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9waXBlbGluZS9ydW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvamIvRGV2ZWxvcG1lbnQvb2ZmaWNlX2Zvb3RiYWxsX3Bvb2wvc3JjL2FwcC9hcGkvcGlwZWxpbmUvcnVuL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9waXBlbGluZS9ydW4vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpipeline%2Frun%2Froute&page=%2Fapi%2Fpipeline%2Frun%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpipeline%2Frun%2Froute.ts&appDir=%2FUsers%2Fjb%2FDevelopment%2Foffice_football_pool%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjb%2FDevelopment%2Foffice_football_pool&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/pipeline/run/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/pipeline/run/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _services_pipeline_orchestrator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/services/pipeline-orchestrator */ \"(rsc)/./src/services/pipeline-orchestrator.ts\");\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate input\n        if (!body.picksheetText && !body.picksheetGames) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Either picksheetText or picksheetGames must be provided\"\n            }, {\n                status: 400\n            });\n        }\n        // Run pipeline\n        const result = await _services_pipeline_orchestrator__WEBPACK_IMPORTED_MODULE_1__.pipelineOrchestrator.runPipeline({\n            picksheetText: body.picksheetText,\n            picksheetGames: body.picksheetGames,\n            marketGames: body.marketGames\n        }, {\n            useOddsAPI: body.useOddsAPI ?? true,\n            useLLM: body.useLLM ?? true,\n            includeLogs: body.includeLogs ?? false,\n            matchingThreshold: body.matchingThreshold ?? 0.6\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: result.status !== \"failed\",\n            pipeline: result\n        });\n    } catch (error) {\n        console.error(\"Pipeline execution error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Pipeline execution failed\",\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9waXBlbGluZS9ydW4vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ2dCO0FBRWhFLGVBQWVFLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ELFFBQVFFLElBQUk7UUFFL0IsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQ0QsS0FBS0UsYUFBYSxJQUFJLENBQUNGLEtBQUtHLGNBQWMsRUFBRTtZQUMvQyxPQUFPUCxxREFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtnQkFBRUcsT0FBTztZQUEwRCxHQUNuRTtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsZUFBZTtRQUNmLE1BQU1DLFNBQVMsTUFBTVQsaUZBQW9CQSxDQUFDVSxXQUFXLENBQ25EO1lBQ0VMLGVBQWVGLEtBQUtFLGFBQWE7WUFDakNDLGdCQUFnQkgsS0FBS0csY0FBYztZQUNuQ0ssYUFBYVIsS0FBS1EsV0FBVztRQUMvQixHQUNBO1lBQ0VDLFlBQVlULEtBQUtTLFVBQVUsSUFBSTtZQUMvQkMsUUFBUVYsS0FBS1UsTUFBTSxJQUFJO1lBQ3ZCQyxhQUFhWCxLQUFLVyxXQUFXLElBQUk7WUFDakNDLG1CQUFtQlosS0FBS1ksaUJBQWlCLElBQUk7UUFDL0M7UUFHRixPQUFPaEIscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUN2QlksU0FBU1AsT0FBT0QsTUFBTSxLQUFLO1lBQzNCUyxVQUFVUjtRQUNaO0lBRUYsRUFBRSxPQUFPRixPQUFPO1FBQ2RXLFFBQVFYLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU9SLHFEQUFZQSxDQUFDSyxJQUFJLENBQ3RCO1lBQ0VHLE9BQU87WUFDUFksU0FBU1osaUJBQWlCYSxRQUFRYixNQUFNWSxPQUFPLEdBQUc7UUFDcEQsR0FDQTtZQUFFWCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL29mZmljZS1mb290YmFsbC1wb29sLy4vc3JjL2FwcC9hcGkvcGlwZWxpbmUvcnVuL3JvdXRlLnRzPzMzMTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgcGlwZWxpbmVPcmNoZXN0cmF0b3IgfSBmcm9tICdAL3NlcnZpY2VzL3BpcGVsaW5lLW9yY2hlc3RyYXRvcidcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgIGlmICghYm9keS5waWNrc2hlZXRUZXh0ICYmICFib2R5LnBpY2tzaGVldEdhbWVzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdFaXRoZXIgcGlja3NoZWV0VGV4dCBvciBwaWNrc2hlZXRHYW1lcyBtdXN0IGJlIHByb3ZpZGVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBSdW4gcGlwZWxpbmVcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwaXBlbGluZU9yY2hlc3RyYXRvci5ydW5QaXBlbGluZShcbiAgICAgIHtcbiAgICAgICAgcGlja3NoZWV0VGV4dDogYm9keS5waWNrc2hlZXRUZXh0LFxuICAgICAgICBwaWNrc2hlZXRHYW1lczogYm9keS5waWNrc2hlZXRHYW1lcyxcbiAgICAgICAgbWFya2V0R2FtZXM6IGJvZHkubWFya2V0R2FtZXNcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVzZU9kZHNBUEk6IGJvZHkudXNlT2Rkc0FQSSA/PyB0cnVlLFxuICAgICAgICB1c2VMTE06IGJvZHkudXNlTExNID8/IHRydWUsXG4gICAgICAgIGluY2x1ZGVMb2dzOiBib2R5LmluY2x1ZGVMb2dzID8/IGZhbHNlLFxuICAgICAgICBtYXRjaGluZ1RocmVzaG9sZDogYm9keS5tYXRjaGluZ1RocmVzaG9sZCA/PyAwLjZcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogcmVzdWx0LnN0YXR1cyAhPT0gJ2ZhaWxlZCcsXG4gICAgICBwaXBlbGluZTogcmVzdWx0XG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1BpcGVsaW5lIGV4ZWN1dGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBlcnJvcjogJ1BpcGVsaW5lIGV4ZWN1dGlvbiBmYWlsZWQnLCBcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInBpcGVsaW5lT3JjaGVzdHJhdG9yIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInBpY2tzaGVldFRleHQiLCJwaWNrc2hlZXRHYW1lcyIsImVycm9yIiwic3RhdHVzIiwicmVzdWx0IiwicnVuUGlwZWxpbmUiLCJtYXJrZXRHYW1lcyIsInVzZU9kZHNBUEkiLCJ1c2VMTE0iLCJpbmNsdWRlTG9ncyIsIm1hdGNoaW5nVGhyZXNob2xkIiwic3VjY2VzcyIsInBpcGVsaW5lIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/pipeline/run/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/comparison-engine.ts":
/*!*******************************************!*\
  !*** ./src/services/comparison-engine.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComparisonEngine: () => (/* binding */ ComparisonEngine),\n/* harmony export */   comparisonEngine: () => (/* binding */ comparisonEngine)\n/* harmony export */ });\n// Key numbers in football betting\nconst KEY_NUMBERS = [\n    3,\n    7,\n    10,\n    14\n] // Most common margins of victory\n;\nclass ComparisonEngine {\n    /**\n   * Calculate spread delta between picksheet and market\n   */ calculateSpreadDelta(picksheetSpread, marketSpread) {\n        return picksheetSpread - marketSpread;\n    }\n    /**\n   * Check if spread difference crosses key numbers\n   */ checkKeyNumberCrossing(picksheetSpread, marketSpread) {\n        const crossedNumbers = [];\n        // Check each key number\n        for (const keyNum of KEY_NUMBERS){\n            // Check positive key number\n            if (picksheetSpread > keyNum && marketSpread < keyNum || picksheetSpread < keyNum && marketSpread > keyNum) {\n                crossedNumbers.push(keyNum);\n            }\n            // Check negative key number\n            if (picksheetSpread > -keyNum && marketSpread < -keyNum || picksheetSpread < -keyNum && marketSpread > -keyNum) {\n                crossedNumbers.push(-keyNum);\n            }\n        }\n        return {\n            crosses: crossedNumbers.length > 0,\n            numbers: crossedNumbers\n        };\n    }\n    /**\n   * Check if the favorite has flipped between picksheet and market\n   */ checkFavoriteFlip(picksheetSpread, marketSpread) {\n        // If signs are different, favorite has flipped\n        return picksheetSpread > 0 && marketSpread < 0 || picksheetSpread < 0 && marketSpread > 0;\n    }\n    /**\n   * Detect if teams are NFL or NCAAF based on names\n   */ detectLeague(homeTeam, awayTeam) {\n        // List of known NFL teams\n        const nflTeams = [\n            \"Cardinals\",\n            \"Falcons\",\n            \"Ravens\",\n            \"Bills\",\n            \"Panthers\",\n            \"Bears\",\n            \"Bengals\",\n            \"Browns\",\n            \"Cowboys\",\n            \"Broncos\",\n            \"Lions\",\n            \"Packers\",\n            \"Texans\",\n            \"Colts\",\n            \"Jaguars\",\n            \"Chiefs\",\n            \"Raiders\",\n            \"Chargers\",\n            \"Rams\",\n            \"Dolphins\",\n            \"Vikings\",\n            \"Patriots\",\n            \"Saints\",\n            \"Giants\",\n            \"Jets\",\n            \"Eagles\",\n            \"Steelers\",\n            \"49ers\",\n            \"Seahawks\",\n            \"Buccaneers\",\n            \"Titans\",\n            \"Commanders\",\n            \"Washington\"\n        ];\n        // Check if either team is an NFL team\n        for (const nflTeam of nflTeams){\n            if (homeTeam.includes(nflTeam) || awayTeam.includes(nflTeam)) {\n                return \"NFL\";\n            }\n        }\n        // Common NCAAF indicators - expanded list\n        const ncaafIndicators = [\n            \"State\",\n            \"University\",\n            \"College\",\n            \"Tech\",\n            \"A&M\",\n            \"Central\",\n            \"Eastern\",\n            \"Western\",\n            \"Northern\",\n            \"Southern\",\n            \"Carolina\",\n            \"Florida\",\n            \"Georgia\",\n            \"Alabama\",\n            \"Auburn\",\n            \"Tennessee\",\n            \"Kentucky\",\n            \"Virginia\",\n            \"Michigan\",\n            \"Ohio\",\n            \"Penn\",\n            \"Texas\",\n            \"Oklahoma\",\n            \"Kansas\",\n            \"Iowa\",\n            \"UCLA\",\n            \"USC\",\n            \"Stanford\",\n            \"California\",\n            \"Oregon\",\n            \"Washington\",\n            \"Arizona\",\n            \"Colorado\",\n            \"Utah\",\n            \"Nevada\",\n            \"Hawaii\",\n            \"Louisiana\",\n            \"Mississippi\",\n            \"Arkansas\",\n            \"Missouri\",\n            \"Illinois\",\n            \"Indiana\",\n            \"Wisconsin\",\n            \"Minnesota\",\n            \"Nebraska\",\n            \"Purdue\",\n            \"Northwestern\",\n            \"Rutgers\",\n            \"Maryland\",\n            \"Boston\",\n            \"Syracuse\",\n            \"Pittsburgh\",\n            \"Duke\",\n            \"Wake Forest\",\n            \"NC State\",\n            \"Clemson\",\n            \"Miami\",\n            \"FSU\",\n            \"UCF\",\n            \"USF\",\n            \"Temple\",\n            \"Navy\",\n            \"Army\",\n            \"Air Force\",\n            \"Notre Dame\",\n            \"BYU\",\n            \"TCU\",\n            \"Baylor\",\n            \"SMU\",\n            \"Houston\",\n            \"Rice\",\n            \"Tulane\",\n            \"Memphis\",\n            \"Vanderbilt\",\n            \"Ole Miss\",\n            \"LSU\"\n        ];\n        // Check for any NCAAF indicators\n        for (const indicator of ncaafIndicators){\n            if (homeTeam.includes(indicator) || awayTeam.includes(indicator)) {\n                return \"NCAAF\";\n            }\n        }\n        // If not identified as NFL and has any text, assume NCAAF\n        // (since college has many more teams)\n        return \"NCAAF\";\n    }\n    /**\n   * Compare a single game\n   */ compareGame(picksheetGame, marketGame, matchConfidence = 1.0) {\n        const spreadDelta = this.calculateSpreadDelta(picksheetGame.spread, marketGame.homeSpread);\n        const keyNumberCheck = this.checkKeyNumberCrossing(picksheetGame.spread, marketGame.homeSpread);\n        const favoriteFlipped = this.checkFavoriteFlip(picksheetGame.spread, marketGame.homeSpread);\n        // Use league from market data if available, otherwise detect\n        const league = marketGame.league || this.detectLeague(marketGame.homeTeam, marketGame.awayTeam);\n        return {\n            gameId: marketGame.gameId,\n            homeTeam: marketGame.homeTeam,\n            awayTeam: marketGame.awayTeam,\n            gameTime: marketGame.gameTime,\n            league,\n            picksheetSpread: picksheetGame.spread,\n            marketSpread: marketGame.homeSpread,\n            spreadDelta,\n            crossesKeyNumber: keyNumberCheck.crosses,\n            keyNumbersCrossed: keyNumberCheck.numbers,\n            favoriteFlipped,\n            confidence: matchConfidence,\n            matched: true\n        };\n    }\n    /**\n   * Compare multiple games and calculate KPIs\n   */ compareGames(picksheetGames, marketGames, matches) {\n        const comparisons = [];\n        const unmatchedPicksheet = new Set(picksheetGames.map((_, i)=>i));\n        const unmatchedMarket = new Set(marketGames.map((_, i)=>i));\n        // Process matches\n        for (const match of matches){\n            const picksheetGame = picksheetGames[match.picksheetIndex];\n            const marketGame = marketGames[match.marketIndex];\n            if (picksheetGame && marketGame) {\n                comparisons.push(this.compareGame(picksheetGame, marketGame, match.confidence));\n                unmatchedPicksheet.delete(match.picksheetIndex);\n                unmatchedMarket.delete(match.marketIndex);\n            }\n        }\n        // Build unmatched list\n        const unmatched = [];\n        for (const idx of Array.from(unmatchedPicksheet)){\n            const game = picksheetGames[idx];\n            unmatched.push({\n                source: \"picksheet\",\n                gameInfo: `${game.awayTeam} @ ${game.homeTeam} (${game.spread})`,\n                reason: \"No matching market game found\",\n                gameTime: game.gameTime\n            });\n        }\n        for (const idx of Array.from(unmatchedMarket)){\n            const game = marketGames[idx];\n            unmatched.push({\n                source: \"market\",\n                gameInfo: `${game.awayTeam} @ ${game.homeTeam} (${game.homeSpread})`,\n                reason: \"No matching picksheet game found\",\n                gameTime: game.gameTime\n            });\n        }\n        // Calculate KPIs\n        const kpis = this.calculateKPIs(comparisons, picksheetGames.length, unmatched.filter((u)=>u.source === \"picksheet\").length);\n        return {\n            comparisons,\n            kpis,\n            unmatched\n        };\n    }\n    /**\n   * Calculate KPIs from comparisons\n   */ calculateKPIs(comparisons, totalPicksheetGames, unmatchedPicksheetGames) {\n        const matchedGames = comparisons.length;\n        const totalGames = totalPicksheetGames;\n        if (matchedGames === 0) {\n            return {\n                totalGames,\n                matchedGames: 0,\n                unmatchedGames: unmatchedPicksheetGames,\n                matchRate: 0,\n                avgSpreadDelta: 0,\n                medianSpreadDelta: 0,\n                p95SpreadDelta: 0,\n                stdDevSpreadDelta: 0,\n                keyNumberCrossings: 0,\n                keyNumberCrossingRate: 0,\n                favoriteFlips: 0,\n                favoriteFlipRate: 0,\n                largestDelta: null,\n                timestamp: new Date().toISOString()\n            };\n        }\n        // Extract deltas\n        const deltas = comparisons.map((c)=>Math.abs(c.spreadDelta));\n        // Calculate average\n        const avgSpreadDelta = deltas.reduce((sum, d)=>sum + d, 0) / deltas.length;\n        // Calculate median\n        const sortedDeltas = [\n            ...deltas\n        ].sort((a, b)=>a - b);\n        const medianSpreadDelta = sortedDeltas[Math.floor(sortedDeltas.length / 2)];\n        // Calculate 95th percentile\n        const p95Index = Math.floor(sortedDeltas.length * 0.95);\n        const p95SpreadDelta = sortedDeltas[Math.min(p95Index, sortedDeltas.length - 1)];\n        // Calculate standard deviation\n        const variance = deltas.reduce((sum, d)=>sum + Math.pow(d - avgSpreadDelta, 2), 0) / deltas.length;\n        const stdDevSpreadDelta = Math.sqrt(variance);\n        // Count key number crossings\n        const keyNumberCrossings = comparisons.filter((c)=>c.crossesKeyNumber).length;\n        const keyNumberCrossingRate = keyNumberCrossings / matchedGames;\n        // Count favorite flips\n        const favoriteFlips = comparisons.filter((c)=>c.favoriteFlipped).length;\n        const favoriteFlipRate = favoriteFlips / matchedGames;\n        // Find largest delta\n        let largestDelta = null;\n        if (comparisons.length > 0) {\n            const maxComparison = comparisons.reduce((max, c)=>Math.abs(c.spreadDelta) > Math.abs(max.spreadDelta) ? c : max);\n            largestDelta = {\n                gameId: maxComparison.gameId,\n                teams: `${maxComparison.awayTeam} @ ${maxComparison.homeTeam}`,\n                delta: maxComparison.spreadDelta\n            };\n        }\n        return {\n            totalGames,\n            matchedGames,\n            unmatchedGames: unmatchedPicksheetGames,\n            matchRate: matchedGames / totalGames,\n            avgSpreadDelta: Number(avgSpreadDelta.toFixed(2)),\n            medianSpreadDelta: Number(medianSpreadDelta.toFixed(2)),\n            p95SpreadDelta: Number(p95SpreadDelta.toFixed(2)),\n            stdDevSpreadDelta: Number(stdDevSpreadDelta.toFixed(2)),\n            keyNumberCrossings,\n            keyNumberCrossingRate: Number(keyNumberCrossingRate.toFixed(3)),\n            favoriteFlips,\n            favoriteFlipRate: Number(favoriteFlipRate.toFixed(3)),\n            largestDelta,\n            timestamp: new Date().toISOString()\n        };\n    }\n    /**\n   * Format spread for display (e.g., \"DAL -3.5\" or \"PHI +7\")\n   */ static formatSpread(team, spread) {\n        if (spread === 0) return `${team} PK`;\n        const sign = spread > 0 ? \"+\" : \"\";\n        return `${team} ${sign}${spread}`;\n    }\n    /**\n   * Get risk level based on spread delta\n   */ static getRiskLevel(delta) {\n        const absDelta = Math.abs(delta);\n        if (absDelta <= 2) return \"low\";\n        if (absDelta <= 4) return \"medium\";\n        if (absDelta <= 7) return \"high\";\n        return \"critical\";\n    }\n    /**\n   * Get color class for risk level\n   */ static getRiskColor(riskLevel) {\n        switch(riskLevel){\n            case \"low\":\n                return \"text-green-600\";\n            case \"medium\":\n                return \"text-yellow-600\";\n            case \"high\":\n                return \"text-orange-600\";\n            case \"critical\":\n                return \"text-red-600\";\n            default:\n                return \"text-gray-600\";\n        }\n    }\n}\n// Export singleton instance\nconst comparisonEngine = new ComparisonEngine();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YmFsbC1wb29sLy4vc3JjL3NlcnZpY2VzL2NvbXBhcmlzb24tZW5naW5lLnRzPzgxYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gS2V5IG51bWJlcnMgaW4gZm9vdGJhbGwgYmV0dGluZ1xuY29uc3QgS0VZX05VTUJFUlMgPSBbMywgNywgMTAsIDE0XSAvLyBNb3N0IGNvbW1vbiBtYXJnaW5zIG9mIHZpY3RvcnlcblxuLy8gVHlwZXMgZm9yIGNvbXBhcmlzb24gZGF0YVxuZXhwb3J0IGludGVyZmFjZSBHYW1lQ29tcGFyaXNvbiB7XG4gIGdhbWVJZDogc3RyaW5nXG4gIGhvbWVUZWFtOiBzdHJpbmdcbiAgYXdheVRlYW06IHN0cmluZ1xuICBnYW1lVGltZTogc3RyaW5nXG4gIGxlYWd1ZT86ICdORkwnIHwgJ05DQUFGJ1xuICBwaWNrc2hlZXRTcHJlYWQ6IG51bWJlclxuICBtYXJrZXRTcHJlYWQ6IG51bWJlclxuICBzcHJlYWREZWx0YTogbnVtYmVyIC8vIHBpY2tzaGVldCAtIG1hcmtldFxuICBjcm9zc2VzS2V5TnVtYmVyOiBib29sZWFuXG4gIGtleU51bWJlcnNDcm9zc2VkOiBudW1iZXJbXVxuICBmYXZvcml0ZUZsaXBwZWQ6IGJvb2xlYW4gLy8gSWYgZmF2b3JpdGUgc3dpdGNoZWQgYmV0d2VlbiBwaWNrc2hlZXQgYW5kIG1hcmtldFxuICBjb25maWRlbmNlOiBudW1iZXJcbiAgbWF0Y2hlZDogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBhcmlzb25LUElzIHtcbiAgdG90YWxHYW1lczogbnVtYmVyXG4gIG1hdGNoZWRHYW1lczogbnVtYmVyXG4gIHVubWF0Y2hlZEdhbWVzOiBudW1iZXJcbiAgbWF0Y2hSYXRlOiBudW1iZXJcbiAgYXZnU3ByZWFkRGVsdGE6IG51bWJlclxuICBtZWRpYW5TcHJlYWREZWx0YTogbnVtYmVyXG4gIHA5NVNwcmVhZERlbHRhOiBudW1iZXIgLy8gOTV0aCBwZXJjZW50aWxlXG4gIHN0ZERldlNwcmVhZERlbHRhOiBudW1iZXJcbiAga2V5TnVtYmVyQ3Jvc3NpbmdzOiBudW1iZXJcbiAga2V5TnVtYmVyQ3Jvc3NpbmdSYXRlOiBudW1iZXJcbiAgZmF2b3JpdGVGbGlwczogbnVtYmVyXG4gIGZhdm9yaXRlRmxpcFJhdGU6IG51bWJlclxuICBsYXJnZXN0RGVsdGE6IHtcbiAgICBnYW1lSWQ6IHN0cmluZ1xuICAgIHRlYW1zOiBzdHJpbmdcbiAgICBkZWx0YTogbnVtYmVyXG4gIH0gfCBudWxsXG4gIHRpbWVzdGFtcDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5tYXRjaGVkR2FtZSB7XG4gIHNvdXJjZTogJ3BpY2tzaGVldCcgfCAnbWFya2V0J1xuICBnYW1lSW5mbzogc3RyaW5nXG4gIHJlYXNvbjogc3RyaW5nXG4gIGdhbWVUaW1lPzogc3RyaW5nIC8vIEFkZGVkIHRvIHRyYWNrIGdhbWUgdGltZSBmb3IgZmlsdGVyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYXJpc29uRW5naW5lIHtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBzcHJlYWQgZGVsdGEgYmV0d2VlbiBwaWNrc2hlZXQgYW5kIG1hcmtldFxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVTcHJlYWREZWx0YShwaWNrc2hlZXRTcHJlYWQ6IG51bWJlciwgbWFya2V0U3ByZWFkOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBwaWNrc2hlZXRTcHJlYWQgLSBtYXJrZXRTcHJlYWRcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBzcHJlYWQgZGlmZmVyZW5jZSBjcm9zc2VzIGtleSBudW1iZXJzXG4gICAqL1xuICBwcml2YXRlIGNoZWNrS2V5TnVtYmVyQ3Jvc3NpbmcoXG4gICAgcGlja3NoZWV0U3ByZWFkOiBudW1iZXIsIFxuICAgIG1hcmtldFNwcmVhZDogbnVtYmVyXG4gICk6IHsgY3Jvc3NlczogYm9vbGVhbjsgbnVtYmVyczogbnVtYmVyW10gfSB7XG4gICAgY29uc3QgY3Jvc3NlZE51bWJlcnM6IG51bWJlcltdID0gW11cbiAgICBcbiAgICAvLyBDaGVjayBlYWNoIGtleSBudW1iZXJcbiAgICBmb3IgKGNvbnN0IGtleU51bSBvZiBLRVlfTlVNQkVSUykge1xuICAgICAgLy8gQ2hlY2sgcG9zaXRpdmUga2V5IG51bWJlclxuICAgICAgaWYgKChwaWNrc2hlZXRTcHJlYWQgPiBrZXlOdW0gJiYgbWFya2V0U3ByZWFkIDwga2V5TnVtKSB8fFxuICAgICAgICAgIChwaWNrc2hlZXRTcHJlYWQgPCBrZXlOdW0gJiYgbWFya2V0U3ByZWFkID4ga2V5TnVtKSkge1xuICAgICAgICBjcm9zc2VkTnVtYmVycy5wdXNoKGtleU51bSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgbmVnYXRpdmUga2V5IG51bWJlclxuICAgICAgaWYgKChwaWNrc2hlZXRTcHJlYWQgPiAta2V5TnVtICYmIG1hcmtldFNwcmVhZCA8IC1rZXlOdW0pIHx8XG4gICAgICAgICAgKHBpY2tzaGVldFNwcmVhZCA8IC1rZXlOdW0gJiYgbWFya2V0U3ByZWFkID4gLWtleU51bSkpIHtcbiAgICAgICAgY3Jvc3NlZE51bWJlcnMucHVzaCgta2V5TnVtKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgY3Jvc3NlczogY3Jvc3NlZE51bWJlcnMubGVuZ3RoID4gMCxcbiAgICAgIG51bWJlcnM6IGNyb3NzZWROdW1iZXJzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBmYXZvcml0ZSBoYXMgZmxpcHBlZCBiZXR3ZWVuIHBpY2tzaGVldCBhbmQgbWFya2V0XG4gICAqL1xuICBwcml2YXRlIGNoZWNrRmF2b3JpdGVGbGlwKHBpY2tzaGVldFNwcmVhZDogbnVtYmVyLCBtYXJrZXRTcHJlYWQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vIElmIHNpZ25zIGFyZSBkaWZmZXJlbnQsIGZhdm9yaXRlIGhhcyBmbGlwcGVkXG4gICAgcmV0dXJuIChwaWNrc2hlZXRTcHJlYWQgPiAwICYmIG1hcmtldFNwcmVhZCA8IDApIHx8IFxuICAgICAgICAgICAocGlja3NoZWV0U3ByZWFkIDwgMCAmJiBtYXJrZXRTcHJlYWQgPiAwKVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCBpZiB0ZWFtcyBhcmUgTkZMIG9yIE5DQUFGIGJhc2VkIG9uIG5hbWVzXG4gICAqL1xuICBwcml2YXRlIGRldGVjdExlYWd1ZShob21lVGVhbTogc3RyaW5nLCBhd2F5VGVhbTogc3RyaW5nKTogJ05GTCcgfCAnTkNBQUYnIHwgdW5kZWZpbmVkIHtcbiAgICAvLyBMaXN0IG9mIGtub3duIE5GTCB0ZWFtc1xuICAgIGNvbnN0IG5mbFRlYW1zID0gW1xuICAgICAgJ0NhcmRpbmFscycsICdGYWxjb25zJywgJ1JhdmVucycsICdCaWxscycsICdQYW50aGVycycsICdCZWFycycsICdCZW5nYWxzJywgXG4gICAgICAnQnJvd25zJywgJ0Nvd2JveXMnLCAnQnJvbmNvcycsICdMaW9ucycsICdQYWNrZXJzJywgJ1RleGFucycsICdDb2x0cycsIFxuICAgICAgJ0phZ3VhcnMnLCAnQ2hpZWZzJywgJ1JhaWRlcnMnLCAnQ2hhcmdlcnMnLCAnUmFtcycsICdEb2xwaGlucycsICdWaWtpbmdzJywgXG4gICAgICAnUGF0cmlvdHMnLCAnU2FpbnRzJywgJ0dpYW50cycsICdKZXRzJywgJ0VhZ2xlcycsICdTdGVlbGVycycsICc0OWVycycsIFxuICAgICAgJ1NlYWhhd2tzJywgJ0J1Y2NhbmVlcnMnLCAnVGl0YW5zJywgJ0NvbW1hbmRlcnMnLCAnV2FzaGluZ3RvbidcbiAgICBdXG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZWl0aGVyIHRlYW0gaXMgYW4gTkZMIHRlYW1cbiAgICBmb3IgKGNvbnN0IG5mbFRlYW0gb2YgbmZsVGVhbXMpIHtcbiAgICAgIGlmIChob21lVGVhbS5pbmNsdWRlcyhuZmxUZWFtKSB8fCBhd2F5VGVhbS5pbmNsdWRlcyhuZmxUZWFtKSkge1xuICAgICAgICByZXR1cm4gJ05GTCdcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ29tbW9uIE5DQUFGIGluZGljYXRvcnMgLSBleHBhbmRlZCBsaXN0XG4gICAgY29uc3QgbmNhYWZJbmRpY2F0b3JzID0gW1xuICAgICAgJ1N0YXRlJywgJ1VuaXZlcnNpdHknLCAnQ29sbGVnZScsICdUZWNoJywgJ0EmTScsIFxuICAgICAgJ0NlbnRyYWwnLCAnRWFzdGVybicsICdXZXN0ZXJuJywgJ05vcnRoZXJuJywgJ1NvdXRoZXJuJyxcbiAgICAgICdDYXJvbGluYScsICdGbG9yaWRhJywgJ0dlb3JnaWEnLCAnQWxhYmFtYScsICdBdWJ1cm4nLFxuICAgICAgJ1Rlbm5lc3NlZScsICdLZW50dWNreScsICdWaXJnaW5pYScsICdNaWNoaWdhbicsICdPaGlvJyxcbiAgICAgICdQZW5uJywgJ1RleGFzJywgJ09rbGFob21hJywgJ0thbnNhcycsICdJb3dhJywgJ1VDTEEnLFxuICAgICAgJ1VTQycsICdTdGFuZm9yZCcsICdDYWxpZm9ybmlhJywgJ09yZWdvbicsICdXYXNoaW5ndG9uJyxcbiAgICAgICdBcml6b25hJywgJ0NvbG9yYWRvJywgJ1V0YWgnLCAnTmV2YWRhJywgJ0hhd2FpaScsXG4gICAgICAnTG91aXNpYW5hJywgJ01pc3Npc3NpcHBpJywgJ0Fya2Fuc2FzJywgJ01pc3NvdXJpJyxcbiAgICAgICdJbGxpbm9pcycsICdJbmRpYW5hJywgJ1dpc2NvbnNpbicsICdNaW5uZXNvdGEnLFxuICAgICAgJ05lYnJhc2thJywgJ1B1cmR1ZScsICdOb3J0aHdlc3Rlcm4nLCAnUnV0Z2VycycsXG4gICAgICAnTWFyeWxhbmQnLCAnQm9zdG9uJywgJ1N5cmFjdXNlJywgJ1BpdHRzYnVyZ2gnLFxuICAgICAgJ0R1a2UnLCAnV2FrZSBGb3Jlc3QnLCAnTkMgU3RhdGUnLCAnQ2xlbXNvbicsXG4gICAgICAnTWlhbWknLCAnRlNVJywgJ1VDRicsICdVU0YnLCAnVGVtcGxlJywgJ05hdnknLFxuICAgICAgJ0FybXknLCAnQWlyIEZvcmNlJywgJ05vdHJlIERhbWUnLCAnQllVJywgJ1RDVScsXG4gICAgICAnQmF5bG9yJywgJ1NNVScsICdIb3VzdG9uJywgJ1JpY2UnLCAnVHVsYW5lJyxcbiAgICAgICdNZW1waGlzJywgJ1ZhbmRlcmJpbHQnLCAnT2xlIE1pc3MnLCAnTFNVJ1xuICAgIF1cbiAgICBcbiAgICAvLyBDaGVjayBmb3IgYW55IE5DQUFGIGluZGljYXRvcnNcbiAgICBmb3IgKGNvbnN0IGluZGljYXRvciBvZiBuY2FhZkluZGljYXRvcnMpIHtcbiAgICAgIGlmIChob21lVGVhbS5pbmNsdWRlcyhpbmRpY2F0b3IpIHx8IGF3YXlUZWFtLmluY2x1ZGVzKGluZGljYXRvcikpIHtcbiAgICAgICAgcmV0dXJuICdOQ0FBRidcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSWYgbm90IGlkZW50aWZpZWQgYXMgTkZMIGFuZCBoYXMgYW55IHRleHQsIGFzc3VtZSBOQ0FBRlxuICAgIC8vIChzaW5jZSBjb2xsZWdlIGhhcyBtYW55IG1vcmUgdGVhbXMpXG4gICAgcmV0dXJuICdOQ0FBRidcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXJlIGEgc2luZ2xlIGdhbWVcbiAgICovXG4gIGNvbXBhcmVHYW1lKFxuICAgIHBpY2tzaGVldEdhbWU6IHtcbiAgICAgIGhvbWVUZWFtOiBzdHJpbmdcbiAgICAgIGF3YXlUZWFtOiBzdHJpbmdcbiAgICAgIHNwcmVhZDogbnVtYmVyXG4gICAgICBnYW1lVGltZT86IHN0cmluZ1xuICAgIH0sXG4gICAgbWFya2V0R2FtZToge1xuICAgICAgZ2FtZUlkOiBzdHJpbmdcbiAgICAgIGhvbWVUZWFtOiBzdHJpbmdcbiAgICAgIGF3YXlUZWFtOiBzdHJpbmdcbiAgICAgIGhvbWVTcHJlYWQ6IG51bWJlclxuICAgICAgZ2FtZVRpbWU6IHN0cmluZ1xuICAgICAgbGVhZ3VlPzogJ05GTCcgfCAnTkNBQUYnXG4gICAgfSxcbiAgICBtYXRjaENvbmZpZGVuY2U6IG51bWJlciA9IDEuMFxuICApOiBHYW1lQ29tcGFyaXNvbiB7XG4gICAgY29uc3Qgc3ByZWFkRGVsdGEgPSB0aGlzLmNhbGN1bGF0ZVNwcmVhZERlbHRhKFxuICAgICAgcGlja3NoZWV0R2FtZS5zcHJlYWQsXG4gICAgICBtYXJrZXRHYW1lLmhvbWVTcHJlYWRcbiAgICApXG4gICAgXG4gICAgY29uc3Qga2V5TnVtYmVyQ2hlY2sgPSB0aGlzLmNoZWNrS2V5TnVtYmVyQ3Jvc3NpbmcoXG4gICAgICBwaWNrc2hlZXRHYW1lLnNwcmVhZCxcbiAgICAgIG1hcmtldEdhbWUuaG9tZVNwcmVhZFxuICAgIClcbiAgICBcbiAgICBjb25zdCBmYXZvcml0ZUZsaXBwZWQgPSB0aGlzLmNoZWNrRmF2b3JpdGVGbGlwKFxuICAgICAgcGlja3NoZWV0R2FtZS5zcHJlYWQsXG4gICAgICBtYXJrZXRHYW1lLmhvbWVTcHJlYWRcbiAgICApXG4gICAgXG4gICAgLy8gVXNlIGxlYWd1ZSBmcm9tIG1hcmtldCBkYXRhIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGRldGVjdFxuICAgIGNvbnN0IGxlYWd1ZSA9IG1hcmtldEdhbWUubGVhZ3VlIHx8IHRoaXMuZGV0ZWN0TGVhZ3VlKG1hcmtldEdhbWUuaG9tZVRlYW0sIG1hcmtldEdhbWUuYXdheVRlYW0pXG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGdhbWVJZDogbWFya2V0R2FtZS5nYW1lSWQsXG4gICAgICBob21lVGVhbTogbWFya2V0R2FtZS5ob21lVGVhbSxcbiAgICAgIGF3YXlUZWFtOiBtYXJrZXRHYW1lLmF3YXlUZWFtLFxuICAgICAgZ2FtZVRpbWU6IG1hcmtldEdhbWUuZ2FtZVRpbWUsXG4gICAgICBsZWFndWUsXG4gICAgICBwaWNrc2hlZXRTcHJlYWQ6IHBpY2tzaGVldEdhbWUuc3ByZWFkLFxuICAgICAgbWFya2V0U3ByZWFkOiBtYXJrZXRHYW1lLmhvbWVTcHJlYWQsXG4gICAgICBzcHJlYWREZWx0YSxcbiAgICAgIGNyb3NzZXNLZXlOdW1iZXI6IGtleU51bWJlckNoZWNrLmNyb3NzZXMsXG4gICAgICBrZXlOdW1iZXJzQ3Jvc3NlZDoga2V5TnVtYmVyQ2hlY2subnVtYmVycyxcbiAgICAgIGZhdm9yaXRlRmxpcHBlZCxcbiAgICAgIGNvbmZpZGVuY2U6IG1hdGNoQ29uZmlkZW5jZSxcbiAgICAgIG1hdGNoZWQ6IHRydWVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyZSBtdWx0aXBsZSBnYW1lcyBhbmQgY2FsY3VsYXRlIEtQSXNcbiAgICovXG4gIGNvbXBhcmVHYW1lcyhcbiAgICBwaWNrc2hlZXRHYW1lczogQXJyYXk8e1xuICAgICAgaG9tZVRlYW06IHN0cmluZ1xuICAgICAgYXdheVRlYW06IHN0cmluZ1xuICAgICAgc3ByZWFkOiBudW1iZXJcbiAgICAgIGdhbWVUaW1lPzogc3RyaW5nXG4gICAgfT4sXG4gICAgbWFya2V0R2FtZXM6IEFycmF5PHtcbiAgICAgIGdhbWVJZDogc3RyaW5nXG4gICAgICBob21lVGVhbTogc3RyaW5nXG4gICAgICBhd2F5VGVhbTogc3RyaW5nXG4gICAgICBob21lU3ByZWFkOiBudW1iZXJcbiAgICAgIGdhbWVUaW1lOiBzdHJpbmdcbiAgICAgIGxlYWd1ZT86ICdORkwnIHwgJ05DQUFGJ1xuICAgIH0+LFxuICAgIG1hdGNoZXM6IEFycmF5PHtcbiAgICAgIHBpY2tzaGVldEluZGV4OiBudW1iZXJcbiAgICAgIG1hcmtldEluZGV4OiBudW1iZXJcbiAgICAgIGNvbmZpZGVuY2U6IG51bWJlclxuICAgIH0+XG4gICk6IHtcbiAgICBjb21wYXJpc29uczogR2FtZUNvbXBhcmlzb25bXVxuICAgIGtwaXM6IENvbXBhcmlzb25LUElzXG4gICAgdW5tYXRjaGVkOiBVbm1hdGNoZWRHYW1lW11cbiAgfSB7XG4gICAgY29uc3QgY29tcGFyaXNvbnM6IEdhbWVDb21wYXJpc29uW10gPSBbXVxuICAgIGNvbnN0IHVubWF0Y2hlZFBpY2tzaGVldCA9IG5ldyBTZXQocGlja3NoZWV0R2FtZXMubWFwKChfLCBpKSA9PiBpKSlcbiAgICBjb25zdCB1bm1hdGNoZWRNYXJrZXQgPSBuZXcgU2V0KG1hcmtldEdhbWVzLm1hcCgoXywgaSkgPT4gaSkpXG4gICAgXG4gICAgLy8gUHJvY2VzcyBtYXRjaGVzXG4gICAgZm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICBjb25zdCBwaWNrc2hlZXRHYW1lID0gcGlja3NoZWV0R2FtZXNbbWF0Y2gucGlja3NoZWV0SW5kZXhdXG4gICAgICBjb25zdCBtYXJrZXRHYW1lID0gbWFya2V0R2FtZXNbbWF0Y2gubWFya2V0SW5kZXhdXG4gICAgICBcbiAgICAgIGlmIChwaWNrc2hlZXRHYW1lICYmIG1hcmtldEdhbWUpIHtcbiAgICAgICAgY29tcGFyaXNvbnMucHVzaChcbiAgICAgICAgICB0aGlzLmNvbXBhcmVHYW1lKHBpY2tzaGVldEdhbWUsIG1hcmtldEdhbWUsIG1hdGNoLmNvbmZpZGVuY2UpXG4gICAgICAgIClcbiAgICAgICAgdW5tYXRjaGVkUGlja3NoZWV0LmRlbGV0ZShtYXRjaC5waWNrc2hlZXRJbmRleClcbiAgICAgICAgdW5tYXRjaGVkTWFya2V0LmRlbGV0ZShtYXRjaC5tYXJrZXRJbmRleClcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQnVpbGQgdW5tYXRjaGVkIGxpc3RcbiAgICBjb25zdCB1bm1hdGNoZWQ6IFVubWF0Y2hlZEdhbWVbXSA9IFtdXG4gICAgXG4gICAgZm9yIChjb25zdCBpZHggb2YgQXJyYXkuZnJvbSh1bm1hdGNoZWRQaWNrc2hlZXQpKSB7XG4gICAgICBjb25zdCBnYW1lID0gcGlja3NoZWV0R2FtZXNbaWR4XVxuICAgICAgdW5tYXRjaGVkLnB1c2goe1xuICAgICAgICBzb3VyY2U6ICdwaWNrc2hlZXQnLFxuICAgICAgICBnYW1lSW5mbzogYCR7Z2FtZS5hd2F5VGVhbX0gQCAke2dhbWUuaG9tZVRlYW19ICgke2dhbWUuc3ByZWFkfSlgLFxuICAgICAgICByZWFzb246ICdObyBtYXRjaGluZyBtYXJrZXQgZ2FtZSBmb3VuZCcsXG4gICAgICAgIGdhbWVUaW1lOiBnYW1lLmdhbWVUaW1lXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBmb3IgKGNvbnN0IGlkeCBvZiBBcnJheS5mcm9tKHVubWF0Y2hlZE1hcmtldCkpIHtcbiAgICAgIGNvbnN0IGdhbWUgPSBtYXJrZXRHYW1lc1tpZHhdXG4gICAgICB1bm1hdGNoZWQucHVzaCh7XG4gICAgICAgIHNvdXJjZTogJ21hcmtldCcsXG4gICAgICAgIGdhbWVJbmZvOiBgJHtnYW1lLmF3YXlUZWFtfSBAICR7Z2FtZS5ob21lVGVhbX0gKCR7Z2FtZS5ob21lU3ByZWFkfSlgLFxuICAgICAgICByZWFzb246ICdObyBtYXRjaGluZyBwaWNrc2hlZXQgZ2FtZSBmb3VuZCcsXG4gICAgICAgIGdhbWVUaW1lOiBnYW1lLmdhbWVUaW1lXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgS1BJc1xuICAgIGNvbnN0IGtwaXMgPSB0aGlzLmNhbGN1bGF0ZUtQSXMoXG4gICAgICBjb21wYXJpc29ucyxcbiAgICAgIHBpY2tzaGVldEdhbWVzLmxlbmd0aCxcbiAgICAgIHVubWF0Y2hlZC5maWx0ZXIodSA9PiB1LnNvdXJjZSA9PT0gJ3BpY2tzaGVldCcpLmxlbmd0aFxuICAgIClcbiAgICBcbiAgICByZXR1cm4geyBjb21wYXJpc29ucywga3BpcywgdW5tYXRjaGVkIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgS1BJcyBmcm9tIGNvbXBhcmlzb25zXG4gICAqL1xuICBjYWxjdWxhdGVLUElzKFxuICAgIGNvbXBhcmlzb25zOiBHYW1lQ29tcGFyaXNvbltdLFxuICAgIHRvdGFsUGlja3NoZWV0R2FtZXM6IG51bWJlcixcbiAgICB1bm1hdGNoZWRQaWNrc2hlZXRHYW1lczogbnVtYmVyXG4gICk6IENvbXBhcmlzb25LUElzIHtcbiAgICBjb25zdCBtYXRjaGVkR2FtZXMgPSBjb21wYXJpc29ucy5sZW5ndGhcbiAgICBjb25zdCB0b3RhbEdhbWVzID0gdG90YWxQaWNrc2hlZXRHYW1lc1xuICAgIFxuICAgIGlmIChtYXRjaGVkR2FtZXMgPT09IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsR2FtZXMsXG4gICAgICAgIG1hdGNoZWRHYW1lczogMCxcbiAgICAgICAgdW5tYXRjaGVkR2FtZXM6IHVubWF0Y2hlZFBpY2tzaGVldEdhbWVzLFxuICAgICAgICBtYXRjaFJhdGU6IDAsXG4gICAgICAgIGF2Z1NwcmVhZERlbHRhOiAwLFxuICAgICAgICBtZWRpYW5TcHJlYWREZWx0YTogMCxcbiAgICAgICAgcDk1U3ByZWFkRGVsdGE6IDAsXG4gICAgICAgIHN0ZERldlNwcmVhZERlbHRhOiAwLFxuICAgICAgICBrZXlOdW1iZXJDcm9zc2luZ3M6IDAsXG4gICAgICAgIGtleU51bWJlckNyb3NzaW5nUmF0ZTogMCxcbiAgICAgICAgZmF2b3JpdGVGbGlwczogMCxcbiAgICAgICAgZmF2b3JpdGVGbGlwUmF0ZTogMCxcbiAgICAgICAgbGFyZ2VzdERlbHRhOiBudWxsLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBFeHRyYWN0IGRlbHRhc1xuICAgIGNvbnN0IGRlbHRhcyA9IGNvbXBhcmlzb25zLm1hcChjID0+IE1hdGguYWJzKGMuc3ByZWFkRGVsdGEpKVxuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlXG4gICAgY29uc3QgYXZnU3ByZWFkRGVsdGEgPSBkZWx0YXMucmVkdWNlKChzdW0sIGQpID0+IHN1bSArIGQsIDApIC8gZGVsdGFzLmxlbmd0aFxuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBtZWRpYW5cbiAgICBjb25zdCBzb3J0ZWREZWx0YXMgPSBbLi4uZGVsdGFzXS5zb3J0KChhLCBiKSA9PiBhIC0gYilcbiAgICBjb25zdCBtZWRpYW5TcHJlYWREZWx0YSA9IHNvcnRlZERlbHRhc1tNYXRoLmZsb29yKHNvcnRlZERlbHRhcy5sZW5ndGggLyAyKV1cbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgOTV0aCBwZXJjZW50aWxlXG4gICAgY29uc3QgcDk1SW5kZXggPSBNYXRoLmZsb29yKHNvcnRlZERlbHRhcy5sZW5ndGggKiAwLjk1KVxuICAgIGNvbnN0IHA5NVNwcmVhZERlbHRhID0gc29ydGVkRGVsdGFzW01hdGgubWluKHA5NUluZGV4LCBzb3J0ZWREZWx0YXMubGVuZ3RoIC0gMSldXG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHN0YW5kYXJkIGRldmlhdGlvblxuICAgIGNvbnN0IHZhcmlhbmNlID0gZGVsdGFzLnJlZHVjZSgoc3VtLCBkKSA9PiBzdW0gKyBNYXRoLnBvdyhkIC0gYXZnU3ByZWFkRGVsdGEsIDIpLCAwKSAvIGRlbHRhcy5sZW5ndGhcbiAgICBjb25zdCBzdGREZXZTcHJlYWREZWx0YSA9IE1hdGguc3FydCh2YXJpYW5jZSlcbiAgICBcbiAgICAvLyBDb3VudCBrZXkgbnVtYmVyIGNyb3NzaW5nc1xuICAgIGNvbnN0IGtleU51bWJlckNyb3NzaW5ncyA9IGNvbXBhcmlzb25zLmZpbHRlcihjID0+IGMuY3Jvc3Nlc0tleU51bWJlcikubGVuZ3RoXG4gICAgY29uc3Qga2V5TnVtYmVyQ3Jvc3NpbmdSYXRlID0ga2V5TnVtYmVyQ3Jvc3NpbmdzIC8gbWF0Y2hlZEdhbWVzXG4gICAgXG4gICAgLy8gQ291bnQgZmF2b3JpdGUgZmxpcHNcbiAgICBjb25zdCBmYXZvcml0ZUZsaXBzID0gY29tcGFyaXNvbnMuZmlsdGVyKGMgPT4gYy5mYXZvcml0ZUZsaXBwZWQpLmxlbmd0aFxuICAgIGNvbnN0IGZhdm9yaXRlRmxpcFJhdGUgPSBmYXZvcml0ZUZsaXBzIC8gbWF0Y2hlZEdhbWVzXG4gICAgXG4gICAgLy8gRmluZCBsYXJnZXN0IGRlbHRhXG4gICAgbGV0IGxhcmdlc3REZWx0YSA9IG51bGxcbiAgICBpZiAoY29tcGFyaXNvbnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbWF4Q29tcGFyaXNvbiA9IGNvbXBhcmlzb25zLnJlZHVjZSgobWF4LCBjKSA9PiBcbiAgICAgICAgTWF0aC5hYnMoYy5zcHJlYWREZWx0YSkgPiBNYXRoLmFicyhtYXguc3ByZWFkRGVsdGEpID8gYyA6IG1heFxuICAgICAgKVxuICAgICAgbGFyZ2VzdERlbHRhID0ge1xuICAgICAgICBnYW1lSWQ6IG1heENvbXBhcmlzb24uZ2FtZUlkLFxuICAgICAgICB0ZWFtczogYCR7bWF4Q29tcGFyaXNvbi5hd2F5VGVhbX0gQCAke21heENvbXBhcmlzb24uaG9tZVRlYW19YCxcbiAgICAgICAgZGVsdGE6IG1heENvbXBhcmlzb24uc3ByZWFkRGVsdGFcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsR2FtZXMsXG4gICAgICBtYXRjaGVkR2FtZXMsXG4gICAgICB1bm1hdGNoZWRHYW1lczogdW5tYXRjaGVkUGlja3NoZWV0R2FtZXMsXG4gICAgICBtYXRjaFJhdGU6IG1hdGNoZWRHYW1lcyAvIHRvdGFsR2FtZXMsXG4gICAgICBhdmdTcHJlYWREZWx0YTogTnVtYmVyKGF2Z1NwcmVhZERlbHRhLnRvRml4ZWQoMikpLFxuICAgICAgbWVkaWFuU3ByZWFkRGVsdGE6IE51bWJlcihtZWRpYW5TcHJlYWREZWx0YS50b0ZpeGVkKDIpKSxcbiAgICAgIHA5NVNwcmVhZERlbHRhOiBOdW1iZXIocDk1U3ByZWFkRGVsdGEudG9GaXhlZCgyKSksXG4gICAgICBzdGREZXZTcHJlYWREZWx0YTogTnVtYmVyKHN0ZERldlNwcmVhZERlbHRhLnRvRml4ZWQoMikpLFxuICAgICAga2V5TnVtYmVyQ3Jvc3NpbmdzLFxuICAgICAga2V5TnVtYmVyQ3Jvc3NpbmdSYXRlOiBOdW1iZXIoa2V5TnVtYmVyQ3Jvc3NpbmdSYXRlLnRvRml4ZWQoMykpLFxuICAgICAgZmF2b3JpdGVGbGlwcyxcbiAgICAgIGZhdm9yaXRlRmxpcFJhdGU6IE51bWJlcihmYXZvcml0ZUZsaXBSYXRlLnRvRml4ZWQoMykpLFxuICAgICAgbGFyZ2VzdERlbHRhLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IHNwcmVhZCBmb3IgZGlzcGxheSAoZS5nLiwgXCJEQUwgLTMuNVwiIG9yIFwiUEhJICs3XCIpXG4gICAqL1xuICBzdGF0aWMgZm9ybWF0U3ByZWFkKHRlYW06IHN0cmluZywgc3ByZWFkOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChzcHJlYWQgPT09IDApIHJldHVybiBgJHt0ZWFtfSBQS2BcbiAgICBjb25zdCBzaWduID0gc3ByZWFkID4gMCA/ICcrJyA6ICcnXG4gICAgcmV0dXJuIGAke3RlYW19ICR7c2lnbn0ke3NwcmVhZH1gXG4gIH1cblxuICAvKipcbiAgICogR2V0IHJpc2sgbGV2ZWwgYmFzZWQgb24gc3ByZWFkIGRlbHRhXG4gICAqL1xuICBzdGF0aWMgZ2V0Umlza0xldmVsKGRlbHRhOiBudW1iZXIpOiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJyB7XG4gICAgY29uc3QgYWJzRGVsdGEgPSBNYXRoLmFicyhkZWx0YSlcbiAgICBpZiAoYWJzRGVsdGEgPD0gMikgcmV0dXJuICdsb3cnXG4gICAgaWYgKGFic0RlbHRhIDw9IDQpIHJldHVybiAnbWVkaXVtJ1xuICAgIGlmIChhYnNEZWx0YSA8PSA3KSByZXR1cm4gJ2hpZ2gnXG4gICAgcmV0dXJuICdjcml0aWNhbCdcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY29sb3IgY2xhc3MgZm9yIHJpc2sgbGV2ZWxcbiAgICovXG4gIHN0YXRpYyBnZXRSaXNrQ29sb3Iocmlza0xldmVsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAocmlza0xldmVsKSB7XG4gICAgICBjYXNlICdsb3cnOiByZXR1cm4gJ3RleHQtZ3JlZW4tNjAwJ1xuICAgICAgY2FzZSAnbWVkaXVtJzogcmV0dXJuICd0ZXh0LXllbGxvdy02MDAnXG4gICAgICBjYXNlICdoaWdoJzogcmV0dXJuICd0ZXh0LW9yYW5nZS02MDAnXG4gICAgICBjYXNlICdjcml0aWNhbCc6IHJldHVybiAndGV4dC1yZWQtNjAwJ1xuICAgICAgZGVmYXVsdDogcmV0dXJuICd0ZXh0LWdyYXktNjAwJ1xuICAgIH1cbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgY29tcGFyaXNvbkVuZ2luZSA9IG5ldyBDb21wYXJpc29uRW5naW5lKCkiXSwibmFtZXMiOlsiS0VZX05VTUJFUlMiLCJDb21wYXJpc29uRW5naW5lIiwiY2FsY3VsYXRlU3ByZWFkRGVsdGEiLCJwaWNrc2hlZXRTcHJlYWQiLCJtYXJrZXRTcHJlYWQiLCJjaGVja0tleU51bWJlckNyb3NzaW5nIiwiY3Jvc3NlZE51bWJlcnMiLCJrZXlOdW0iLCJwdXNoIiwiY3Jvc3NlcyIsImxlbmd0aCIsIm51bWJlcnMiLCJjaGVja0Zhdm9yaXRlRmxpcCIsImRldGVjdExlYWd1ZSIsImhvbWVUZWFtIiwiYXdheVRlYW0iLCJuZmxUZWFtcyIsIm5mbFRlYW0iLCJpbmNsdWRlcyIsIm5jYWFmSW5kaWNhdG9ycyIsImluZGljYXRvciIsImNvbXBhcmVHYW1lIiwicGlja3NoZWV0R2FtZSIsIm1hcmtldEdhbWUiLCJtYXRjaENvbmZpZGVuY2UiLCJzcHJlYWREZWx0YSIsInNwcmVhZCIsImhvbWVTcHJlYWQiLCJrZXlOdW1iZXJDaGVjayIsImZhdm9yaXRlRmxpcHBlZCIsImxlYWd1ZSIsImdhbWVJZCIsImdhbWVUaW1lIiwiY3Jvc3Nlc0tleU51bWJlciIsImtleU51bWJlcnNDcm9zc2VkIiwiY29uZmlkZW5jZSIsIm1hdGNoZWQiLCJjb21wYXJlR2FtZXMiLCJwaWNrc2hlZXRHYW1lcyIsIm1hcmtldEdhbWVzIiwibWF0Y2hlcyIsImNvbXBhcmlzb25zIiwidW5tYXRjaGVkUGlja3NoZWV0IiwiU2V0IiwibWFwIiwiXyIsImkiLCJ1bm1hdGNoZWRNYXJrZXQiLCJtYXRjaCIsInBpY2tzaGVldEluZGV4IiwibWFya2V0SW5kZXgiLCJkZWxldGUiLCJ1bm1hdGNoZWQiLCJpZHgiLCJBcnJheSIsImZyb20iLCJnYW1lIiwic291cmNlIiwiZ2FtZUluZm8iLCJyZWFzb24iLCJrcGlzIiwiY2FsY3VsYXRlS1BJcyIsImZpbHRlciIsInUiLCJ0b3RhbFBpY2tzaGVldEdhbWVzIiwidW5tYXRjaGVkUGlja3NoZWV0R2FtZXMiLCJtYXRjaGVkR2FtZXMiLCJ0b3RhbEdhbWVzIiwidW5tYXRjaGVkR2FtZXMiLCJtYXRjaFJhdGUiLCJhdmdTcHJlYWREZWx0YSIsIm1lZGlhblNwcmVhZERlbHRhIiwicDk1U3ByZWFkRGVsdGEiLCJzdGREZXZTcHJlYWREZWx0YSIsImtleU51bWJlckNyb3NzaW5ncyIsImtleU51bWJlckNyb3NzaW5nUmF0ZSIsImZhdm9yaXRlRmxpcHMiLCJmYXZvcml0ZUZsaXBSYXRlIiwibGFyZ2VzdERlbHRhIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZGVsdGFzIiwiYyIsIk1hdGgiLCJhYnMiLCJyZWR1Y2UiLCJzdW0iLCJkIiwic29ydGVkRGVsdGFzIiwic29ydCIsImEiLCJiIiwiZmxvb3IiLCJwOTVJbmRleCIsIm1pbiIsInZhcmlhbmNlIiwicG93Iiwic3FydCIsIm1heENvbXBhcmlzb24iLCJtYXgiLCJ0ZWFtcyIsImRlbHRhIiwiTnVtYmVyIiwidG9GaXhlZCIsImZvcm1hdFNwcmVhZCIsInRlYW0iLCJzaWduIiwiZ2V0Umlza0xldmVsIiwiYWJzRGVsdGEiLCJnZXRSaXNrQ29sb3IiLCJyaXNrTGV2ZWwiLCJjb21wYXJpc29uRW5naW5lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/services/comparison-engine.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/entity-resolution.ts":
/*!*******************************************!*\
  !*** ./src/services/entity-resolution.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EntityResolver: () => (/* binding */ EntityResolver)\n/* harmony export */ });\n/* harmony import */ var fuse_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fuse.js */ \"(rsc)/./node_modules/fuse.js/dist/fuse.mjs\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n\n\n// Team name mappings and aliases\nconst NFL_TEAM_MAPPINGS = {\n    // AFC East\n    \"Buffalo Bills\": [\n        \"Bills\",\n        \"Buffalo\",\n        \"BUF\"\n    ],\n    \"Miami Dolphins\": [\n        \"Dolphins\",\n        \"Miami\",\n        \"MIA\"\n    ],\n    \"New England Patriots\": [\n        \"Patriots\",\n        \"New England\",\n        \"Pats\",\n        \"NE\"\n    ],\n    \"New York Jets\": [\n        \"Jets\",\n        \"NY Jets\",\n        \"NYJ\"\n    ],\n    // AFC North\n    \"Baltimore Ravens\": [\n        \"Ravens\",\n        \"Baltimore\",\n        \"BAL\"\n    ],\n    \"Cincinnati Bengals\": [\n        \"Bengals\",\n        \"Cincinnati\",\n        \"Cincy\",\n        \"CIN\"\n    ],\n    \"Cleveland Browns\": [\n        \"Browns\",\n        \"Cleveland\",\n        \"CLE\"\n    ],\n    \"Pittsburgh Steelers\": [\n        \"Steelers\",\n        \"Pittsburgh\",\n        \"Pitt\",\n        \"PIT\"\n    ],\n    // AFC South\n    \"Houston Texans\": [\n        \"Texans\",\n        \"Houston\",\n        \"HOU\"\n    ],\n    \"Indianapolis Colts\": [\n        \"Colts\",\n        \"Indianapolis\",\n        \"Indy\",\n        \"IND\"\n    ],\n    \"Jacksonville Jaguars\": [\n        \"Jaguars\",\n        \"Jacksonville\",\n        \"Jags\",\n        \"JAX\",\n        \"JAC\"\n    ],\n    \"Tennessee Titans\": [\n        \"Titans\",\n        \"Tennessee\",\n        \"TEN\"\n    ],\n    // AFC West\n    \"Denver Broncos\": [\n        \"Broncos\",\n        \"Denver\",\n        \"DEN\"\n    ],\n    \"Kansas City Chiefs\": [\n        \"Chiefs\",\n        \"Kansas City\",\n        \"KC\",\n        \"KC Chiefs\"\n    ],\n    \"Las Vegas Raiders\": [\n        \"Raiders\",\n        \"Las Vegas\",\n        \"LV\",\n        \"LVR\",\n        \"Oakland Raiders\"\n    ],\n    \"Los Angeles Chargers\": [\n        \"Chargers\",\n        \"LA Chargers\",\n        \"L.A. Chargers\",\n        \"LAC\",\n        \"San Diego Chargers\"\n    ],\n    // NFC East\n    \"Dallas Cowboys\": [\n        \"Cowboys\",\n        \"Dallas\",\n        \"DAL\"\n    ],\n    \"New York Giants\": [\n        \"Giants\",\n        \"NY Giants\",\n        \"NYG\"\n    ],\n    \"Philadelphia Eagles\": [\n        \"Eagles\",\n        \"Philadelphia\",\n        \"Philly\",\n        \"PHI\"\n    ],\n    \"Washington Commanders\": [\n        \"Commanders\",\n        \"Washington\",\n        \"WAS\",\n        \"Washington Football Team\",\n        \"Redskins\"\n    ],\n    // NFC North\n    \"Chicago Bears\": [\n        \"Bears\",\n        \"Chicago\",\n        \"CHI\"\n    ],\n    \"Detroit Lions\": [\n        \"Lions\",\n        \"Detroit\",\n        \"DET\"\n    ],\n    \"Green Bay Packers\": [\n        \"Packers\",\n        \"Green Bay\",\n        \"GB\",\n        \"GBP\"\n    ],\n    \"Minnesota Vikings\": [\n        \"Vikings\",\n        \"Minnesota\",\n        \"MIN\"\n    ],\n    // NFC South\n    \"Atlanta Falcons\": [\n        \"Falcons\",\n        \"Atlanta\",\n        \"ATL\"\n    ],\n    \"Carolina Panthers\": [\n        \"Panthers\",\n        \"Carolina\",\n        \"CAR\"\n    ],\n    \"New Orleans Saints\": [\n        \"Saints\",\n        \"New Orleans\",\n        \"NO\",\n        \"NOS\"\n    ],\n    \"Tampa Bay Buccaneers\": [\n        \"Buccaneers\",\n        \"Tampa Bay\",\n        \"Tampa\",\n        \"Bucs\",\n        \"TB\",\n        \"TBB\"\n    ],\n    // NFC West\n    \"Arizona Cardinals\": [\n        \"Cardinals\",\n        \"Arizona\",\n        \"ARI\",\n        \"AZ\"\n    ],\n    \"Los Angeles Rams\": [\n        \"Rams\",\n        \"LA Rams\",\n        \"L.A. Rams\",\n        \"LAR\",\n        \"St. Louis Rams\"\n    ],\n    \"San Francisco 49ers\": [\n        \"49ers\",\n        \"San Francisco\",\n        \"SF\",\n        \"SFO\",\n        \"Niners\"\n    ],\n    \"Seattle Seahawks\": [\n        \"Seahawks\",\n        \"Seattle\",\n        \"SEA\"\n    ]\n};\n// Common NCAAF team mappings - expanded for better matching\nconst NCAAF_TEAM_MAPPINGS = {\n    // Major Conference Teams - SEC\n    \"Alabama Crimson Tide\": [\n        \"Alabama\",\n        \"Bama\",\n        \"Crimson Tide\",\n        \"ALA\"\n    ],\n    \"Georgia Bulldogs\": [\n        \"Georgia\",\n        \"UGA\",\n        \"Bulldogs\",\n        \"GA\"\n    ],\n    \"Florida Gators\": [\n        \"Florida\",\n        \"UF\",\n        \"Gators\",\n        \"FLA\"\n    ],\n    \"Tennessee Volunteers\": [\n        \"Tennessee\",\n        \"Vols\",\n        \"UT\",\n        \"TENN\"\n    ],\n    \"LSU Tigers\": [\n        \"LSU\",\n        \"Louisiana State\",\n        \"Louisiana St.\",\n        \"Louisiana State University\"\n    ],\n    \"Auburn Tigers\": [\n        \"Auburn\",\n        \"AU\",\n        \"War Eagle\",\n        \"AUB\"\n    ],\n    \"Texas A&M Aggies\": [\n        \"Texas A&M\",\n        \"A&M\",\n        \"TAMU\",\n        \"Aggies\"\n    ],\n    \"Ole Miss Rebels\": [\n        \"Ole Miss\",\n        \"Mississippi\",\n        \"Miss\",\n        \"MISS\"\n    ],\n    \"Mississippi State Bulldogs\": [\n        \"Mississippi State\",\n        \"Mississippi St.\",\n        \"Miss State\",\n        \"MSU\",\n        \"MSST\"\n    ],\n    \"Arkansas Razorbacks\": [\n        \"Arkansas\",\n        \"Hogs\",\n        \"ARK\"\n    ],\n    \"Kentucky Wildcats\": [\n        \"Kentucky\",\n        \"UK\",\n        \"Wildcats\",\n        \"KY\"\n    ],\n    \"Missouri Tigers\": [\n        \"Missouri\",\n        \"Mizzou\",\n        \"MO\",\n        \"MIZ\"\n    ],\n    \"South Carolina Gamecocks\": [\n        \"South Carolina\",\n        \"USC\",\n        \"Gamecocks\",\n        \"SCAR\"\n    ],\n    \"Vanderbilt Commodores\": [\n        \"Vanderbilt\",\n        \"Vandy\",\n        \"Commodores\",\n        \"VAN\"\n    ],\n    // Big Ten\n    \"Ohio State Buckeyes\": [\n        \"Ohio State\",\n        \"Ohio St.\",\n        \"OSU\",\n        \"Buckeyes\",\n        \"OHST\"\n    ],\n    \"Michigan Wolverines\": [\n        \"Michigan\",\n        \"U of M\",\n        \"UM\",\n        \"Wolverines\",\n        \"MICH\"\n    ],\n    \"Michigan State Spartans\": [\n        \"Michigan State\",\n        \"Michigan St.\",\n        \"MSU\",\n        \"Spartans\",\n        \"MIST\"\n    ],\n    \"Penn State Nittany Lions\": [\n        \"Penn State\",\n        \"Penn St.\",\n        \"PSU\",\n        \"Nittany Lions\",\n        \"PENN\"\n    ],\n    \"Wisconsin Badgers\": [\n        \"Wisconsin\",\n        \"Badgers\",\n        \"WIS\",\n        \"WISC\"\n    ],\n    \"Iowa Hawkeyes\": [\n        \"Iowa\",\n        \"Hawkeyes\",\n        \"IOWA\"\n    ],\n    \"Iowa State Cyclones\": [\n        \"Iowa State\",\n        \"Iowa St.\",\n        \"ISU\",\n        \"Cyclones\",\n        \"IAST\"\n    ],\n    \"Nebraska Cornhuskers\": [\n        \"Nebraska\",\n        \"Huskers\",\n        \"NEB\",\n        \"NEBR\"\n    ],\n    \"Minnesota Golden Gophers\": [\n        \"Minnesota\",\n        \"Gophers\",\n        \"MINN\",\n        \"MIN\"\n    ],\n    \"Indiana Hoosiers\": [\n        \"Indiana\",\n        \"IU\",\n        \"Hoosiers\",\n        \"IND\"\n    ],\n    \"Illinois Fighting Illini\": [\n        \"Illinois\",\n        \"Illini\",\n        \"ILL\",\n        \"ILLI\"\n    ],\n    \"Northwestern Wildcats\": [\n        \"Northwestern\",\n        \"NU\",\n        \"Wildcats\",\n        \"NW\"\n    ],\n    \"Purdue Boilermakers\": [\n        \"Purdue\",\n        \"Boilermakers\",\n        \"PUR\",\n        \"PURD\"\n    ],\n    \"Maryland Terrapins\": [\n        \"Maryland\",\n        \"Terps\",\n        \"Terrapins\",\n        \"MD\"\n    ],\n    \"Rutgers Scarlet Knights\": [\n        \"Rutgers\",\n        \"RU\",\n        \"Scarlet Knights\",\n        \"RUTG\"\n    ],\n    // Big 12\n    \"Texas Longhorns\": [\n        \"Texas\",\n        \"UT\",\n        \"Longhorns\",\n        \"TEX\"\n    ],\n    \"Oklahoma Sooners\": [\n        \"Oklahoma\",\n        \"OU\",\n        \"Sooners\",\n        \"OKLA\"\n    ],\n    \"Oklahoma State Cowboys\": [\n        \"Oklahoma State\",\n        \"Oklahoma St.\",\n        \"OSU\",\n        \"OK State\",\n        \"OKST\"\n    ],\n    \"Texas Tech Red Raiders\": [\n        \"Texas Tech\",\n        \"Tech\",\n        \"TTU\",\n        \"Red Raiders\",\n        \"TXTC\"\n    ],\n    \"Baylor Bears\": [\n        \"Baylor\",\n        \"BU\",\n        \"Bears\",\n        \"BAY\"\n    ],\n    \"TCU Horned Frogs\": [\n        \"TCU\",\n        \"Texas Christian\",\n        \"Horned Frogs\"\n    ],\n    \"Kansas Jayhawks\": [\n        \"Kansas\",\n        \"KU\",\n        \"Jayhawks\",\n        \"KAN\"\n    ],\n    \"Kansas State Wildcats\": [\n        \"Kansas State\",\n        \"Kansas St.\",\n        \"K-State\",\n        \"KSU\",\n        \"KAST\"\n    ],\n    \"West Virginia Mountaineers\": [\n        \"West Virginia\",\n        \"WVU\",\n        \"Mountaineers\",\n        \"WV\"\n    ],\n    \"Cincinnati Bearcats\": [\n        \"Cincinnati\",\n        \"Cincy\",\n        \"UC\",\n        \"Bearcats\",\n        \"CIN\"\n    ],\n    \"Houston Cougars\": [\n        \"Houston\",\n        \"UH\",\n        \"Cougars\",\n        \"HOU\"\n    ],\n    \"UCF Knights\": [\n        \"UCF\",\n        \"Central Florida\",\n        \"Knights\"\n    ],\n    \"BYU Cougars\": [\n        \"BYU\",\n        \"Brigham Young\",\n        \"Cougars\"\n    ],\n    // ACC\n    \"Clemson Tigers\": [\n        \"Clemson\",\n        \"Tigers\",\n        \"CLEM\"\n    ],\n    \"Florida State Seminoles\": [\n        \"Florida State\",\n        \"Florida St.\",\n        \"FSU\",\n        \"Seminoles\",\n        \"FLST\"\n    ],\n    \"Miami Hurricanes\": [\n        \"Miami\",\n        \"The U\",\n        \"Canes\",\n        \"Hurricanes\",\n        \"MIA\"\n    ],\n    \"North Carolina Tar Heels\": [\n        \"North Carolina\",\n        \"UNC\",\n        \"Tar Heels\",\n        \"NC\",\n        \"NCAR\"\n    ],\n    \"North Carolina State Wolfpack\": [\n        \"North Carolina State\",\n        \"NC State\",\n        \"NCSU\",\n        \"Wolfpack\",\n        \"NCST\"\n    ],\n    \"Duke Blue Devils\": [\n        \"Duke\",\n        \"Blue Devils\",\n        \"DUKE\"\n    ],\n    \"Virginia Cavaliers\": [\n        \"Virginia\",\n        \"UVA\",\n        \"Cavaliers\",\n        \"VA\"\n    ],\n    \"Virginia Tech Hokies\": [\n        \"Virginia Tech\",\n        \"VT\",\n        \"Hokies\",\n        \"VTECH\"\n    ],\n    \"Louisville Cardinals\": [\n        \"Louisville\",\n        \"UL\",\n        \"Cardinals\",\n        \"LOU\"\n    ],\n    \"Syracuse Orange\": [\n        \"Syracuse\",\n        \"Cuse\",\n        \"Orange\",\n        \"SYR\"\n    ],\n    \"Pittsburgh Panthers\": [\n        \"Pittsburgh\",\n        \"Pitt\",\n        \"Panthers\",\n        \"PIT\"\n    ],\n    \"Boston College Eagles\": [\n        \"Boston College\",\n        \"BC\",\n        \"Eagles\",\n        \"BOST\"\n    ],\n    \"Wake Forest Demon Deacons\": [\n        \"Wake Forest\",\n        \"Wake\",\n        \"Demon Deacons\",\n        \"WAKE\"\n    ],\n    \"Georgia Tech Yellow Jackets\": [\n        \"Georgia Tech\",\n        \"GT\",\n        \"Yellow Jackets\",\n        \"GATECH\"\n    ],\n    // Pac-12\n    \"Oregon Ducks\": [\n        \"Oregon\",\n        \"Ducks\",\n        \"ORE\",\n        \"OREG\"\n    ],\n    \"Oregon State Beavers\": [\n        \"Oregon State\",\n        \"Oregon St.\",\n        \"OSU\",\n        \"Beavers\",\n        \"ORST\"\n    ],\n    \"Washington Huskies\": [\n        \"Washington\",\n        \"UW\",\n        \"Huskies\",\n        \"WASH\"\n    ],\n    \"Washington State Cougars\": [\n        \"Washington State\",\n        \"Washington St.\",\n        \"WSU\",\n        \"Wazzu\",\n        \"Cougars\",\n        \"WAST\"\n    ],\n    \"USC Trojans\": [\n        \"USC\",\n        \"Southern Cal\",\n        \"Trojans\"\n    ],\n    \"UCLA Bruins\": [\n        \"UCLA\",\n        \"Bruins\"\n    ],\n    \"Stanford Cardinal\": [\n        \"Stanford\",\n        \"Cardinal\",\n        \"STAN\"\n    ],\n    \"California Golden Bears\": [\n        \"California\",\n        \"Cal\",\n        \"Golden Bears\",\n        \"CAL\"\n    ],\n    \"Arizona Wildcats\": [\n        \"Arizona\",\n        \"UA\",\n        \"Wildcats\",\n        \"ARIZ\"\n    ],\n    \"Arizona State Sun Devils\": [\n        \"Arizona State\",\n        \"Arizona St.\",\n        \"ASU\",\n        \"Sun Devils\",\n        \"AZST\"\n    ],\n    \"Colorado Buffaloes\": [\n        \"Colorado\",\n        \"CU\",\n        \"Buffs\",\n        \"Buffaloes\",\n        \"COLO\"\n    ],\n    \"Utah Utes\": [\n        \"Utah\",\n        \"Utes\",\n        \"UTAH\"\n    ],\n    // Other Notable Teams\n    \"Notre Dame Fighting Irish\": [\n        \"Notre Dame\",\n        \"ND\",\n        \"Fighting Irish\",\n        \"Irish\"\n    ],\n    \"Army Black Knights\": [\n        \"Army\",\n        \"Black Knights\",\n        \"ARMY\"\n    ],\n    \"Navy Midshipmen\": [\n        \"Navy\",\n        \"Midshipmen\",\n        \"NAVY\"\n    ],\n    \"Air Force Falcons\": [\n        \"Air Force\",\n        \"Falcons\",\n        \"AFA\"\n    ],\n    // Group of Five - AAC, Mountain West, etc.\n    \"SMU Mustangs\": [\n        \"SMU\",\n        \"Southern Methodist\",\n        \"Mustangs\"\n    ],\n    \"Memphis Tigers\": [\n        \"Memphis\",\n        \"Tigers\",\n        \"MEM\"\n    ],\n    \"Tulane Green Wave\": [\n        \"Tulane\",\n        \"Green Wave\",\n        \"TULN\"\n    ],\n    \"Tulsa Golden Hurricane\": [\n        \"Tulsa\",\n        \"Golden Hurricane\",\n        \"TULS\"\n    ],\n    \"South Florida Bulls\": [\n        \"South Florida\",\n        \"S. Florida\",\n        \"USF\",\n        \"Bulls\"\n    ],\n    \"Temple Owls\": [\n        \"Temple\",\n        \"Owls\",\n        \"TEM\"\n    ],\n    \"East Carolina Pirates\": [\n        \"East Carolina\",\n        \"ECU\",\n        \"Pirates\"\n    ],\n    \"Boise State Broncos\": [\n        \"Boise State\",\n        \"Boise St.\",\n        \"BSU\",\n        \"Broncos\",\n        \"BOIS\"\n    ],\n    \"Fresno State Bulldogs\": [\n        \"Fresno State\",\n        \"Fresno St.\",\n        \"Bulldogs\",\n        \"FRES\"\n    ],\n    \"San Diego State Aztecs\": [\n        \"San Diego State\",\n        \"San Diego St.\",\n        \"SDSU\",\n        \"Aztecs\"\n    ],\n    \"UNLV Rebels\": [\n        \"UNLV\",\n        \"Nevada Las Vegas\",\n        \"Rebels\"\n    ],\n    \"Nevada Wolf Pack\": [\n        \"Nevada\",\n        \"Wolf Pack\",\n        \"NEV\"\n    ],\n    \"Hawaii Rainbow Warriors\": [\n        \"Hawaii\",\n        \"Rainbow Warriors\",\n        \"HAW\"\n    ],\n    \"San Jose State Spartans\": [\n        \"San Jose State\",\n        \"San Jose St.\",\n        \"SJSU\",\n        \"Spartans\"\n    ],\n    // Additional Teams\n    \"UAB Blazers\": [\n        \"UAB\",\n        \"Alabama Birmingham\",\n        \"Blazers\"\n    ],\n    \"UTSA Roadrunners\": [\n        \"UTSA\",\n        \"UT San Antonio\",\n        \"Roadrunners\"\n    ],\n    \"UTEP Miners\": [\n        \"UTEP\",\n        \"UT El Paso\",\n        \"Miners\"\n    ],\n    \"Rice Owls\": [\n        \"Rice\",\n        \"Owls\",\n        \"RICE\"\n    ],\n    \"North Texas Mean Green\": [\n        \"North Texas\",\n        \"UNT\",\n        \"Mean Green\",\n        \"NTEX\"\n    ],\n    \"Charlotte 49ers\": [\n        \"Charlotte\",\n        \"Charlotte 49ers\",\n        \"CHAR\",\n        \"49ers\"\n    ],\n    \"Marshall Thundering Herd\": [\n        \"Marshall\",\n        \"Thundering Herd\",\n        \"MRSH\"\n    ],\n    \"Western Michigan Broncos\": [\n        \"Western Michigan\",\n        \"Western Mich\",\n        \"WMU\",\n        \"Broncos\",\n        \"WMICH\"\n    ],\n    \"Central Michigan Chippewas\": [\n        \"Central Michigan\",\n        \"Central Mich\",\n        \"CMU\",\n        \"Chippewas\",\n        \"CMICH\"\n    ],\n    \"Eastern Michigan Eagles\": [\n        \"Eastern Michigan\",\n        \"Eastern Mich\",\n        \"EMU\",\n        \"Eagles\",\n        \"EMICH\"\n    ],\n    \"Northern Illinois Huskies\": [\n        \"Northern Illinois\",\n        \"Northern Ill\",\n        \"NIU\",\n        \"Huskies\",\n        \"NILL\"\n    ],\n    \"Toledo Rockets\": [\n        \"Toledo\",\n        \"Rockets\",\n        \"TOL\"\n    ],\n    \"Bowling Green Falcons\": [\n        \"Bowling Green\",\n        \"BGSU\",\n        \"Falcons\",\n        \"BGWL\"\n    ],\n    \"Kent State Golden Flashes\": [\n        \"Kent State\",\n        \"Kent St.\",\n        \"Golden Flashes\",\n        \"KENT\"\n    ],\n    \"Akron Zips\": [\n        \"Akron\",\n        \"Zips\",\n        \"AKR\"\n    ],\n    \"Ohio Bobcats\": [\n        \"Ohio\",\n        \"Bobcats\",\n        \"OHIO\"\n    ],\n    \"Miami (OH) RedHawks\": [\n        \"Miami (OH)\",\n        \"Miami Ohio\",\n        \"Miami-Ohio\",\n        \"RedHawks\",\n        \"MIOH\"\n    ],\n    \"Ball State Cardinals\": [\n        \"Ball State\",\n        \"Ball St.\",\n        \"Cardinals\",\n        \"BALL\"\n    ],\n    \"Buffalo Bulls\": [\n        \"Buffalo\",\n        \"Bulls\",\n        \"BUFF\"\n    ],\n    // FCS Teams that sometimes play FBS\n    \"James Madison Dukes\": [\n        \"James Madison\",\n        \"JMU\",\n        \"Dukes\",\n        \"JMAD\"\n    ],\n    \"Liberty Flames\": [\n        \"Liberty\",\n        \"Flames\",\n        \"LIB\"\n    ],\n    \"Jacksonville State Gamecocks\": [\n        \"Jacksonville State\",\n        \"Jacksonville St.\",\n        \"JSU\",\n        \"Gamecocks\",\n        \"JKST\"\n    ],\n    \"Sam Houston State Bearkats\": [\n        \"Sam Houston State\",\n        \"Sam Houston St.\",\n        \"SHSU\",\n        \"Bearkats\",\n        \"SHST\"\n    ],\n    \"Missouri State Bears\": [\n        \"Missouri State\",\n        \"Missouri St.\",\n        \"Bears\",\n        \"MOST\"\n    ],\n    \"Arkansas State Red Wolves\": [\n        \"Arkansas State\",\n        \"Arkansas St.\",\n        \"Red Wolves\",\n        \"ARST\"\n    ],\n    \"Georgia State Panthers\": [\n        \"Georgia State\",\n        \"Georgia St.\",\n        \"Panthers\",\n        \"GAST\"\n    ],\n    \"Georgia Southern Eagles\": [\n        \"Georgia Southern\",\n        \"Eagles\",\n        \"GASOU\"\n    ],\n    \"Louisiana Tech Bulldogs\": [\n        \"Louisiana Tech\",\n        \"La Tech\",\n        \"Bulldogs\",\n        \"LTECH\"\n    ],\n    \"UL Monroe Warhawks\": [\n        \"UL Monroe\",\n        \"Louisiana Monroe\",\n        \"ULM\",\n        \"Warhawks\",\n        \"ULMON\"\n    ],\n    \"South Alabama Jaguars\": [\n        \"South Alabama\",\n        \"USA\",\n        \"Jaguars\",\n        \"SALA\"\n    ],\n    \"Troy Trojans\": [\n        \"Troy\",\n        \"Trojans\",\n        \"TROY\"\n    ],\n    \"Middle Tennessee Blue Raiders\": [\n        \"Middle Tennessee\",\n        \"Middle Tenn\",\n        \"MTSU\",\n        \"Blue Raiders\",\n        \"MTENN\"\n    ],\n    \"Western Kentucky Hilltoppers\": [\n        \"Western Kentucky\",\n        \"WKU\",\n        \"Hilltoppers\",\n        \"WKEN\"\n    ],\n    \"FIU Panthers\": [\n        \"FIU\",\n        \"Florida International\",\n        \"Panthers\"\n    ],\n    \"FAU Owls\": [\n        \"FAU\",\n        \"Florida Atlantic\",\n        \"Owls\"\n    ],\n    \"Louisiana Ragin' Cajuns\": [\n        \"Louisiana\",\n        \"Louisiana Lafayette\",\n        \"ULL\",\n        \"Ragin' Cajuns\",\n        \"LALA\"\n    ],\n    \"New Mexico State Aggies\": [\n        \"New Mexico State\",\n        \"New Mexico St.\",\n        \"NMSU\",\n        \"Aggies\",\n        \"NMST\"\n    ],\n    \"New Mexico Lobos\": [\n        \"New Mexico\",\n        \"Lobos\",\n        \"NMEX\"\n    ],\n    \"Utah State Aggies\": [\n        \"Utah State\",\n        \"Utah St.\",\n        \"USU\",\n        \"Aggies\",\n        \"UTST\"\n    ],\n    \"Wyoming Cowboys\": [\n        \"Wyoming\",\n        \"Cowboys\",\n        \"WYO\"\n    ],\n    \"Colorado State Rams\": [\n        \"Colorado State\",\n        \"Colorado St.\",\n        \"CSU\",\n        \"Rams\",\n        \"COST\"\n    ],\n    // Additional small schools\n    \"Connecticut Huskies\": [\n        \"Connecticut\",\n        \"UConn\",\n        \"Huskies\",\n        \"CONN\"\n    ],\n    \"UMass Minutemen\": [\n        \"UMass\",\n        \"Massachusetts\",\n        \"Minutemen\",\n        \"UMAS\"\n    ],\n    \"Old Dominion Monarchs\": [\n        \"Old Dominion\",\n        \"ODU\",\n        \"Monarchs\",\n        \"ODOM\"\n    ],\n    \"Coastal Carolina Chanticleers\": [\n        \"Coastal Carolina\",\n        \"CCU\",\n        \"Chanticleers\",\n        \"CCAR\"\n    ],\n    \"Appalachian State Mountaineers\": [\n        \"Appalachian State\",\n        \"App State\",\n        \"Mountaineers\",\n        \"APPS\"\n    ],\n    \"Texas State Bobcats\": [\n        \"Texas State\",\n        \"Texas St.\",\n        \"Bobcats\",\n        \"TXST\"\n    ],\n    \"Southern Miss Golden Eagles\": [\n        \"Southern Miss\",\n        \"Southern Mississippi\",\n        \"USM\",\n        \"Golden Eagles\",\n        \"SMIS\"\n    ],\n    \"Delaware Blue Hens\": [\n        \"Delaware\",\n        \"Blue Hens\",\n        \"DEL\"\n    ],\n    \"Kennesaw State Owls\": [\n        \"Kennesaw State\",\n        \"Kennesaw St.\",\n        \"KSU\",\n        \"Owls\",\n        \"KENN\"\n    ]\n};\n// Common NCAAF team patterns\nconst NCAAF_PATTERNS = {\n    stateSchools: [\n        \"State\",\n        \"University\",\n        \"College\",\n        \"Tech\",\n        \"A&M\"\n    ],\n    commonAbbreviations: Object.keys(NCAAF_TEAM_MAPPINGS).reduce((acc, team)=>{\n        const abbreviations = NCAAF_TEAM_MAPPINGS[team].filter((alias)=>alias.length <= 4 && alias === alias.toUpperCase());\n        abbreviations.forEach((abbr)=>{\n            acc[abbr] = team;\n        });\n        return acc;\n    }, {})\n};\nclass EntityResolver {\n    constructor(openaiApiKey){\n        // Initialize Fuse.js for NFL teams\n        const nflTeams = Object.entries(NFL_TEAM_MAPPINGS).map(([name, aliases])=>({\n                name,\n                aliases\n            }));\n        this.nflFuse = new fuse_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](nflTeams, {\n            keys: [\n                \"name\",\n                \"aliases\"\n            ],\n            threshold: 0.4,\n            includeScore: true,\n            minMatchCharLength: 3\n        });\n        // Initialize Fuse.js for NCAAF teams\n        const ncaafTeams = Object.entries(NCAAF_TEAM_MAPPINGS).map(([name, aliases])=>({\n                name,\n                aliases\n            }));\n        this.ncaafFuse = new fuse_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](ncaafTeams, {\n            keys: [\n                \"name\",\n                \"aliases\"\n            ],\n            threshold: 0.4,\n            includeScore: true,\n            minMatchCharLength: 3\n        });\n        // Initialize OpenAI if API key is provided\n        if (openaiApiKey || process.env.OPENAI_API_KEY) {\n            this.openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n                apiKey: openaiApiKey || process.env.OPENAI_API_KEY\n            });\n        }\n    }\n    /**\n   * Normalize team name for matching\n   */ normalizeTeamName(name) {\n        return name.trim().replace(/[^\\w\\s]/g, \"\") // Remove special characters\n        .replace(/\\s+/g, \" \") // Normalize whitespace\n        .toLowerCase();\n    }\n    /**\n   * Check for exact match or alias match for NFL teams\n   */ findNFLTeamExact(teamName) {\n        const normalized = this.normalizeTeamName(teamName);\n        // Check each team and its aliases\n        for (const [officialName, aliases] of Object.entries(NFL_TEAM_MAPPINGS)){\n            const normalizedOfficial = this.normalizeTeamName(officialName);\n            if (normalizedOfficial === normalized) {\n                return {\n                    originalName: teamName,\n                    matchedName: officialName,\n                    confidence: 1.0,\n                    league: \"NFL\",\n                    method: \"exact\"\n                };\n            }\n            // Check aliases\n            for (const alias of aliases){\n                if (this.normalizeTeamName(alias) === normalized) {\n                    return {\n                        originalName: teamName,\n                        matchedName: officialName,\n                        confidence: 0.95,\n                        league: \"NFL\",\n                        method: \"alias\"\n                    };\n                }\n            }\n        }\n        return null;\n    }\n    /**\n   * Use fuzzy matching for NFL teams\n   */ findNFLTeamFuzzy(teamName) {\n        const results = this.nflFuse.search(teamName);\n        if (results.length > 0) {\n            const topMatch = results[0];\n            const confidence = 1 - (topMatch.score || 0 // Convert Fuse score to confidence\n            );\n            if (confidence > 0.6) {\n                return {\n                    originalName: teamName,\n                    matchedName: topMatch.item.name,\n                    confidence: confidence * 0.9,\n                    league: \"NFL\",\n                    method: \"fuzzy\",\n                    candidates: results.slice(0, 3).map((r)=>({\n                            name: r.item.name,\n                            score: 1 - (r.score || 0)\n                        }))\n                };\n            }\n        }\n        return null;\n    }\n    /**\n   * Check for exact match or alias match for NCAAF teams\n   */ findNCAAFTeamExact(teamName) {\n        const normalized = this.normalizeTeamName(teamName);\n        // Remove ranking if present\n        const cleanName = teamName.replace(/^#\\d+\\s*/, \"\");\n        const normalizedClean = this.normalizeTeamName(cleanName);\n        // Check each team and its aliases\n        for (const [officialName, aliases] of Object.entries(NCAAF_TEAM_MAPPINGS)){\n            const normalizedOfficial = this.normalizeTeamName(officialName);\n            if (normalizedOfficial === normalized || normalizedOfficial === normalizedClean) {\n                return {\n                    originalName: teamName,\n                    matchedName: officialName,\n                    confidence: 1.0,\n                    league: \"NCAAF\",\n                    method: \"exact\"\n                };\n            }\n            // Check aliases\n            for (const alias of aliases){\n                if (this.normalizeTeamName(alias) === normalized || this.normalizeTeamName(alias) === normalizedClean) {\n                    return {\n                        originalName: teamName,\n                        matchedName: officialName,\n                        confidence: 0.95,\n                        league: \"NCAAF\",\n                        method: \"alias\"\n                    };\n                }\n            }\n        }\n        return null;\n    }\n    /**\n   * Use fuzzy matching for NCAAF teams\n   */ findNCAAFTeamFuzzy(teamName) {\n        // Remove ranking if present\n        const cleanName = teamName.replace(/^#\\d+\\s*/, \"\");\n        const results = this.ncaafFuse.search(cleanName);\n        if (results.length > 0) {\n            const topMatch = results[0];\n            const confidence = 1 - (topMatch.score || 0);\n            if (confidence > 0.6) {\n                return {\n                    originalName: teamName,\n                    matchedName: topMatch.item.name,\n                    confidence: confidence * 0.9,\n                    league: \"NCAAF\",\n                    method: \"fuzzy\",\n                    candidates: results.slice(0, 3).map((r)=>({\n                            name: r.item.name,\n                            score: 1 - (r.score || 0)\n                        }))\n                };\n            }\n        }\n        return null;\n    }\n    /**\n   * Detect if a team is likely NCAAF based on patterns\n   */ isLikelyNCAA(teamName) {\n        const name = teamName.toLowerCase();\n        // Check for state school patterns\n        if (NCAAF_PATTERNS.stateSchools.some((pattern)=>name.includes(pattern.toLowerCase()))) {\n            return true;\n        }\n        // Check for known abbreviations\n        if (Object.keys(NCAAF_PATTERNS.commonAbbreviations).some((abbr)=>name.includes(abbr.toLowerCase()))) {\n            return true;\n        }\n        // Check for rankings (e.g., \"#1\", \"#11\")\n        if (/^#\\d+/.test(teamName.trim())) {\n            return true;\n        }\n        return false;\n    }\n    /**\n   * Match a single team name\n   */ async matchTeam(teamName, league) {\n        // Try NFL exact match first (unless explicitly NCAAF)\n        if (league !== \"NCAAF\") {\n            const nflExact = this.findNFLTeamExact(teamName);\n            if (nflExact) {\n                return nflExact;\n            }\n        }\n        // If league is specified as NCAAF or team is likely NCAA\n        if (league === \"NCAAF\" || this.isLikelyNCAA(teamName)) {\n            // Try exact NCAAF match first\n            const ncaafExact = this.findNCAAFTeamExact(teamName);\n            if (ncaafExact) {\n                return ncaafExact;\n            }\n            // Try fuzzy NCAAF match\n            const ncaafFuzzy = this.findNCAAFTeamFuzzy(teamName);\n            if (ncaafFuzzy) {\n                return ncaafFuzzy;\n            }\n        }\n        // Try NFL fuzzy matching if not explicitly NCAAF\n        if (league !== \"NCAAF\") {\n            const nflFuzzy = this.findNFLTeamFuzzy(teamName);\n            if (nflFuzzy) {\n                return nflFuzzy;\n            }\n        }\n        // If still no match and likely NCAA, return with medium confidence\n        if (this.isLikelyNCAA(teamName)) {\n            return {\n                originalName: teamName,\n                matchedName: teamName.replace(/^#\\d+\\s*/, \"\"),\n                confidence: 0.7,\n                league: \"NCAAF\",\n                method: \"fuzzy\"\n            };\n        }\n        // Check if it might be NCAAF that we missed\n        const ncaafExact = this.findNCAAFTeamExact(teamName);\n        if (ncaafExact) {\n            return ncaafExact;\n        }\n        const ncaafFuzzy = this.findNCAAFTeamFuzzy(teamName);\n        if (ncaafFuzzy) {\n            return ncaafFuzzy;\n        }\n        // If no match found and likely NCAA, return as NCAA\n        if (this.isLikelyNCAA(teamName)) {\n            return {\n                originalName: teamName,\n                matchedName: teamName.replace(/^#\\d+\\s*/, \"\"),\n                confidence: 0.6,\n                league: \"NCAAF\",\n                method: \"fuzzy\"\n            };\n        }\n        // Default to low confidence match\n        return {\n            originalName: teamName,\n            matchedName: teamName,\n            confidence: 0.3,\n            league: league || \"NFL\",\n            method: \"fuzzy\"\n        };\n    }\n    /**\n   * Match a game with home and away teams\n   */ async matchGame(homeTeam, awayTeam, league) {\n        const [homeMatch, awayMatch] = await Promise.all([\n            this.matchTeam(homeTeam, league),\n            this.matchTeam(awayTeam, league)\n        ]);\n        const overallConfidence = (homeMatch.confidence + awayMatch.confidence) / 2;\n        const needsVerification = overallConfidence < 0.7 || homeMatch.confidence < 0.6 || awayMatch.confidence < 0.6;\n        return {\n            homeTeam: homeMatch,\n            awayTeam: awayMatch,\n            overallConfidence,\n            needsVerification\n        };\n    }\n    /**\n   * Use LLM to verify ambiguous matches\n   */ async verifyWithLLM(originalName, candidates, context) {\n        if (!this.openai) {\n            console.warn(\"OpenAI not configured for LLM verification\");\n            return null;\n        }\n        try {\n            const prompt = `Match the team name \"${originalName}\" to the most likely official team name from these candidates: ${candidates.join(\", \")}.\n      ${context?.league ? `League: ${context.league}` : \"\"}\n      ${context?.otherTeam ? `Playing against: ${context.otherTeam}` : \"\"}\n      \n      Respond with only the exact team name from the list, or \"NONE\" if no good match.`;\n            const completion = await this.openai.chat.completions.create({\n                model: \"gpt-4o-mini\",\n                messages: [\n                    {\n                        role: \"system\",\n                        content: \"You are a sports team name matcher. Respond only with the team name or NONE.\"\n                    },\n                    {\n                        role: \"user\",\n                        content: prompt\n                    }\n                ],\n                temperature: 0,\n                max_tokens: 50\n            });\n            const response = completion.choices[0].message.content?.trim();\n            if (response && response !== \"NONE\" && candidates.includes(response)) {\n                return {\n                    matchedName: response,\n                    confidence: 0.85\n                };\n            }\n        } catch (error) {\n            console.error(\"LLM verification failed:\", error);\n        }\n        return null;\n    }\n    /**\n   * Batch match multiple games\n   */ async matchGames(games) {\n        return Promise.all(games.map((game)=>this.matchGame(game.homeTeam, game.awayTeam, game.league)));\n    }\n    /**\n   * Get all NFL team names and aliases for reference\n   */ static getAllNFLTeams() {\n        return Object.entries(NFL_TEAM_MAPPINGS).map(([official, aliases])=>({\n                official,\n                aliases\n            }));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxPQUFPO2dCQUNQQyxVQUFVO29CQUNSO3dCQUFFQyxNQUFNO3dCQUFVQyxTQUFTO29CQUErRTtvQkFDMUc7d0JBQUVELE1BQU07d0JBQVFDLFNBQVNWO29CQUFPO2lCQUNqQztnQkFDRFcsYUFBYTtnQkFDYkMsWUFBWTtZQUNkO1lBRUEsTUFBTUMsV0FBV1YsV0FBV1csT0FBTyxDQUFDLEVBQUUsQ0FBQ0MsT0FBTyxDQUFDTCxPQUFPLEVBQUUzRDtZQUV4RCxJQUFJOEQsWUFBWUEsYUFBYSxVQUFVM0MsV0FBV1UsUUFBUSxDQUFDaUMsV0FBVztnQkFDcEUsT0FBTztvQkFDTHJELGFBQWFxRDtvQkFDYnBELFlBQVk7Z0JBQ2Q7WUFDRjtRQUNGLEVBQUUsT0FBT3VELE9BQU87WUFDZGxCLFFBQVFrQixLQUFLLENBQUMsNEJBQTRCQTtRQUM1QztRQUVBLE9BQU87SUFDVDtJQUVBOztHQUVDLEdBQ0QsTUFBTUMsV0FBV0MsS0FBOEUsRUFBd0I7UUFDckgsT0FBTzFCLFFBQVFDLEdBQUcsQ0FDaEJ5QixNQUFNbEYsR0FBRyxDQUFDbUYsQ0FBQUEsT0FBUSxJQUFJLENBQUNoQyxTQUFTLENBQUNnQyxLQUFLL0IsUUFBUSxFQUFFK0IsS0FBSzlCLFFBQVEsRUFBRThCLEtBQUt6RCxNQUFNO0lBRTlFO0lBRUE7O0dBRUMsR0FDRCxPQUFPMEQsaUJBQWlFO1FBQ3RFLE9BQU9yRyxPQUFPZ0IsT0FBTyxDQUFDckIsbUJBQW1Cc0IsR0FBRyxDQUFDLENBQUMsQ0FBQ3FGLFVBQVVuRixRQUFRLEdBQU07Z0JBQ3JFbUY7Z0JBQ0FuRjtZQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL29mZmljZS1mb290YmFsbC1wb29sLy4vc3JjL3NlcnZpY2VzL2VudGl0eS1yZXNvbHV0aW9uLnRzPzY4YWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZ1c2UgZnJvbSAnZnVzZS5qcydcbmltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJ1xuXG4vLyBUZWFtIG5hbWUgbWFwcGluZ3MgYW5kIGFsaWFzZXNcbmNvbnN0IE5GTF9URUFNX01BUFBJTkdTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG4gIC8vIEFGQyBFYXN0XG4gICdCdWZmYWxvIEJpbGxzJzogWydCaWxscycsICdCdWZmYWxvJywgJ0JVRiddLFxuICAnTWlhbWkgRG9scGhpbnMnOiBbJ0RvbHBoaW5zJywgJ01pYW1pJywgJ01JQSddLFxuICAnTmV3IEVuZ2xhbmQgUGF0cmlvdHMnOiBbJ1BhdHJpb3RzJywgJ05ldyBFbmdsYW5kJywgJ1BhdHMnLCAnTkUnXSxcbiAgJ05ldyBZb3JrIEpldHMnOiBbJ0pldHMnLCAnTlkgSmV0cycsICdOWUonXSxcbiAgXG4gIC8vIEFGQyBOb3J0aFxuICAnQmFsdGltb3JlIFJhdmVucyc6IFsnUmF2ZW5zJywgJ0JhbHRpbW9yZScsICdCQUwnXSxcbiAgJ0NpbmNpbm5hdGkgQmVuZ2Fscyc6IFsnQmVuZ2FscycsICdDaW5jaW5uYXRpJywgJ0NpbmN5JywgJ0NJTiddLFxuICAnQ2xldmVsYW5kIEJyb3ducyc6IFsnQnJvd25zJywgJ0NsZXZlbGFuZCcsICdDTEUnXSxcbiAgJ1BpdHRzYnVyZ2ggU3RlZWxlcnMnOiBbJ1N0ZWVsZXJzJywgJ1BpdHRzYnVyZ2gnLCAnUGl0dCcsICdQSVQnXSxcbiAgXG4gIC8vIEFGQyBTb3V0aFxuICAnSG91c3RvbiBUZXhhbnMnOiBbJ1RleGFucycsICdIb3VzdG9uJywgJ0hPVSddLFxuICAnSW5kaWFuYXBvbGlzIENvbHRzJzogWydDb2x0cycsICdJbmRpYW5hcG9saXMnLCAnSW5keScsICdJTkQnXSxcbiAgJ0phY2tzb252aWxsZSBKYWd1YXJzJzogWydKYWd1YXJzJywgJ0phY2tzb252aWxsZScsICdKYWdzJywgJ0pBWCcsICdKQUMnXSxcbiAgJ1Rlbm5lc3NlZSBUaXRhbnMnOiBbJ1RpdGFucycsICdUZW5uZXNzZWUnLCAnVEVOJ10sXG4gIFxuICAvLyBBRkMgV2VzdFxuICAnRGVudmVyIEJyb25jb3MnOiBbJ0Jyb25jb3MnLCAnRGVudmVyJywgJ0RFTiddLFxuICAnS2Fuc2FzIENpdHkgQ2hpZWZzJzogWydDaGllZnMnLCAnS2Fuc2FzIENpdHknLCAnS0MnLCAnS0MgQ2hpZWZzJ10sXG4gICdMYXMgVmVnYXMgUmFpZGVycyc6IFsnUmFpZGVycycsICdMYXMgVmVnYXMnLCAnTFYnLCAnTFZSJywgJ09ha2xhbmQgUmFpZGVycyddLFxuICAnTG9zIEFuZ2VsZXMgQ2hhcmdlcnMnOiBbJ0NoYXJnZXJzJywgJ0xBIENoYXJnZXJzJywgJ0wuQS4gQ2hhcmdlcnMnLCAnTEFDJywgJ1NhbiBEaWVnbyBDaGFyZ2VycyddLFxuICBcbiAgLy8gTkZDIEVhc3RcbiAgJ0RhbGxhcyBDb3dib3lzJzogWydDb3dib3lzJywgJ0RhbGxhcycsICdEQUwnXSxcbiAgJ05ldyBZb3JrIEdpYW50cyc6IFsnR2lhbnRzJywgJ05ZIEdpYW50cycsICdOWUcnXSxcbiAgJ1BoaWxhZGVscGhpYSBFYWdsZXMnOiBbJ0VhZ2xlcycsICdQaGlsYWRlbHBoaWEnLCAnUGhpbGx5JywgJ1BISSddLFxuICAnV2FzaGluZ3RvbiBDb21tYW5kZXJzJzogWydDb21tYW5kZXJzJywgJ1dhc2hpbmd0b24nLCAnV0FTJywgJ1dhc2hpbmd0b24gRm9vdGJhbGwgVGVhbScsICdSZWRza2lucyddLFxuICBcbiAgLy8gTkZDIE5vcnRoXG4gICdDaGljYWdvIEJlYXJzJzogWydCZWFycycsICdDaGljYWdvJywgJ0NISSddLFxuICAnRGV0cm9pdCBMaW9ucyc6IFsnTGlvbnMnLCAnRGV0cm9pdCcsICdERVQnXSxcbiAgJ0dyZWVuIEJheSBQYWNrZXJzJzogWydQYWNrZXJzJywgJ0dyZWVuIEJheScsICdHQicsICdHQlAnXSxcbiAgJ01pbm5lc290YSBWaWtpbmdzJzogWydWaWtpbmdzJywgJ01pbm5lc290YScsICdNSU4nXSxcbiAgXG4gIC8vIE5GQyBTb3V0aFxuICAnQXRsYW50YSBGYWxjb25zJzogWydGYWxjb25zJywgJ0F0bGFudGEnLCAnQVRMJ10sXG4gICdDYXJvbGluYSBQYW50aGVycyc6IFsnUGFudGhlcnMnLCAnQ2Fyb2xpbmEnLCAnQ0FSJ10sXG4gICdOZXcgT3JsZWFucyBTYWludHMnOiBbJ1NhaW50cycsICdOZXcgT3JsZWFucycsICdOTycsICdOT1MnXSxcbiAgJ1RhbXBhIEJheSBCdWNjYW5lZXJzJzogWydCdWNjYW5lZXJzJywgJ1RhbXBhIEJheScsICdUYW1wYScsICdCdWNzJywgJ1RCJywgJ1RCQiddLFxuICBcbiAgLy8gTkZDIFdlc3RcbiAgJ0FyaXpvbmEgQ2FyZGluYWxzJzogWydDYXJkaW5hbHMnLCAnQXJpem9uYScsICdBUkknLCAnQVonXSxcbiAgJ0xvcyBBbmdlbGVzIFJhbXMnOiBbJ1JhbXMnLCAnTEEgUmFtcycsICdMLkEuIFJhbXMnLCAnTEFSJywgJ1N0LiBMb3VpcyBSYW1zJ10sXG4gICdTYW4gRnJhbmNpc2NvIDQ5ZXJzJzogWyc0OWVycycsICdTYW4gRnJhbmNpc2NvJywgJ1NGJywgJ1NGTycsICdOaW5lcnMnXSxcbiAgJ1NlYXR0bGUgU2VhaGF3a3MnOiBbJ1NlYWhhd2tzJywgJ1NlYXR0bGUnLCAnU0VBJ11cbn1cblxuLy8gQ29tbW9uIE5DQUFGIHRlYW0gbWFwcGluZ3MgLSBleHBhbmRlZCBmb3IgYmV0dGVyIG1hdGNoaW5nXG5jb25zdCBOQ0FBRl9URUFNX01BUFBJTkdTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG4gIC8vIE1ham9yIENvbmZlcmVuY2UgVGVhbXMgLSBTRUNcbiAgJ0FsYWJhbWEgQ3JpbXNvbiBUaWRlJzogWydBbGFiYW1hJywgJ0JhbWEnLCAnQ3JpbXNvbiBUaWRlJywgJ0FMQSddLFxuICAnR2VvcmdpYSBCdWxsZG9ncyc6IFsnR2VvcmdpYScsICdVR0EnLCAnQnVsbGRvZ3MnLCAnR0EnXSxcbiAgJ0Zsb3JpZGEgR2F0b3JzJzogWydGbG9yaWRhJywgJ1VGJywgJ0dhdG9ycycsICdGTEEnXSxcbiAgJ1Rlbm5lc3NlZSBWb2x1bnRlZXJzJzogWydUZW5uZXNzZWUnLCAnVm9scycsICdVVCcsICdURU5OJ10sXG4gICdMU1UgVGlnZXJzJzogWydMU1UnLCAnTG91aXNpYW5hIFN0YXRlJywgJ0xvdWlzaWFuYSBTdC4nLCAnTG91aXNpYW5hIFN0YXRlIFVuaXZlcnNpdHknXSxcbiAgJ0F1YnVybiBUaWdlcnMnOiBbJ0F1YnVybicsICdBVScsICdXYXIgRWFnbGUnLCAnQVVCJ10sXG4gICdUZXhhcyBBJk0gQWdnaWVzJzogWydUZXhhcyBBJk0nLCAnQSZNJywgJ1RBTVUnLCAnQWdnaWVzJ10sXG4gICdPbGUgTWlzcyBSZWJlbHMnOiBbJ09sZSBNaXNzJywgJ01pc3Npc3NpcHBpJywgJ01pc3MnLCAnTUlTUyddLFxuICAnTWlzc2lzc2lwcGkgU3RhdGUgQnVsbGRvZ3MnOiBbJ01pc3Npc3NpcHBpIFN0YXRlJywgJ01pc3Npc3NpcHBpIFN0LicsICdNaXNzIFN0YXRlJywgJ01TVScsICdNU1NUJ10sXG4gICdBcmthbnNhcyBSYXpvcmJhY2tzJzogWydBcmthbnNhcycsICdIb2dzJywgJ0FSSyddLFxuICAnS2VudHVja3kgV2lsZGNhdHMnOiBbJ0tlbnR1Y2t5JywgJ1VLJywgJ1dpbGRjYXRzJywgJ0tZJ10sXG4gICdNaXNzb3VyaSBUaWdlcnMnOiBbJ01pc3NvdXJpJywgJ01penpvdScsICdNTycsICdNSVonXSxcbiAgJ1NvdXRoIENhcm9saW5hIEdhbWVjb2Nrcyc6IFsnU291dGggQ2Fyb2xpbmEnLCAnVVNDJywgJ0dhbWVjb2NrcycsICdTQ0FSJ10sXG4gICdWYW5kZXJiaWx0IENvbW1vZG9yZXMnOiBbJ1ZhbmRlcmJpbHQnLCAnVmFuZHknLCAnQ29tbW9kb3JlcycsICdWQU4nXSxcbiAgXG4gIC8vIEJpZyBUZW5cbiAgJ09oaW8gU3RhdGUgQnVja2V5ZXMnOiBbJ09oaW8gU3RhdGUnLCAnT2hpbyBTdC4nLCAnT1NVJywgJ0J1Y2tleWVzJywgJ09IU1QnXSxcbiAgJ01pY2hpZ2FuIFdvbHZlcmluZXMnOiBbJ01pY2hpZ2FuJywgJ1Ugb2YgTScsICdVTScsICdXb2x2ZXJpbmVzJywgJ01JQ0gnXSxcbiAgJ01pY2hpZ2FuIFN0YXRlIFNwYXJ0YW5zJzogWydNaWNoaWdhbiBTdGF0ZScsICdNaWNoaWdhbiBTdC4nLCAnTVNVJywgJ1NwYXJ0YW5zJywgJ01JU1QnXSxcbiAgJ1Blbm4gU3RhdGUgTml0dGFueSBMaW9ucyc6IFsnUGVubiBTdGF0ZScsICdQZW5uIFN0LicsICdQU1UnLCAnTml0dGFueSBMaW9ucycsICdQRU5OJ10sXG4gICdXaXNjb25zaW4gQmFkZ2Vycyc6IFsnV2lzY29uc2luJywgJ0JhZGdlcnMnLCAnV0lTJywgJ1dJU0MnXSxcbiAgJ0lvd2EgSGF3a2V5ZXMnOiBbJ0lvd2EnLCAnSGF3a2V5ZXMnLCAnSU9XQSddLFxuICAnSW93YSBTdGF0ZSBDeWNsb25lcyc6IFsnSW93YSBTdGF0ZScsICdJb3dhIFN0LicsICdJU1UnLCAnQ3ljbG9uZXMnLCAnSUFTVCddLFxuICAnTmVicmFza2EgQ29ybmh1c2tlcnMnOiBbJ05lYnJhc2thJywgJ0h1c2tlcnMnLCAnTkVCJywgJ05FQlInXSxcbiAgJ01pbm5lc290YSBHb2xkZW4gR29waGVycyc6IFsnTWlubmVzb3RhJywgJ0dvcGhlcnMnLCAnTUlOTicsICdNSU4nXSxcbiAgJ0luZGlhbmEgSG9vc2llcnMnOiBbJ0luZGlhbmEnLCAnSVUnLCAnSG9vc2llcnMnLCAnSU5EJ10sXG4gICdJbGxpbm9pcyBGaWdodGluZyBJbGxpbmknOiBbJ0lsbGlub2lzJywgJ0lsbGluaScsICdJTEwnLCAnSUxMSSddLFxuICAnTm9ydGh3ZXN0ZXJuIFdpbGRjYXRzJzogWydOb3J0aHdlc3Rlcm4nLCAnTlUnLCAnV2lsZGNhdHMnLCAnTlcnXSxcbiAgJ1B1cmR1ZSBCb2lsZXJtYWtlcnMnOiBbJ1B1cmR1ZScsICdCb2lsZXJtYWtlcnMnLCAnUFVSJywgJ1BVUkQnXSxcbiAgJ01hcnlsYW5kIFRlcnJhcGlucyc6IFsnTWFyeWxhbmQnLCAnVGVycHMnLCAnVGVycmFwaW5zJywgJ01EJ10sXG4gICdSdXRnZXJzIFNjYXJsZXQgS25pZ2h0cyc6IFsnUnV0Z2VycycsICdSVScsICdTY2FybGV0IEtuaWdodHMnLCAnUlVURyddLFxuICBcbiAgLy8gQmlnIDEyXG4gICdUZXhhcyBMb25naG9ybnMnOiBbJ1RleGFzJywgJ1VUJywgJ0xvbmdob3JucycsICdURVgnXSxcbiAgJ09rbGFob21hIFNvb25lcnMnOiBbJ09rbGFob21hJywgJ09VJywgJ1Nvb25lcnMnLCAnT0tMQSddLFxuICAnT2tsYWhvbWEgU3RhdGUgQ293Ym95cyc6IFsnT2tsYWhvbWEgU3RhdGUnLCAnT2tsYWhvbWEgU3QuJywgJ09TVScsICdPSyBTdGF0ZScsICdPS1NUJ10sXG4gICdUZXhhcyBUZWNoIFJlZCBSYWlkZXJzJzogWydUZXhhcyBUZWNoJywgJ1RlY2gnLCAnVFRVJywgJ1JlZCBSYWlkZXJzJywgJ1RYVEMnXSxcbiAgJ0JheWxvciBCZWFycyc6IFsnQmF5bG9yJywgJ0JVJywgJ0JlYXJzJywgJ0JBWSddLFxuICAnVENVIEhvcm5lZCBGcm9ncyc6IFsnVENVJywgJ1RleGFzIENocmlzdGlhbicsICdIb3JuZWQgRnJvZ3MnXSxcbiAgJ0thbnNhcyBKYXloYXdrcyc6IFsnS2Fuc2FzJywgJ0tVJywgJ0pheWhhd2tzJywgJ0tBTiddLFxuICAnS2Fuc2FzIFN0YXRlIFdpbGRjYXRzJzogWydLYW5zYXMgU3RhdGUnLCAnS2Fuc2FzIFN0LicsICdLLVN0YXRlJywgJ0tTVScsICdLQVNUJ10sXG4gICdXZXN0IFZpcmdpbmlhIE1vdW50YWluZWVycyc6IFsnV2VzdCBWaXJnaW5pYScsICdXVlUnLCAnTW91bnRhaW5lZXJzJywgJ1dWJ10sXG4gICdDaW5jaW5uYXRpIEJlYXJjYXRzJzogWydDaW5jaW5uYXRpJywgJ0NpbmN5JywgJ1VDJywgJ0JlYXJjYXRzJywgJ0NJTiddLFxuICAnSG91c3RvbiBDb3VnYXJzJzogWydIb3VzdG9uJywgJ1VIJywgJ0NvdWdhcnMnLCAnSE9VJ10sXG4gICdVQ0YgS25pZ2h0cyc6IFsnVUNGJywgJ0NlbnRyYWwgRmxvcmlkYScsICdLbmlnaHRzJ10sXG4gICdCWVUgQ291Z2Fycyc6IFsnQllVJywgJ0JyaWdoYW0gWW91bmcnLCAnQ291Z2FycyddLFxuICBcbiAgLy8gQUNDXG4gICdDbGVtc29uIFRpZ2Vycyc6IFsnQ2xlbXNvbicsICdUaWdlcnMnLCAnQ0xFTSddLFxuICAnRmxvcmlkYSBTdGF0ZSBTZW1pbm9sZXMnOiBbJ0Zsb3JpZGEgU3RhdGUnLCAnRmxvcmlkYSBTdC4nLCAnRlNVJywgJ1NlbWlub2xlcycsICdGTFNUJ10sXG4gICdNaWFtaSBIdXJyaWNhbmVzJzogWydNaWFtaScsICdUaGUgVScsICdDYW5lcycsICdIdXJyaWNhbmVzJywgJ01JQSddLFxuICAnTm9ydGggQ2Fyb2xpbmEgVGFyIEhlZWxzJzogWydOb3J0aCBDYXJvbGluYScsICdVTkMnLCAnVGFyIEhlZWxzJywgJ05DJywgJ05DQVInXSxcbiAgJ05vcnRoIENhcm9saW5hIFN0YXRlIFdvbGZwYWNrJzogWydOb3J0aCBDYXJvbGluYSBTdGF0ZScsICdOQyBTdGF0ZScsICdOQ1NVJywgJ1dvbGZwYWNrJywgJ05DU1QnXSxcbiAgJ0R1a2UgQmx1ZSBEZXZpbHMnOiBbJ0R1a2UnLCAnQmx1ZSBEZXZpbHMnLCAnRFVLRSddLFxuICAnVmlyZ2luaWEgQ2F2YWxpZXJzJzogWydWaXJnaW5pYScsICdVVkEnLCAnQ2F2YWxpZXJzJywgJ1ZBJ10sXG4gICdWaXJnaW5pYSBUZWNoIEhva2llcyc6IFsnVmlyZ2luaWEgVGVjaCcsICdWVCcsICdIb2tpZXMnLCAnVlRFQ0gnXSxcbiAgJ0xvdWlzdmlsbGUgQ2FyZGluYWxzJzogWydMb3Vpc3ZpbGxlJywgJ1VMJywgJ0NhcmRpbmFscycsICdMT1UnXSxcbiAgJ1N5cmFjdXNlIE9yYW5nZSc6IFsnU3lyYWN1c2UnLCAnQ3VzZScsICdPcmFuZ2UnLCAnU1lSJ10sXG4gICdQaXR0c2J1cmdoIFBhbnRoZXJzJzogWydQaXR0c2J1cmdoJywgJ1BpdHQnLCAnUGFudGhlcnMnLCAnUElUJ10sXG4gICdCb3N0b24gQ29sbGVnZSBFYWdsZXMnOiBbJ0Jvc3RvbiBDb2xsZWdlJywgJ0JDJywgJ0VhZ2xlcycsICdCT1NUJ10sXG4gICdXYWtlIEZvcmVzdCBEZW1vbiBEZWFjb25zJzogWydXYWtlIEZvcmVzdCcsICdXYWtlJywgJ0RlbW9uIERlYWNvbnMnLCAnV0FLRSddLFxuICAnR2VvcmdpYSBUZWNoIFllbGxvdyBKYWNrZXRzJzogWydHZW9yZ2lhIFRlY2gnLCAnR1QnLCAnWWVsbG93IEphY2tldHMnLCAnR0FURUNIJ10sXG4gIFxuICAvLyBQYWMtMTJcbiAgJ09yZWdvbiBEdWNrcyc6IFsnT3JlZ29uJywgJ0R1Y2tzJywgJ09SRScsICdPUkVHJ10sXG4gICdPcmVnb24gU3RhdGUgQmVhdmVycyc6IFsnT3JlZ29uIFN0YXRlJywgJ09yZWdvbiBTdC4nLCAnT1NVJywgJ0JlYXZlcnMnLCAnT1JTVCddLFxuICAnV2FzaGluZ3RvbiBIdXNraWVzJzogWydXYXNoaW5ndG9uJywgJ1VXJywgJ0h1c2tpZXMnLCAnV0FTSCddLFxuICAnV2FzaGluZ3RvbiBTdGF0ZSBDb3VnYXJzJzogWydXYXNoaW5ndG9uIFN0YXRlJywgJ1dhc2hpbmd0b24gU3QuJywgJ1dTVScsICdXYXp6dScsICdDb3VnYXJzJywgJ1dBU1QnXSxcbiAgJ1VTQyBUcm9qYW5zJzogWydVU0MnLCAnU291dGhlcm4gQ2FsJywgJ1Ryb2phbnMnXSxcbiAgJ1VDTEEgQnJ1aW5zJzogWydVQ0xBJywgJ0JydWlucyddLFxuICAnU3RhbmZvcmQgQ2FyZGluYWwnOiBbJ1N0YW5mb3JkJywgJ0NhcmRpbmFsJywgJ1NUQU4nXSxcbiAgJ0NhbGlmb3JuaWEgR29sZGVuIEJlYXJzJzogWydDYWxpZm9ybmlhJywgJ0NhbCcsICdHb2xkZW4gQmVhcnMnLCAnQ0FMJ10sXG4gICdBcml6b25hIFdpbGRjYXRzJzogWydBcml6b25hJywgJ1VBJywgJ1dpbGRjYXRzJywgJ0FSSVonXSxcbiAgJ0FyaXpvbmEgU3RhdGUgU3VuIERldmlscyc6IFsnQXJpem9uYSBTdGF0ZScsICdBcml6b25hIFN0LicsICdBU1UnLCAnU3VuIERldmlscycsICdBWlNUJ10sXG4gICdDb2xvcmFkbyBCdWZmYWxvZXMnOiBbJ0NvbG9yYWRvJywgJ0NVJywgJ0J1ZmZzJywgJ0J1ZmZhbG9lcycsICdDT0xPJ10sXG4gICdVdGFoIFV0ZXMnOiBbJ1V0YWgnLCAnVXRlcycsICdVVEFIJ10sXG4gIFxuICAvLyBPdGhlciBOb3RhYmxlIFRlYW1zXG4gICdOb3RyZSBEYW1lIEZpZ2h0aW5nIElyaXNoJzogWydOb3RyZSBEYW1lJywgJ05EJywgJ0ZpZ2h0aW5nIElyaXNoJywgJ0lyaXNoJ10sXG4gICdBcm15IEJsYWNrIEtuaWdodHMnOiBbJ0FybXknLCAnQmxhY2sgS25pZ2h0cycsICdBUk1ZJ10sXG4gICdOYXZ5IE1pZHNoaXBtZW4nOiBbJ05hdnknLCAnTWlkc2hpcG1lbicsICdOQVZZJ10sXG4gICdBaXIgRm9yY2UgRmFsY29ucyc6IFsnQWlyIEZvcmNlJywgJ0ZhbGNvbnMnLCAnQUZBJ10sXG4gIFxuICAvLyBHcm91cCBvZiBGaXZlIC0gQUFDLCBNb3VudGFpbiBXZXN0LCBldGMuXG4gICdTTVUgTXVzdGFuZ3MnOiBbJ1NNVScsICdTb3V0aGVybiBNZXRob2Rpc3QnLCAnTXVzdGFuZ3MnXSxcbiAgJ01lbXBoaXMgVGlnZXJzJzogWydNZW1waGlzJywgJ1RpZ2VycycsICdNRU0nXSxcbiAgJ1R1bGFuZSBHcmVlbiBXYXZlJzogWydUdWxhbmUnLCAnR3JlZW4gV2F2ZScsICdUVUxOJ10sXG4gICdUdWxzYSBHb2xkZW4gSHVycmljYW5lJzogWydUdWxzYScsICdHb2xkZW4gSHVycmljYW5lJywgJ1RVTFMnXSxcbiAgJ1NvdXRoIEZsb3JpZGEgQnVsbHMnOiBbJ1NvdXRoIEZsb3JpZGEnLCAnUy4gRmxvcmlkYScsICdVU0YnLCAnQnVsbHMnXSxcbiAgJ1RlbXBsZSBPd2xzJzogWydUZW1wbGUnLCAnT3dscycsICdURU0nXSxcbiAgJ0Vhc3QgQ2Fyb2xpbmEgUGlyYXRlcyc6IFsnRWFzdCBDYXJvbGluYScsICdFQ1UnLCAnUGlyYXRlcyddLFxuICAnQm9pc2UgU3RhdGUgQnJvbmNvcyc6IFsnQm9pc2UgU3RhdGUnLCAnQm9pc2UgU3QuJywgJ0JTVScsICdCcm9uY29zJywgJ0JPSVMnXSxcbiAgJ0ZyZXNubyBTdGF0ZSBCdWxsZG9ncyc6IFsnRnJlc25vIFN0YXRlJywgJ0ZyZXNubyBTdC4nLCAnQnVsbGRvZ3MnLCAnRlJFUyddLFxuICAnU2FuIERpZWdvIFN0YXRlIEF6dGVjcyc6IFsnU2FuIERpZWdvIFN0YXRlJywgJ1NhbiBEaWVnbyBTdC4nLCAnU0RTVScsICdBenRlY3MnXSxcbiAgJ1VOTFYgUmViZWxzJzogWydVTkxWJywgJ05ldmFkYSBMYXMgVmVnYXMnLCAnUmViZWxzJ10sXG4gICdOZXZhZGEgV29sZiBQYWNrJzogWydOZXZhZGEnLCAnV29sZiBQYWNrJywgJ05FViddLFxuICAnSGF3YWlpIFJhaW5ib3cgV2FycmlvcnMnOiBbJ0hhd2FpaScsICdSYWluYm93IFdhcnJpb3JzJywgJ0hBVyddLFxuICAnU2FuIEpvc2UgU3RhdGUgU3BhcnRhbnMnOiBbJ1NhbiBKb3NlIFN0YXRlJywgJ1NhbiBKb3NlIFN0LicsICdTSlNVJywgJ1NwYXJ0YW5zJ10sXG4gIFxuICAvLyBBZGRpdGlvbmFsIFRlYW1zXG4gICdVQUIgQmxhemVycyc6IFsnVUFCJywgJ0FsYWJhbWEgQmlybWluZ2hhbScsICdCbGF6ZXJzJ10sXG4gICdVVFNBIFJvYWRydW5uZXJzJzogWydVVFNBJywgJ1VUIFNhbiBBbnRvbmlvJywgJ1JvYWRydW5uZXJzJ10sXG4gICdVVEVQIE1pbmVycyc6IFsnVVRFUCcsICdVVCBFbCBQYXNvJywgJ01pbmVycyddLFxuICAnUmljZSBPd2xzJzogWydSaWNlJywgJ093bHMnLCAnUklDRSddLFxuICAnTm9ydGggVGV4YXMgTWVhbiBHcmVlbic6IFsnTm9ydGggVGV4YXMnLCAnVU5UJywgJ01lYW4gR3JlZW4nLCAnTlRFWCddLFxuICAnQ2hhcmxvdHRlIDQ5ZXJzJzogWydDaGFybG90dGUnLCAnQ2hhcmxvdHRlIDQ5ZXJzJywgJ0NIQVInLCAnNDllcnMnXSxcbiAgJ01hcnNoYWxsIFRodW5kZXJpbmcgSGVyZCc6IFsnTWFyc2hhbGwnLCAnVGh1bmRlcmluZyBIZXJkJywgJ01SU0gnXSxcbiAgJ1dlc3Rlcm4gTWljaGlnYW4gQnJvbmNvcyc6IFsnV2VzdGVybiBNaWNoaWdhbicsICdXZXN0ZXJuIE1pY2gnLCAnV01VJywgJ0Jyb25jb3MnLCAnV01JQ0gnXSxcbiAgJ0NlbnRyYWwgTWljaGlnYW4gQ2hpcHBld2FzJzogWydDZW50cmFsIE1pY2hpZ2FuJywgJ0NlbnRyYWwgTWljaCcsICdDTVUnLCAnQ2hpcHBld2FzJywgJ0NNSUNIJ10sXG4gICdFYXN0ZXJuIE1pY2hpZ2FuIEVhZ2xlcyc6IFsnRWFzdGVybiBNaWNoaWdhbicsICdFYXN0ZXJuIE1pY2gnLCAnRU1VJywgJ0VhZ2xlcycsICdFTUlDSCddLFxuICAnTm9ydGhlcm4gSWxsaW5vaXMgSHVza2llcyc6IFsnTm9ydGhlcm4gSWxsaW5vaXMnLCAnTm9ydGhlcm4gSWxsJywgJ05JVScsICdIdXNraWVzJywgJ05JTEwnXSxcbiAgJ1RvbGVkbyBSb2NrZXRzJzogWydUb2xlZG8nLCAnUm9ja2V0cycsICdUT0wnXSxcbiAgJ0Jvd2xpbmcgR3JlZW4gRmFsY29ucyc6IFsnQm93bGluZyBHcmVlbicsICdCR1NVJywgJ0ZhbGNvbnMnLCAnQkdXTCddLFxuICAnS2VudCBTdGF0ZSBHb2xkZW4gRmxhc2hlcyc6IFsnS2VudCBTdGF0ZScsICdLZW50IFN0LicsICdHb2xkZW4gRmxhc2hlcycsICdLRU5UJ10sXG4gICdBa3JvbiBaaXBzJzogWydBa3JvbicsICdaaXBzJywgJ0FLUiddLFxuICAnT2hpbyBCb2JjYXRzJzogWydPaGlvJywgJ0JvYmNhdHMnLCAnT0hJTyddLFxuICAnTWlhbWkgKE9IKSBSZWRIYXdrcyc6IFsnTWlhbWkgKE9IKScsICdNaWFtaSBPaGlvJywgJ01pYW1pLU9oaW8nLCAnUmVkSGF3a3MnLCAnTUlPSCddLFxuICAnQmFsbCBTdGF0ZSBDYXJkaW5hbHMnOiBbJ0JhbGwgU3RhdGUnLCAnQmFsbCBTdC4nLCAnQ2FyZGluYWxzJywgJ0JBTEwnXSxcbiAgJ0J1ZmZhbG8gQnVsbHMnOiBbJ0J1ZmZhbG8nLCAnQnVsbHMnLCAnQlVGRiddLFxuICBcbiAgLy8gRkNTIFRlYW1zIHRoYXQgc29tZXRpbWVzIHBsYXkgRkJTXG4gICdKYW1lcyBNYWRpc29uIER1a2VzJzogWydKYW1lcyBNYWRpc29uJywgJ0pNVScsICdEdWtlcycsICdKTUFEJ10sXG4gICdMaWJlcnR5IEZsYW1lcyc6IFsnTGliZXJ0eScsICdGbGFtZXMnLCAnTElCJ10sXG4gICdKYWNrc29udmlsbGUgU3RhdGUgR2FtZWNvY2tzJzogWydKYWNrc29udmlsbGUgU3RhdGUnLCAnSmFja3NvbnZpbGxlIFN0LicsICdKU1UnLCAnR2FtZWNvY2tzJywgJ0pLU1QnXSxcbiAgJ1NhbSBIb3VzdG9uIFN0YXRlIEJlYXJrYXRzJzogWydTYW0gSG91c3RvbiBTdGF0ZScsICdTYW0gSG91c3RvbiBTdC4nLCAnU0hTVScsICdCZWFya2F0cycsICdTSFNUJ10sXG4gICdNaXNzb3VyaSBTdGF0ZSBCZWFycyc6IFsnTWlzc291cmkgU3RhdGUnLCAnTWlzc291cmkgU3QuJywgJ0JlYXJzJywgJ01PU1QnXSxcbiAgJ0Fya2Fuc2FzIFN0YXRlIFJlZCBXb2x2ZXMnOiBbJ0Fya2Fuc2FzIFN0YXRlJywgJ0Fya2Fuc2FzIFN0LicsICdSZWQgV29sdmVzJywgJ0FSU1QnXSxcbiAgJ0dlb3JnaWEgU3RhdGUgUGFudGhlcnMnOiBbJ0dlb3JnaWEgU3RhdGUnLCAnR2VvcmdpYSBTdC4nLCAnUGFudGhlcnMnLCAnR0FTVCddLFxuICAnR2VvcmdpYSBTb3V0aGVybiBFYWdsZXMnOiBbJ0dlb3JnaWEgU291dGhlcm4nLCAnRWFnbGVzJywgJ0dBU09VJ10sXG4gICdMb3Vpc2lhbmEgVGVjaCBCdWxsZG9ncyc6IFsnTG91aXNpYW5hIFRlY2gnLCAnTGEgVGVjaCcsICdCdWxsZG9ncycsICdMVEVDSCddLFxuICAnVUwgTW9ucm9lIFdhcmhhd2tzJzogWydVTCBNb25yb2UnLCAnTG91aXNpYW5hIE1vbnJvZScsICdVTE0nLCAnV2FyaGF3a3MnLCAnVUxNT04nXSxcbiAgJ1NvdXRoIEFsYWJhbWEgSmFndWFycyc6IFsnU291dGggQWxhYmFtYScsICdVU0EnLCAnSmFndWFycycsICdTQUxBJ10sXG4gICdUcm95IFRyb2phbnMnOiBbJ1Ryb3knLCAnVHJvamFucycsICdUUk9ZJ10sXG4gICdNaWRkbGUgVGVubmVzc2VlIEJsdWUgUmFpZGVycyc6IFsnTWlkZGxlIFRlbm5lc3NlZScsICdNaWRkbGUgVGVubicsICdNVFNVJywgJ0JsdWUgUmFpZGVycycsICdNVEVOTiddLFxuICAnV2VzdGVybiBLZW50dWNreSBIaWxsdG9wcGVycyc6IFsnV2VzdGVybiBLZW50dWNreScsICdXS1UnLCAnSGlsbHRvcHBlcnMnLCAnV0tFTiddLFxuICAnRklVIFBhbnRoZXJzJzogWydGSVUnLCAnRmxvcmlkYSBJbnRlcm5hdGlvbmFsJywgJ1BhbnRoZXJzJ10sXG4gICdGQVUgT3dscyc6IFsnRkFVJywgJ0Zsb3JpZGEgQXRsYW50aWMnLCAnT3dscyddLFxuICAnTG91aXNpYW5hIFJhZ2luXFwnIENhanVucyc6IFsnTG91aXNpYW5hJywgJ0xvdWlzaWFuYSBMYWZheWV0dGUnLCAnVUxMJywgJ1JhZ2luXFwnIENhanVucycsICdMQUxBJ10sXG4gICdOZXcgTWV4aWNvIFN0YXRlIEFnZ2llcyc6IFsnTmV3IE1leGljbyBTdGF0ZScsICdOZXcgTWV4aWNvIFN0LicsICdOTVNVJywgJ0FnZ2llcycsICdOTVNUJ10sXG4gICdOZXcgTWV4aWNvIExvYm9zJzogWydOZXcgTWV4aWNvJywgJ0xvYm9zJywgJ05NRVgnXSxcbiAgJ1V0YWggU3RhdGUgQWdnaWVzJzogWydVdGFoIFN0YXRlJywgJ1V0YWggU3QuJywgJ1VTVScsICdBZ2dpZXMnLCAnVVRTVCddLFxuICAnV3lvbWluZyBDb3dib3lzJzogWydXeW9taW5nJywgJ0Nvd2JveXMnLCAnV1lPJ10sXG4gICdDb2xvcmFkbyBTdGF0ZSBSYW1zJzogWydDb2xvcmFkbyBTdGF0ZScsICdDb2xvcmFkbyBTdC4nLCAnQ1NVJywgJ1JhbXMnLCAnQ09TVCddLFxuICBcbiAgLy8gQWRkaXRpb25hbCBzbWFsbCBzY2hvb2xzXG4gICdDb25uZWN0aWN1dCBIdXNraWVzJzogWydDb25uZWN0aWN1dCcsICdVQ29ubicsICdIdXNraWVzJywgJ0NPTk4nXSxcbiAgJ1VNYXNzIE1pbnV0ZW1lbic6IFsnVU1hc3MnLCAnTWFzc2FjaHVzZXR0cycsICdNaW51dGVtZW4nLCAnVU1BUyddLFxuICAnT2xkIERvbWluaW9uIE1vbmFyY2hzJzogWydPbGQgRG9taW5pb24nLCAnT0RVJywgJ01vbmFyY2hzJywgJ09ET00nXSxcbiAgJ0NvYXN0YWwgQ2Fyb2xpbmEgQ2hhbnRpY2xlZXJzJzogWydDb2FzdGFsIENhcm9saW5hJywgJ0NDVScsICdDaGFudGljbGVlcnMnLCAnQ0NBUiddLFxuICAnQXBwYWxhY2hpYW4gU3RhdGUgTW91bnRhaW5lZXJzJzogWydBcHBhbGFjaGlhbiBTdGF0ZScsICdBcHAgU3RhdGUnLCAnTW91bnRhaW5lZXJzJywgJ0FQUFMnXSxcbiAgJ1RleGFzIFN0YXRlIEJvYmNhdHMnOiBbJ1RleGFzIFN0YXRlJywgJ1RleGFzIFN0LicsICdCb2JjYXRzJywgJ1RYU1QnXSxcbiAgJ1NvdXRoZXJuIE1pc3MgR29sZGVuIEVhZ2xlcyc6IFsnU291dGhlcm4gTWlzcycsICdTb3V0aGVybiBNaXNzaXNzaXBwaScsICdVU00nLCAnR29sZGVuIEVhZ2xlcycsICdTTUlTJ10sXG4gICdEZWxhd2FyZSBCbHVlIEhlbnMnOiBbJ0RlbGF3YXJlJywgJ0JsdWUgSGVucycsICdERUwnXSxcbiAgJ0tlbm5lc2F3IFN0YXRlIE93bHMnOiBbJ0tlbm5lc2F3IFN0YXRlJywgJ0tlbm5lc2F3IFN0LicsICdLU1UnLCAnT3dscycsICdLRU5OJ11cbn1cblxuLy8gQ29tbW9uIE5DQUFGIHRlYW0gcGF0dGVybnNcbmNvbnN0IE5DQUFGX1BBVFRFUk5TID0ge1xuICBzdGF0ZVNjaG9vbHM6IFsnU3RhdGUnLCAnVW5pdmVyc2l0eScsICdDb2xsZWdlJywgJ1RlY2gnLCAnQSZNJ10sXG4gIGNvbW1vbkFiYnJldmlhdGlvbnM6IE9iamVjdC5rZXlzKE5DQUFGX1RFQU1fTUFQUElOR1MpLnJlZHVjZSgoYWNjLCB0ZWFtKSA9PiB7XG4gICAgY29uc3QgYWJicmV2aWF0aW9ucyA9IE5DQUFGX1RFQU1fTUFQUElOR1NbdGVhbV0uZmlsdGVyKGFsaWFzID0+IGFsaWFzLmxlbmd0aCA8PSA0ICYmIGFsaWFzID09PSBhbGlhcy50b1VwcGVyQ2FzZSgpKVxuICAgIGFiYnJldmlhdGlvbnMuZm9yRWFjaChhYmJyID0+IHtcbiAgICAgIGFjY1thYmJyXSA9IHRlYW1cbiAgICB9KVxuICAgIHJldHVybiBhY2NcbiAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPilcbn1cblxuLy8gVHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgVGVhbU1hdGNoIHtcbiAgb3JpZ2luYWxOYW1lOiBzdHJpbmdcbiAgbWF0Y2hlZE5hbWU6IHN0cmluZ1xuICBjb25maWRlbmNlOiBudW1iZXJcbiAgbGVhZ3VlOiAnTkZMJyB8ICdOQ0FBRidcbiAgbWV0aG9kOiAnZXhhY3QnIHwgJ2FsaWFzJyB8ICdmdXp6eScgfCAnbGxtJ1xuICBjYW5kaWRhdGVzPzogQXJyYXk8eyBuYW1lOiBzdHJpbmc7IHNjb3JlOiBudW1iZXIgfT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lTWF0Y2gge1xuICBob21lVGVhbTogVGVhbU1hdGNoXG4gIGF3YXlUZWFtOiBUZWFtTWF0Y2hcbiAgb3ZlcmFsbENvbmZpZGVuY2U6IG51bWJlclxuICBuZWVkc1ZlcmlmaWNhdGlvbjogYm9vbGVhblxufVxuXG5leHBvcnQgY2xhc3MgRW50aXR5UmVzb2x2ZXIge1xuICBwcml2YXRlIG5mbEZ1c2U6IEZ1c2U8eyBuYW1lOiBzdHJpbmc7IGFsaWFzZXM6IHN0cmluZ1tdIH0+XG4gIHByaXZhdGUgbmNhYWZGdXNlOiBGdXNlPHsgbmFtZTogc3RyaW5nOyBhbGlhc2VzOiBzdHJpbmdbXSB9PlxuICBwcml2YXRlIG9wZW5haT86IE9wZW5BSVxuXG4gIGNvbnN0cnVjdG9yKG9wZW5haUFwaUtleT86IHN0cmluZykge1xuICAgIC8vIEluaXRpYWxpemUgRnVzZS5qcyBmb3IgTkZMIHRlYW1zXG4gICAgY29uc3QgbmZsVGVhbXMgPSBPYmplY3QuZW50cmllcyhORkxfVEVBTV9NQVBQSU5HUykubWFwKChbbmFtZSwgYWxpYXNlc10pID0+ICh7XG4gICAgICBuYW1lLFxuICAgICAgYWxpYXNlc1xuICAgIH0pKVxuXG4gICAgdGhpcy5uZmxGdXNlID0gbmV3IEZ1c2UobmZsVGVhbXMsIHtcbiAgICAgIGtleXM6IFsnbmFtZScsICdhbGlhc2VzJ10sXG4gICAgICB0aHJlc2hvbGQ6IDAuNCwgLy8gQWxsb3cgZm9yIHNvbWUgZnV6enkgbWF0Y2hpbmdcbiAgICAgIGluY2x1ZGVTY29yZTogdHJ1ZSxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aDogM1xuICAgIH0pXG5cbiAgICAvLyBJbml0aWFsaXplIEZ1c2UuanMgZm9yIE5DQUFGIHRlYW1zXG4gICAgY29uc3QgbmNhYWZUZWFtcyA9IE9iamVjdC5lbnRyaWVzKE5DQUFGX1RFQU1fTUFQUElOR1MpLm1hcCgoW25hbWUsIGFsaWFzZXNdKSA9PiAoe1xuICAgICAgbmFtZSxcbiAgICAgIGFsaWFzZXNcbiAgICB9KSlcblxuICAgIHRoaXMubmNhYWZGdXNlID0gbmV3IEZ1c2UobmNhYWZUZWFtcywge1xuICAgICAga2V5czogWyduYW1lJywgJ2FsaWFzZXMnXSxcbiAgICAgIHRocmVzaG9sZDogMC40LFxuICAgICAgaW5jbHVkZVNjb3JlOiB0cnVlLFxuICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoOiAzXG4gICAgfSlcblxuICAgIC8vIEluaXRpYWxpemUgT3BlbkFJIGlmIEFQSSBrZXkgaXMgcHJvdmlkZWRcbiAgICBpZiAob3BlbmFpQXBpS2V5IHx8IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZKSB7XG4gICAgICB0aGlzLm9wZW5haSA9IG5ldyBPcGVuQUkoe1xuICAgICAgICBhcGlLZXk6IG9wZW5haUFwaUtleSB8fCBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTm9ybWFsaXplIHRlYW0gbmFtZSBmb3IgbWF0Y2hpbmdcbiAgICovXG4gIG5vcm1hbGl6ZVRlYW1OYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5hbWVcbiAgICAgIC50cmltKClcbiAgICAgIC5yZXBsYWNlKC9bXlxcd1xcc10vZywgJycpIC8vIFJlbW92ZSBzcGVjaWFsIGNoYXJhY3RlcnNcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykgLy8gTm9ybWFsaXplIHdoaXRlc3BhY2VcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgZm9yIGV4YWN0IG1hdGNoIG9yIGFsaWFzIG1hdGNoIGZvciBORkwgdGVhbXNcbiAgICovXG4gIGZpbmRORkxUZWFtRXhhY3QodGVhbU5hbWU6IHN0cmluZyk6IFRlYW1NYXRjaCB8IG51bGwge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB0aGlzLm5vcm1hbGl6ZVRlYW1OYW1lKHRlYW1OYW1lKVxuICAgIFxuICAgIC8vIENoZWNrIGVhY2ggdGVhbSBhbmQgaXRzIGFsaWFzZXNcbiAgICBmb3IgKGNvbnN0IFtvZmZpY2lhbE5hbWUsIGFsaWFzZXNdIG9mIE9iamVjdC5lbnRyaWVzKE5GTF9URUFNX01BUFBJTkdTKSkge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZE9mZmljaWFsID0gdGhpcy5ub3JtYWxpemVUZWFtTmFtZShvZmZpY2lhbE5hbWUpXG4gICAgICBcbiAgICAgIGlmIChub3JtYWxpemVkT2ZmaWNpYWwgPT09IG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBvcmlnaW5hbE5hbWU6IHRlYW1OYW1lLFxuICAgICAgICAgIG1hdGNoZWROYW1lOiBvZmZpY2lhbE5hbWUsXG4gICAgICAgICAgY29uZmlkZW5jZTogMS4wLFxuICAgICAgICAgIGxlYWd1ZTogJ05GTCcsXG4gICAgICAgICAgbWV0aG9kOiAnZXhhY3QnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgYWxpYXNlc1xuICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgICAgIGlmICh0aGlzLm5vcm1hbGl6ZVRlYW1OYW1lKGFsaWFzKSA9PT0gbm9ybWFsaXplZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcmlnaW5hbE5hbWU6IHRlYW1OYW1lLFxuICAgICAgICAgICAgbWF0Y2hlZE5hbWU6IG9mZmljaWFsTmFtZSxcbiAgICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgICAgICBsZWFndWU6ICdORkwnLFxuICAgICAgICAgICAgbWV0aG9kOiAnYWxpYXMnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvKipcbiAgICogVXNlIGZ1enp5IG1hdGNoaW5nIGZvciBORkwgdGVhbXNcbiAgICovXG4gIGZpbmRORkxUZWFtRnV6enkodGVhbU5hbWU6IHN0cmluZyk6IFRlYW1NYXRjaCB8IG51bGwge1xuICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLm5mbEZ1c2Uuc2VhcmNoKHRlYW1OYW1lKVxuICAgIFxuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRvcE1hdGNoID0gcmVzdWx0c1swXVxuICAgICAgY29uc3QgY29uZmlkZW5jZSA9IDEgLSAodG9wTWF0Y2guc2NvcmUgfHwgMCkgLy8gQ29udmVydCBGdXNlIHNjb3JlIHRvIGNvbmZpZGVuY2VcbiAgICAgIFxuICAgICAgaWYgKGNvbmZpZGVuY2UgPiAwLjYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBvcmlnaW5hbE5hbWU6IHRlYW1OYW1lLFxuICAgICAgICAgIG1hdGNoZWROYW1lOiB0b3BNYXRjaC5pdGVtLm5hbWUsXG4gICAgICAgICAgY29uZmlkZW5jZTogY29uZmlkZW5jZSAqIDAuOSwgLy8gU2xpZ2h0bHkgcmVkdWNlIGNvbmZpZGVuY2UgZm9yIGZ1enp5IG1hdGNoZXNcbiAgICAgICAgICBsZWFndWU6ICdORkwnLFxuICAgICAgICAgIG1ldGhvZDogJ2Z1enp5JyxcbiAgICAgICAgICBjYW5kaWRhdGVzOiByZXN1bHRzLnNsaWNlKDAsIDMpLm1hcChyID0+ICh7XG4gICAgICAgICAgICBuYW1lOiByLml0ZW0ubmFtZSxcbiAgICAgICAgICAgIHNjb3JlOiAxIC0gKHIuc2NvcmUgfHwgMClcbiAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGZvciBleGFjdCBtYXRjaCBvciBhbGlhcyBtYXRjaCBmb3IgTkNBQUYgdGVhbXNcbiAgICovXG4gIGZpbmROQ0FBRlRlYW1FeGFjdCh0ZWFtTmFtZTogc3RyaW5nKTogVGVhbU1hdGNoIHwgbnVsbCB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHRoaXMubm9ybWFsaXplVGVhbU5hbWUodGVhbU5hbWUpXG4gICAgXG4gICAgLy8gUmVtb3ZlIHJhbmtpbmcgaWYgcHJlc2VudFxuICAgIGNvbnN0IGNsZWFuTmFtZSA9IHRlYW1OYW1lLnJlcGxhY2UoL14jXFxkK1xccyovLCAnJylcbiAgICBjb25zdCBub3JtYWxpemVkQ2xlYW4gPSB0aGlzLm5vcm1hbGl6ZVRlYW1OYW1lKGNsZWFuTmFtZSlcbiAgICBcbiAgICAvLyBDaGVjayBlYWNoIHRlYW0gYW5kIGl0cyBhbGlhc2VzXG4gICAgZm9yIChjb25zdCBbb2ZmaWNpYWxOYW1lLCBhbGlhc2VzXSBvZiBPYmplY3QuZW50cmllcyhOQ0FBRl9URUFNX01BUFBJTkdTKSkge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZE9mZmljaWFsID0gdGhpcy5ub3JtYWxpemVUZWFtTmFtZShvZmZpY2lhbE5hbWUpXG4gICAgICBcbiAgICAgIGlmIChub3JtYWxpemVkT2ZmaWNpYWwgPT09IG5vcm1hbGl6ZWQgfHwgbm9ybWFsaXplZE9mZmljaWFsID09PSBub3JtYWxpemVkQ2xlYW4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBvcmlnaW5hbE5hbWU6IHRlYW1OYW1lLFxuICAgICAgICAgIG1hdGNoZWROYW1lOiBvZmZpY2lhbE5hbWUsXG4gICAgICAgICAgY29uZmlkZW5jZTogMS4wLFxuICAgICAgICAgIGxlYWd1ZTogJ05DQUFGJyxcbiAgICAgICAgICBtZXRob2Q6ICdleGFjdCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBhbGlhc2VzXG4gICAgICBmb3IgKGNvbnN0IGFsaWFzIG9mIGFsaWFzZXMpIHtcbiAgICAgICAgaWYgKHRoaXMubm9ybWFsaXplVGVhbU5hbWUoYWxpYXMpID09PSBub3JtYWxpemVkIHx8IHRoaXMubm9ybWFsaXplVGVhbU5hbWUoYWxpYXMpID09PSBub3JtYWxpemVkQ2xlYW4pIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3JpZ2luYWxOYW1lOiB0ZWFtTmFtZSxcbiAgICAgICAgICAgIG1hdGNoZWROYW1lOiBvZmZpY2lhbE5hbWUsXG4gICAgICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICAgICAgbGVhZ3VlOiAnTkNBQUYnLFxuICAgICAgICAgICAgbWV0aG9kOiAnYWxpYXMnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvKipcbiAgICogVXNlIGZ1enp5IG1hdGNoaW5nIGZvciBOQ0FBRiB0ZWFtc1xuICAgKi9cbiAgZmluZE5DQUFGVGVhbUZ1enp5KHRlYW1OYW1lOiBzdHJpbmcpOiBUZWFtTWF0Y2ggfCBudWxsIHtcbiAgICAvLyBSZW1vdmUgcmFua2luZyBpZiBwcmVzZW50XG4gICAgY29uc3QgY2xlYW5OYW1lID0gdGVhbU5hbWUucmVwbGFjZSgvXiNcXGQrXFxzKi8sICcnKVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLm5jYWFmRnVzZS5zZWFyY2goY2xlYW5OYW1lKVxuICAgIFxuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRvcE1hdGNoID0gcmVzdWx0c1swXVxuICAgICAgY29uc3QgY29uZmlkZW5jZSA9IDEgLSAodG9wTWF0Y2guc2NvcmUgfHwgMClcbiAgICAgIFxuICAgICAgaWYgKGNvbmZpZGVuY2UgPiAwLjYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBvcmlnaW5hbE5hbWU6IHRlYW1OYW1lLFxuICAgICAgICAgIG1hdGNoZWROYW1lOiB0b3BNYXRjaC5pdGVtLm5hbWUsXG4gICAgICAgICAgY29uZmlkZW5jZTogY29uZmlkZW5jZSAqIDAuOSxcbiAgICAgICAgICBsZWFndWU6ICdOQ0FBRicsXG4gICAgICAgICAgbWV0aG9kOiAnZnV6enknLFxuICAgICAgICAgIGNhbmRpZGF0ZXM6IHJlc3VsdHMuc2xpY2UoMCwgMykubWFwKHIgPT4gKHtcbiAgICAgICAgICAgIG5hbWU6IHIuaXRlbS5uYW1lLFxuICAgICAgICAgICAgc2NvcmU6IDEgLSAoci5zY29yZSB8fCAwKVxuICAgICAgICAgIH0pKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvKipcbiAgICogRGV0ZWN0IGlmIGEgdGVhbSBpcyBsaWtlbHkgTkNBQUYgYmFzZWQgb24gcGF0dGVybnNcbiAgICovXG4gIGlzTGlrZWx5TkNBQSh0ZWFtTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbmFtZSA9IHRlYW1OYW1lLnRvTG93ZXJDYXNlKClcbiAgICBcbiAgICAvLyBDaGVjayBmb3Igc3RhdGUgc2Nob29sIHBhdHRlcm5zXG4gICAgaWYgKE5DQUFGX1BBVFRFUk5TLnN0YXRlU2Nob29scy5zb21lKHBhdHRlcm4gPT4gXG4gICAgICBuYW1lLmluY2x1ZGVzKHBhdHRlcm4udG9Mb3dlckNhc2UoKSlcbiAgICApKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3Iga25vd24gYWJicmV2aWF0aW9uc1xuICAgIGlmIChPYmplY3Qua2V5cyhOQ0FBRl9QQVRURVJOUy5jb21tb25BYmJyZXZpYXRpb25zKS5zb21lKGFiYnIgPT4gXG4gICAgICBuYW1lLmluY2x1ZGVzKGFiYnIudG9Mb3dlckNhc2UoKSlcbiAgICApKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3IgcmFua2luZ3MgKGUuZy4sIFwiIzFcIiwgXCIjMTFcIilcbiAgICBpZiAoL14jXFxkKy8udGVzdCh0ZWFtTmFtZS50cmltKCkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXRjaCBhIHNpbmdsZSB0ZWFtIG5hbWVcbiAgICovXG4gIGFzeW5jIG1hdGNoVGVhbSh0ZWFtTmFtZTogc3RyaW5nLCBsZWFndWU/OiAnTkZMJyB8ICdOQ0FBRicpOiBQcm9taXNlPFRlYW1NYXRjaD4ge1xuICAgIC8vIFRyeSBORkwgZXhhY3QgbWF0Y2ggZmlyc3QgKHVubGVzcyBleHBsaWNpdGx5IE5DQUFGKVxuICAgIGlmIChsZWFndWUgIT09ICdOQ0FBRicpIHtcbiAgICAgIGNvbnN0IG5mbEV4YWN0ID0gdGhpcy5maW5kTkZMVGVhbUV4YWN0KHRlYW1OYW1lKVxuICAgICAgaWYgKG5mbEV4YWN0KSB7XG4gICAgICAgIHJldHVybiBuZmxFeGFjdFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBJZiBsZWFndWUgaXMgc3BlY2lmaWVkIGFzIE5DQUFGIG9yIHRlYW0gaXMgbGlrZWx5IE5DQUFcbiAgICBpZiAobGVhZ3VlID09PSAnTkNBQUYnIHx8IHRoaXMuaXNMaWtlbHlOQ0FBKHRlYW1OYW1lKSkge1xuICAgICAgLy8gVHJ5IGV4YWN0IE5DQUFGIG1hdGNoIGZpcnN0XG4gICAgICBjb25zdCBuY2FhZkV4YWN0ID0gdGhpcy5maW5kTkNBQUZUZWFtRXhhY3QodGVhbU5hbWUpXG4gICAgICBpZiAobmNhYWZFeGFjdCkge1xuICAgICAgICByZXR1cm4gbmNhYWZFeGFjdFxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBUcnkgZnV6enkgTkNBQUYgbWF0Y2hcbiAgICAgIGNvbnN0IG5jYWFmRnV6enkgPSB0aGlzLmZpbmROQ0FBRlRlYW1GdXp6eSh0ZWFtTmFtZSlcbiAgICAgIGlmIChuY2FhZkZ1enp5KSB7XG4gICAgICAgIHJldHVybiBuY2FhZkZ1enp5XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFRyeSBORkwgZnV6enkgbWF0Y2hpbmcgaWYgbm90IGV4cGxpY2l0bHkgTkNBQUZcbiAgICBpZiAobGVhZ3VlICE9PSAnTkNBQUYnKSB7XG4gICAgICBjb25zdCBuZmxGdXp6eSA9IHRoaXMuZmluZE5GTFRlYW1GdXp6eSh0ZWFtTmFtZSlcbiAgICAgIGlmIChuZmxGdXp6eSkge1xuICAgICAgICByZXR1cm4gbmZsRnV6enlcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSWYgc3RpbGwgbm8gbWF0Y2ggYW5kIGxpa2VseSBOQ0FBLCByZXR1cm4gd2l0aCBtZWRpdW0gY29uZmlkZW5jZVxuICAgIGlmICh0aGlzLmlzTGlrZWx5TkNBQSh0ZWFtTmFtZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9yaWdpbmFsTmFtZTogdGVhbU5hbWUsXG4gICAgICAgIG1hdGNoZWROYW1lOiB0ZWFtTmFtZS5yZXBsYWNlKC9eI1xcZCtcXHMqLywgJycpLCAvLyBSZW1vdmUgcmFua2luZ1xuICAgICAgICBjb25maWRlbmNlOiAwLjcsXG4gICAgICAgIGxlYWd1ZTogJ05DQUFGJyxcbiAgICAgICAgbWV0aG9kOiAnZnV6enknXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIGl0IG1pZ2h0IGJlIE5DQUFGIHRoYXQgd2UgbWlzc2VkXG4gICAgY29uc3QgbmNhYWZFeGFjdCA9IHRoaXMuZmluZE5DQUFGVGVhbUV4YWN0KHRlYW1OYW1lKVxuICAgIGlmIChuY2FhZkV4YWN0KSB7XG4gICAgICByZXR1cm4gbmNhYWZFeGFjdFxuICAgIH1cbiAgICBcbiAgICBjb25zdCBuY2FhZkZ1enp5ID0gdGhpcy5maW5kTkNBQUZUZWFtRnV6enkodGVhbU5hbWUpXG4gICAgaWYgKG5jYWFmRnV6enkpIHtcbiAgICAgIHJldHVybiBuY2FhZkZ1enp5XG4gICAgfVxuICAgIFxuICAgIC8vIElmIG5vIG1hdGNoIGZvdW5kIGFuZCBsaWtlbHkgTkNBQSwgcmV0dXJuIGFzIE5DQUFcbiAgICBpZiAodGhpcy5pc0xpa2VseU5DQUEodGVhbU5hbWUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcmlnaW5hbE5hbWU6IHRlYW1OYW1lLFxuICAgICAgICBtYXRjaGVkTmFtZTogdGVhbU5hbWUucmVwbGFjZSgvXiNcXGQrXFxzKi8sICcnKSxcbiAgICAgICAgY29uZmlkZW5jZTogMC42LFxuICAgICAgICBsZWFndWU6ICdOQ0FBRicsXG4gICAgICAgIG1ldGhvZDogJ2Z1enp5J1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBEZWZhdWx0IHRvIGxvdyBjb25maWRlbmNlIG1hdGNoXG4gICAgcmV0dXJuIHtcbiAgICAgIG9yaWdpbmFsTmFtZTogdGVhbU5hbWUsXG4gICAgICBtYXRjaGVkTmFtZTogdGVhbU5hbWUsXG4gICAgICBjb25maWRlbmNlOiAwLjMsXG4gICAgICBsZWFndWU6IGxlYWd1ZSB8fCAnTkZMJyxcbiAgICAgIG1ldGhvZDogJ2Z1enp5J1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYXRjaCBhIGdhbWUgd2l0aCBob21lIGFuZCBhd2F5IHRlYW1zXG4gICAqL1xuICBhc3luYyBtYXRjaEdhbWUoXG4gICAgaG9tZVRlYW06IHN0cmluZyxcbiAgICBhd2F5VGVhbTogc3RyaW5nLFxuICAgIGxlYWd1ZT86ICdORkwnIHwgJ05DQUFGJ1xuICApOiBQcm9taXNlPEdhbWVNYXRjaD4ge1xuICAgIGNvbnN0IFtob21lTWF0Y2gsIGF3YXlNYXRjaF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLm1hdGNoVGVhbShob21lVGVhbSwgbGVhZ3VlKSxcbiAgICAgIHRoaXMubWF0Y2hUZWFtKGF3YXlUZWFtLCBsZWFndWUpXG4gICAgXSlcbiAgICBcbiAgICBjb25zdCBvdmVyYWxsQ29uZmlkZW5jZSA9IChob21lTWF0Y2guY29uZmlkZW5jZSArIGF3YXlNYXRjaC5jb25maWRlbmNlKSAvIDJcbiAgICBjb25zdCBuZWVkc1ZlcmlmaWNhdGlvbiA9IG92ZXJhbGxDb25maWRlbmNlIDwgMC43IHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbWVNYXRjaC5jb25maWRlbmNlIDwgMC42IHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YXlNYXRjaC5jb25maWRlbmNlIDwgMC42XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGhvbWVUZWFtOiBob21lTWF0Y2gsXG4gICAgICBhd2F5VGVhbTogYXdheU1hdGNoLFxuICAgICAgb3ZlcmFsbENvbmZpZGVuY2UsXG4gICAgICBuZWVkc1ZlcmlmaWNhdGlvblxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgTExNIHRvIHZlcmlmeSBhbWJpZ3VvdXMgbWF0Y2hlc1xuICAgKi9cbiAgYXN5bmMgdmVyaWZ5V2l0aExMTShcbiAgICBvcmlnaW5hbE5hbWU6IHN0cmluZyxcbiAgICBjYW5kaWRhdGVzOiBzdHJpbmdbXSxcbiAgICBjb250ZXh0PzogeyBsZWFndWU/OiBzdHJpbmc7IG90aGVyVGVhbT86IHN0cmluZyB9XG4gICk6IFByb21pc2U8eyBtYXRjaGVkTmFtZTogc3RyaW5nOyBjb25maWRlbmNlOiBudW1iZXIgfSB8IG51bGw+IHtcbiAgICBpZiAoIXRoaXMub3BlbmFpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ09wZW5BSSBub3QgY29uZmlndXJlZCBmb3IgTExNIHZlcmlmaWNhdGlvbicpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvbXB0ID0gYE1hdGNoIHRoZSB0ZWFtIG5hbWUgXCIke29yaWdpbmFsTmFtZX1cIiB0byB0aGUgbW9zdCBsaWtlbHkgb2ZmaWNpYWwgdGVhbSBuYW1lIGZyb20gdGhlc2UgY2FuZGlkYXRlczogJHtjYW5kaWRhdGVzLmpvaW4oJywgJyl9LlxuICAgICAgJHtjb250ZXh0Py5sZWFndWUgPyBgTGVhZ3VlOiAke2NvbnRleHQubGVhZ3VlfWAgOiAnJ31cbiAgICAgICR7Y29udGV4dD8ub3RoZXJUZWFtID8gYFBsYXlpbmcgYWdhaW5zdDogJHtjb250ZXh0Lm90aGVyVGVhbX1gIDogJyd9XG4gICAgICBcbiAgICAgIFJlc3BvbmQgd2l0aCBvbmx5IHRoZSBleGFjdCB0ZWFtIG5hbWUgZnJvbSB0aGUgbGlzdCwgb3IgXCJOT05FXCIgaWYgbm8gZ29vZCBtYXRjaC5gXG4gICAgICBcbiAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCB0aGlzLm9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiAnZ3B0LTRvLW1pbmknLFxuICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgIHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6ICdZb3UgYXJlIGEgc3BvcnRzIHRlYW0gbmFtZSBtYXRjaGVyLiBSZXNwb25kIG9ubHkgd2l0aCB0aGUgdGVhbSBuYW1lIG9yIE5PTkUuJyB9LFxuICAgICAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBwcm9tcHQgfVxuICAgICAgICBdLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMCxcbiAgICAgICAgbWF4X3Rva2VuczogNTBcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gY29tcGxldGlvbi5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudD8udHJpbSgpXG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZSAhPT0gJ05PTkUnICYmIGNhbmRpZGF0ZXMuaW5jbHVkZXMocmVzcG9uc2UpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlZE5hbWU6IHJlc3BvbnNlLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuODVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdMTE0gdmVyaWZpY2F0aW9uIGZhaWxlZDonLCBlcnJvcilcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBCYXRjaCBtYXRjaCBtdWx0aXBsZSBnYW1lc1xuICAgKi9cbiAgYXN5bmMgbWF0Y2hHYW1lcyhnYW1lczogQXJyYXk8eyBob21lVGVhbTogc3RyaW5nOyBhd2F5VGVhbTogc3RyaW5nOyBsZWFndWU/OiAnTkZMJyB8ICdOQ0FBRicgfT4pOiBQcm9taXNlPEdhbWVNYXRjaFtdPiB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgZ2FtZXMubWFwKGdhbWUgPT4gdGhpcy5tYXRjaEdhbWUoZ2FtZS5ob21lVGVhbSwgZ2FtZS5hd2F5VGVhbSwgZ2FtZS5sZWFndWUpKVxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIE5GTCB0ZWFtIG5hbWVzIGFuZCBhbGlhc2VzIGZvciByZWZlcmVuY2VcbiAgICovXG4gIHN0YXRpYyBnZXRBbGxORkxUZWFtcygpOiBBcnJheTx7IG9mZmljaWFsOiBzdHJpbmc7IGFsaWFzZXM6IHN0cmluZ1tdIH0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoTkZMX1RFQU1fTUFQUElOR1MpLm1hcCgoW29mZmljaWFsLCBhbGlhc2VzXSkgPT4gKHtcbiAgICAgIG9mZmljaWFsLFxuICAgICAgYWxpYXNlc1xuICAgIH0pKVxuICB9XG59Il0sIm5hbWVzIjpbIkZ1c2UiLCJPcGVuQUkiLCJORkxfVEVBTV9NQVBQSU5HUyIsIk5DQUFGX1RFQU1fTUFQUElOR1MiLCJOQ0FBRl9QQVRURVJOUyIsInN0YXRlU2Nob29scyIsImNvbW1vbkFiYnJldmlhdGlvbnMiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwiYWNjIiwidGVhbSIsImFiYnJldmlhdGlvbnMiLCJmaWx0ZXIiLCJhbGlhcyIsImxlbmd0aCIsInRvVXBwZXJDYXNlIiwiZm9yRWFjaCIsImFiYnIiLCJFbnRpdHlSZXNvbHZlciIsImNvbnN0cnVjdG9yIiwib3BlbmFpQXBpS2V5IiwibmZsVGVhbXMiLCJlbnRyaWVzIiwibWFwIiwibmFtZSIsImFsaWFzZXMiLCJuZmxGdXNlIiwidGhyZXNob2xkIiwiaW5jbHVkZVNjb3JlIiwibWluTWF0Y2hDaGFyTGVuZ3RoIiwibmNhYWZUZWFtcyIsIm5jYWFmRnVzZSIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0tFWSIsIm9wZW5haSIsImFwaUtleSIsIm5vcm1hbGl6ZVRlYW1OYW1lIiwidHJpbSIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsImZpbmRORkxUZWFtRXhhY3QiLCJ0ZWFtTmFtZSIsIm5vcm1hbGl6ZWQiLCJvZmZpY2lhbE5hbWUiLCJub3JtYWxpemVkT2ZmaWNpYWwiLCJvcmlnaW5hbE5hbWUiLCJtYXRjaGVkTmFtZSIsImNvbmZpZGVuY2UiLCJsZWFndWUiLCJtZXRob2QiLCJmaW5kTkZMVGVhbUZ1enp5IiwicmVzdWx0cyIsInNlYXJjaCIsInRvcE1hdGNoIiwic2NvcmUiLCJpdGVtIiwiY2FuZGlkYXRlcyIsInNsaWNlIiwiciIsImZpbmROQ0FBRlRlYW1FeGFjdCIsImNsZWFuTmFtZSIsIm5vcm1hbGl6ZWRDbGVhbiIsImZpbmROQ0FBRlRlYW1GdXp6eSIsImlzTGlrZWx5TkNBQSIsInNvbWUiLCJwYXR0ZXJuIiwiaW5jbHVkZXMiLCJ0ZXN0IiwibWF0Y2hUZWFtIiwibmZsRXhhY3QiLCJuY2FhZkV4YWN0IiwibmNhYWZGdXp6eSIsIm5mbEZ1enp5IiwibWF0Y2hHYW1lIiwiaG9tZVRlYW0iLCJhd2F5VGVhbSIsImhvbWVNYXRjaCIsImF3YXlNYXRjaCIsIlByb21pc2UiLCJhbGwiLCJvdmVyYWxsQ29uZmlkZW5jZSIsIm5lZWRzVmVyaWZpY2F0aW9uIiwidmVyaWZ5V2l0aExMTSIsImNvbnRleHQiLCJjb25zb2xlIiwid2FybiIsInByb21wdCIsImpvaW4iLCJvdGhlclRlYW0iLCJjb21wbGV0aW9uIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwicmVzcG9uc2UiLCJjaG9pY2VzIiwibWVzc2FnZSIsImVycm9yIiwibWF0Y2hHYW1lcyIsImdhbWVzIiwiZ2FtZSIsImdldEFsbE5GTFRlYW1zIiwib2ZmaWNpYWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/services/entity-resolution.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/llm-picksheet-parser.ts":
/*!**********************************************!*\
  !*** ./src/services/llm-picksheet-parser.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LLMPicksheetParser: () => (/* binding */ LLMPicksheetParser)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n\n// Initialize OpenAI client\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\n// Define the schema for a single game\nconst GameSchema = zod__WEBPACK_IMPORTED_MODULE_1__.object({\n    league: zod__WEBPACK_IMPORTED_MODULE_1__[\"enum\"]([\n        \"NFL\",\n        \"NCAAF\"\n    ]).describe(\"League: NFL or NCAAF (college football)\"),\n    awayTeam: zod__WEBPACK_IMPORTED_MODULE_1__.string().describe(\"Away team name (visiting team)\"),\n    awayRecord: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional().describe('Away team record if provided (e.g., \"7-10\")'),\n    awaySpread: zod__WEBPACK_IMPORTED_MODULE_1__.number().describe(\"Away team spread (positive or negative number)\"),\n    homeTeam: zod__WEBPACK_IMPORTED_MODULE_1__.string().describe(\"Home team name (usually in CAPS in the picksheet)\"),\n    homeRecord: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional().describe(\"Home team record if provided\"),\n    homeSpread: zod__WEBPACK_IMPORTED_MODULE_1__.number().describe(\"Home team spread (positive or negative number)\"),\n    gameDay: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional().describe('Day of week (e.g., \"Thu\", \"Fri\", \"Sat\", \"Sun\", \"Mon\")'),\n    gameDate: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional().describe('Game date if provided (e.g., \"January 5, 2025\")'),\n    gameTime: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional().describe('Game time (e.g., \"5:20 PM\", \"1:00 PM\")'),\n    overUnder: zod__WEBPACK_IMPORTED_MODULE_1__.number().optional().describe(\"Over/under total if provided (e.g., 42.5)\"),\n    points: zod__WEBPACK_IMPORTED_MODULE_1__.number().optional().describe(\"Point value for this pick if provided\")\n});\n// Define the schema for the entire picksheet\nconst PicksheetSchema = zod__WEBPACK_IMPORTED_MODULE_1__.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional().describe(\"Title of the picksheet if provided\"),\n    week: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional().describe(\"Week number or description\"),\n    games: zod__WEBPACK_IMPORTED_MODULE_1__.array(GameSchema).describe(\"List of all games in the picksheet\"),\n    totalGames: zod__WEBPACK_IMPORTED_MODULE_1__.number().describe(\"Total number of games parsed\"),\n    nflGames: zod__WEBPACK_IMPORTED_MODULE_1__.number().describe(\"Number of NFL games\"),\n    ncaafGames: zod__WEBPACK_IMPORTED_MODULE_1__.number().describe(\"Number of NCAAF/college games\")\n});\nclass LLMPicksheetParser {\n    /**\n   * Parse picksheet text using OpenAI with structured output\n   */ static async parseWithLLM(text) {\n        try {\n            // Check API key\n            if (!process.env.OPENAI_API_KEY) {\n                throw new Error(\"OpenAI API key not configured\");\n            }\n            console.log(\"Starting LLM parse with text length:\", text.length);\n            const systemPrompt = `You are an expert sports betting picksheet parser. Your job is to extract structured data from picksheet text and return it as valid JSON.\n\nIMPORTANT: You must return ONLY valid JSON, no other text or explanation.\n\nYou must return a JSON object with this exact structure:\n{\n  \"title\": \"optional title string\",\n  \"week\": \"optional week string\",\n  \"games\": [\n    {\n      \"league\": \"NFL\" or \"NCAAF\",\n      \"awayTeam\": \"team name\",\n      \"awayRecord\": \"optional record\",\n      \"awaySpread\": number,\n      \"homeTeam\": \"team name\",\n      \"homeRecord\": \"optional record\", \n      \"homeSpread\": number,\n      \"gameDay\": \"optional day\",\n      \"gameDate\": \"optional date\",\n      \"gameTime\": \"optional time\",\n      \"overUnder\": optional number,\n      \"points\": optional number\n    }\n  ],\n  \"totalGames\": number,\n  \"nflGames\": number,\n  \"ncaafGames\": number\n}\n\nCRITICAL PARSING RULES:\n\n1. HOME vs AWAY team identification (VERY IMPORTANT):\n   - @ symbol: Team BEFORE @ is AWAY, team AFTER @ is HOME (e.g., \"Buffalo @ New England\" = Buffalo away, New England home)\n   - vs keyword: Team BEFORE vs is HOME, team AFTER vs is AWAY (e.g., \"Dallas vs Washington\" = Dallas home, Washington away)\n   - Capital letters: Team in ALL CAPS is usually HOME (when no @ or vs present)\n   - Default: First team is AWAY, second team is HOME (if no other indicators)\n\n2. Spread parsing:\n   - Each team has opposite spreads (if one is +3.5, the other is -3.5)\n   - The spread belongs to the team it's next to\n   - PK or PICK means 0 spread for both teams\n   - Parse decimal spreads accurately (e.g., -3.5, +7.5)\n\n3. Over/Under (O/U) parsing:\n   - Look for \"O/U\", \"o/u\", \"Over/Under\" followed by a number\n   - This is the total points, store in overUnder field\n   - Common format: \"O/U 42.5\" or \"O/U: 48\"\n\n4. League identification:\n   - NFL teams: Professional teams (Cowboys, Chiefs, Packers, Bills, etc.)\n   - NFL cities: Dallas, Kansas City, Green Bay, Buffalo, etc.\n   - NCAAF indicators: State, University, Tech, A&M, rankings (#1, #11), school names\n\n5. Date and time extraction:\n   - Extract full dates like \"January 5, 2025\" or \"Monday, January 6, 2025\"\n   - Extract days of week (Monday, Tuesday, Sun, Mon, etc.)\n   - Extract times (1:00 PM, 5:20 PM, etc.)\n\n6. Records: Extract if shown in parentheses (e.g., \"(7-10)\", \"(10-2)\")\n\n7. Point values: Extract if shown (e.g., \"1 pt\", \"2 points\")\n\nRemember: Return ONLY valid JSON, no explanations or additional text.`;\n            const userPrompt = `Parse this picksheet and extract all games with their details:\\n\\n${text}`;\n            const completion = await openai.chat.completions.create({\n                model: \"gpt-4o-mini\",\n                messages: [\n                    {\n                        role: \"system\",\n                        content: systemPrompt\n                    },\n                    {\n                        role: \"user\",\n                        content: userPrompt\n                    }\n                ],\n                response_format: {\n                    type: \"json_object\"\n                },\n                temperature: 0,\n                max_tokens: 16000\n            });\n            const responseContent = completion.choices[0].message.content;\n            if (!responseContent) {\n                throw new Error(\"No response from OpenAI\");\n            }\n            console.log(\"Raw LLM response length:\", responseContent.length);\n            // Try to parse the JSON response with better error handling\n            let parsed;\n            try {\n                parsed = JSON.parse(responseContent);\n            } catch (jsonError) {\n                console.error(\"JSON parse error:\", jsonError);\n                console.error(\"Raw response (first 500 chars):\", responseContent.substring(0, 500));\n                console.error(\"Raw response (last 500 chars):\", responseContent.substring(responseContent.length - 500));\n                // Try to fix truncated JSON\n                let fixedContent = responseContent;\n                // Check if response seems truncated (doesn't end with })\n                if (!fixedContent.trim().endsWith(\"}\")) {\n                    console.log(\"Response appears truncated, attempting to fix...\");\n                    // Find the last complete game object\n                    const lastCompleteGameIndex = fixedContent.lastIndexOf(\"},\");\n                    if (lastCompleteGameIndex > 0) {\n                        // Truncate to last complete game and close the JSON properly\n                        fixedContent = fixedContent.substring(0, lastCompleteGameIndex + 1);\n                        // Close the games array and main object\n                        fixedContent += \"],\";\n                        // Count how many games we managed to parse\n                        const gameCount = (fixedContent.match(/\"league\":/g) || []).length;\n                        const nflCount = (fixedContent.match(/\"league\"\\s*:\\s*\"NFL\"/g) || []).length;\n                        const ncaafCount = (fixedContent.match(/\"league\"\\s*:\\s*\"NCAAF\"/g) || []).length;\n                        // Add the summary fields\n                        fixedContent += `\"totalGames\":${gameCount},\"nflGames\":${nflCount},\"ncaafGames\":${ncaafCount}}`;\n                    }\n                }\n                // Remove any trailing commas before closing brackets/braces\n                fixedContent = fixedContent.replace(/,(\\s*[}\\]])/g, \"$1\");\n                // Fix common issues with unterminated strings\n                // Count quotes and add a closing quote if odd number\n                const quoteCount = (fixedContent.match(/\"/g) || []).length;\n                if (quoteCount % 2 !== 0) {\n                    // Find the last quote and check if it's likely unterminated\n                    const lastQuoteIndex = fixedContent.lastIndexOf('\"');\n                    const afterLastQuote = fixedContent.substring(lastQuoteIndex + 1);\n                    // If there's no closing quote before the next JSON structure character\n                    if (!afterLastQuote.includes('\"') && (afterLastQuote.includes(\",\") || afterLastQuote.includes(\"}\") || afterLastQuote.includes(\"]\"))) {\n                        // Insert a closing quote before the next structure character\n                        const structureMatch = afterLastQuote.match(/[,}\\]]/);\n                        if (structureMatch) {\n                            const insertIndex = lastQuoteIndex + 1 + afterLastQuote.indexOf(structureMatch[0]);\n                            fixedContent = fixedContent.substring(0, insertIndex) + '\"' + fixedContent.substring(insertIndex);\n                        }\n                    }\n                }\n                // Try parsing the fixed content\n                try {\n                    parsed = JSON.parse(fixedContent);\n                    console.log(\"Successfully repaired JSON\");\n                } catch (secondError) {\n                    // If still failing, provide more context in the error\n                    console.error(\"Failed to repair JSON:\", secondError);\n                    throw new Error(`Failed to parse LLM response as JSON. Response length: ${responseContent.length}. Error: ${jsonError}`);\n                }\n            }\n            // Clean up games by replacing null with undefined for optional fields\n            const cleanedGames = (parsed.games || []).map((game)=>({\n                    ...game,\n                    awayRecord: game.awayRecord || undefined,\n                    homeRecord: game.homeRecord || undefined,\n                    gameDay: game.gameDay || undefined,\n                    gameDate: game.gameDate || undefined,\n                    gameTime: game.gameTime || undefined,\n                    overUnder: game.overUnder ?? undefined,\n                    points: game.points ?? undefined\n                }));\n            // Validate with Zod and provide defaults for missing fields\n            const result = PicksheetSchema.parse({\n                title: parsed.title || undefined,\n                week: parsed.week || undefined,\n                games: cleanedGames,\n                totalGames: parsed.totalGames || cleanedGames.length || 0,\n                nflGames: parsed.nflGames || cleanedGames.filter((g)=>g.league === \"NFL\").length || 0,\n                ncaafGames: parsed.ncaafGames || cleanedGames.filter((g)=>g.league === \"NCAAF\").length || 0\n            });\n            return result;\n        } catch (error) {\n            console.error(\"Error parsing with LLM:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Convert LLM parsed data to database format\n   */ static toDatabase(parsed, sourceRunId) {\n        return parsed.games.map((game, index)=>({\n                id: `llm-${index + 1}`,\n                source_run_id: sourceRunId || null,\n                league: game.league,\n                event_date_local: game.gameDate || null,\n                event_time_local: game.gameTime || null,\n                home_name_raw: game.homeTeam,\n                away_name_raw: game.awayTeam,\n                home_spread_raw: game.homeSpread,\n                away_spread_raw: game.awaySpread,\n                total_raw: game.overUnder || null,\n                market: \"spread\",\n                raw_text: `${game.awayTeam} ${game.awaySpread} @ ${game.homeTeam} ${game.homeSpread}${game.overUnder ? ` O/U ${game.overUnder}` : \"\"}`,\n                metadata: {\n                    awayRecord: game.awayRecord,\n                    homeRecord: game.homeRecord,\n                    gameDay: game.gameDay,\n                    gameDate: game.gameDate,\n                    points: game.points,\n                    overUnder: game.overUnder,\n                    parsedWithLLM: true\n                }\n            }));\n    }\n    /**\n   * Simple format for display\n   */ static formatForDisplay(parsed) {\n        return parsed.games.map((game)=>({\n                league: game.league,\n                awayTeam: game.awayTeam,\n                awaySpread: game.awaySpread,\n                homeTeam: game.homeTeam,\n                homeSpread: game.homeSpread,\n                overUnder: game.overUnder || null,\n                gameTime: `${game.gameDay || \"\"} ${game.gameDate || \"\"} ${game.gameTime || \"\"}`.trim() || null\n            }));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmljZXMvbGxtLXBpY2tzaGVldC1wYXJzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ0o7QUFFdkIsMkJBQTJCO0FBQzNCLE1BQU1FLFNBQVMsSUFBSUYsOENBQU1BLENBQUM7SUFDeEJHLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztBQUNwQztBQUVBLHNDQUFzQztBQUN0QyxNQUFNQyxhQUFhTix1Q0FBUSxDQUFDO0lBQzFCUSxRQUFRUix3Q0FBTSxDQUFDO1FBQUM7UUFBTztLQUFRLEVBQUVVLFFBQVEsQ0FBQztJQUMxQ0MsVUFBVVgsdUNBQVEsR0FBR1UsUUFBUSxDQUFDO0lBQzlCRyxZQUFZYix1Q0FBUSxHQUFHYyxRQUFRLEdBQUdKLFFBQVEsQ0FBQztJQUMzQ0ssWUFBWWYsdUNBQVEsR0FBR1UsUUFBUSxDQUFDO0lBQ2hDTyxVQUFVakIsdUNBQVEsR0FBR1UsUUFBUSxDQUFDO0lBQzlCUSxZQUFZbEIsdUNBQVEsR0FBR2MsUUFBUSxHQUFHSixRQUFRLENBQUM7SUFDM0NTLFlBQVluQix1Q0FBUSxHQUFHVSxRQUFRLENBQUM7SUFDaENVLFNBQVNwQix1Q0FBUSxHQUFHYyxRQUFRLEdBQUdKLFFBQVEsQ0FBQztJQUN4Q1csVUFBVXJCLHVDQUFRLEdBQUdjLFFBQVEsR0FBR0osUUFBUSxDQUFDO0lBQ3pDWSxVQUFVdEIsdUNBQVEsR0FBR2MsUUFBUSxHQUFHSixRQUFRLENBQUM7SUFDekNhLFdBQVd2Qix1Q0FBUSxHQUFHYyxRQUFRLEdBQUdKLFFBQVEsQ0FBQztJQUMxQ2MsUUFBUXhCLHVDQUFRLEdBQUdjLFFBQVEsR0FBR0osUUFBUSxDQUFDO0FBQ3pDO0FBRUEsNkNBQTZDO0FBQzdDLE1BQU1lLGtCQUFrQnpCLHVDQUFRLENBQUM7SUFDL0IwQixPQUFPMUIsdUNBQVEsR0FBR2MsUUFBUSxHQUFHSixRQUFRLENBQUM7SUFDdENpQixNQUFNM0IsdUNBQVEsR0FBR2MsUUFBUSxHQUFHSixRQUFRLENBQUM7SUFD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M0JJLFdBQVc0RCxLQUFLNUQsU0FBUyxJQUFJO2dCQUM3QkQsVUFBVSxDQUFDLEVBQUU2RCxLQUFLL0QsT0FBTyxJQUFJLEdBQUcsQ0FBQyxFQUFFK0QsS0FBSzlELFFBQVEsSUFBSSxHQUFHLENBQUMsRUFBRThELEtBQUs3RCxRQUFRLElBQUksR0FBRyxDQUFDLENBQUMwQyxJQUFJLE1BQU07WUFDNUY7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2ZmaWNlLWZvb3RiYWxsLXBvb2wvLi9zcmMvc2VydmljZXMvbGxtLXBpY2tzaGVldC1wYXJzZXIudHM/Yzg5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT3BlbkFJIGZyb20gJ29wZW5haSdcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5cbi8vIEluaXRpYWxpemUgT3BlbkFJIGNsaWVudFxuY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSh7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVksXG59KVxuXG4vLyBEZWZpbmUgdGhlIHNjaGVtYSBmb3IgYSBzaW5nbGUgZ2FtZVxuY29uc3QgR2FtZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbGVhZ3VlOiB6LmVudW0oWydORkwnLCAnTkNBQUYnXSkuZGVzY3JpYmUoJ0xlYWd1ZTogTkZMIG9yIE5DQUFGIChjb2xsZWdlIGZvb3RiYWxsKScpLFxuICBhd2F5VGVhbTogei5zdHJpbmcoKS5kZXNjcmliZSgnQXdheSB0ZWFtIG5hbWUgKHZpc2l0aW5nIHRlYW0pJyksXG4gIGF3YXlSZWNvcmQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5kZXNjcmliZSgnQXdheSB0ZWFtIHJlY29yZCBpZiBwcm92aWRlZCAoZS5nLiwgXCI3LTEwXCIpJyksXG4gIGF3YXlTcHJlYWQ6IHoubnVtYmVyKCkuZGVzY3JpYmUoJ0F3YXkgdGVhbSBzcHJlYWQgKHBvc2l0aXZlIG9yIG5lZ2F0aXZlIG51bWJlciknKSxcbiAgaG9tZVRlYW06IHouc3RyaW5nKCkuZGVzY3JpYmUoJ0hvbWUgdGVhbSBuYW1lICh1c3VhbGx5IGluIENBUFMgaW4gdGhlIHBpY2tzaGVldCknKSxcbiAgaG9tZVJlY29yZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdIb21lIHRlYW0gcmVjb3JkIGlmIHByb3ZpZGVkJyksXG4gIGhvbWVTcHJlYWQ6IHoubnVtYmVyKCkuZGVzY3JpYmUoJ0hvbWUgdGVhbSBzcHJlYWQgKHBvc2l0aXZlIG9yIG5lZ2F0aXZlIG51bWJlciknKSxcbiAgZ2FtZURheTogei5zdHJpbmcoKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdEYXkgb2Ygd2VlayAoZS5nLiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIiwgXCJTdW5cIiwgXCJNb25cIiknKSxcbiAgZ2FtZURhdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5kZXNjcmliZSgnR2FtZSBkYXRlIGlmIHByb3ZpZGVkIChlLmcuLCBcIkphbnVhcnkgNSwgMjAyNVwiKScpLFxuICBnYW1lVGltZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdHYW1lIHRpbWUgKGUuZy4sIFwiNToyMCBQTVwiLCBcIjE6MDAgUE1cIiknKSxcbiAgb3ZlclVuZGVyOiB6Lm51bWJlcigpLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ092ZXIvdW5kZXIgdG90YWwgaWYgcHJvdmlkZWQgKGUuZy4sIDQyLjUpJyksXG4gIHBvaW50czogei5udW1iZXIoKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdQb2ludCB2YWx1ZSBmb3IgdGhpcyBwaWNrIGlmIHByb3ZpZGVkJyksXG59KVxuXG4vLyBEZWZpbmUgdGhlIHNjaGVtYSBmb3IgdGhlIGVudGlyZSBwaWNrc2hlZXRcbmNvbnN0IFBpY2tzaGVldFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdGl0bGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5kZXNjcmliZSgnVGl0bGUgb2YgdGhlIHBpY2tzaGVldCBpZiBwcm92aWRlZCcpLFxuICB3ZWVrOiB6LnN0cmluZygpLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ1dlZWsgbnVtYmVyIG9yIGRlc2NyaXB0aW9uJyksXG4gIGdhbWVzOiB6LmFycmF5KEdhbWVTY2hlbWEpLmRlc2NyaWJlKCdMaXN0IG9mIGFsbCBnYW1lcyBpbiB0aGUgcGlja3NoZWV0JyksXG4gIHRvdGFsR2FtZXM6IHoubnVtYmVyKCkuZGVzY3JpYmUoJ1RvdGFsIG51bWJlciBvZiBnYW1lcyBwYXJzZWQnKSxcbiAgbmZsR2FtZXM6IHoubnVtYmVyKCkuZGVzY3JpYmUoJ051bWJlciBvZiBORkwgZ2FtZXMnKSxcbiAgbmNhYWZHYW1lczogei5udW1iZXIoKS5kZXNjcmliZSgnTnVtYmVyIG9mIE5DQUFGL2NvbGxlZ2UgZ2FtZXMnKSxcbn0pXG5cbmV4cG9ydCB0eXBlIFBhcnNlZEdhbWUgPSB6LmluZmVyPHR5cGVvZiBHYW1lU2NoZW1hPlxuZXhwb3J0IHR5cGUgUGFyc2VkUGlja3NoZWV0ID0gei5pbmZlcjx0eXBlb2YgUGlja3NoZWV0U2NoZW1hPlxuXG5leHBvcnQgY2xhc3MgTExNUGlja3NoZWV0UGFyc2VyIHtcbiAgLyoqXG4gICAqIFBhcnNlIHBpY2tzaGVldCB0ZXh0IHVzaW5nIE9wZW5BSSB3aXRoIHN0cnVjdHVyZWQgb3V0cHV0XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgcGFyc2VXaXRoTExNKHRleHQ6IHN0cmluZyk6IFByb21pc2U8UGFyc2VkUGlja3NoZWV0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIEFQSSBrZXlcbiAgICAgIGlmICghcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGVuQUkgQVBJIGtleSBub3QgY29uZmlndXJlZCcpXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBMTE0gcGFyc2Ugd2l0aCB0ZXh0IGxlbmd0aDonLCB0ZXh0Lmxlbmd0aClcbiAgICAgIFxuICAgICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFlvdSBhcmUgYW4gZXhwZXJ0IHNwb3J0cyBiZXR0aW5nIHBpY2tzaGVldCBwYXJzZXIuIFlvdXIgam9iIGlzIHRvIGV4dHJhY3Qgc3RydWN0dXJlZCBkYXRhIGZyb20gcGlja3NoZWV0IHRleHQgYW5kIHJldHVybiBpdCBhcyB2YWxpZCBKU09OLlxuXG5JTVBPUlRBTlQ6IFlvdSBtdXN0IHJldHVybiBPTkxZIHZhbGlkIEpTT04sIG5vIG90aGVyIHRleHQgb3IgZXhwbGFuYXRpb24uXG5cbllvdSBtdXN0IHJldHVybiBhIEpTT04gb2JqZWN0IHdpdGggdGhpcyBleGFjdCBzdHJ1Y3R1cmU6XG57XG4gIFwidGl0bGVcIjogXCJvcHRpb25hbCB0aXRsZSBzdHJpbmdcIixcbiAgXCJ3ZWVrXCI6IFwib3B0aW9uYWwgd2VlayBzdHJpbmdcIixcbiAgXCJnYW1lc1wiOiBbXG4gICAge1xuICAgICAgXCJsZWFndWVcIjogXCJORkxcIiBvciBcIk5DQUFGXCIsXG4gICAgICBcImF3YXlUZWFtXCI6IFwidGVhbSBuYW1lXCIsXG4gICAgICBcImF3YXlSZWNvcmRcIjogXCJvcHRpb25hbCByZWNvcmRcIixcbiAgICAgIFwiYXdheVNwcmVhZFwiOiBudW1iZXIsXG4gICAgICBcImhvbWVUZWFtXCI6IFwidGVhbSBuYW1lXCIsXG4gICAgICBcImhvbWVSZWNvcmRcIjogXCJvcHRpb25hbCByZWNvcmRcIiwgXG4gICAgICBcImhvbWVTcHJlYWRcIjogbnVtYmVyLFxuICAgICAgXCJnYW1lRGF5XCI6IFwib3B0aW9uYWwgZGF5XCIsXG4gICAgICBcImdhbWVEYXRlXCI6IFwib3B0aW9uYWwgZGF0ZVwiLFxuICAgICAgXCJnYW1lVGltZVwiOiBcIm9wdGlvbmFsIHRpbWVcIixcbiAgICAgIFwib3ZlclVuZGVyXCI6IG9wdGlvbmFsIG51bWJlcixcbiAgICAgIFwicG9pbnRzXCI6IG9wdGlvbmFsIG51bWJlclxuICAgIH1cbiAgXSxcbiAgXCJ0b3RhbEdhbWVzXCI6IG51bWJlcixcbiAgXCJuZmxHYW1lc1wiOiBudW1iZXIsXG4gIFwibmNhYWZHYW1lc1wiOiBudW1iZXJcbn1cblxuQ1JJVElDQUwgUEFSU0lORyBSVUxFUzpcblxuMS4gSE9NRSB2cyBBV0FZIHRlYW0gaWRlbnRpZmljYXRpb24gKFZFUlkgSU1QT1JUQU5UKTpcbiAgIC0gQCBzeW1ib2w6IFRlYW0gQkVGT1JFIEAgaXMgQVdBWSwgdGVhbSBBRlRFUiBAIGlzIEhPTUUgKGUuZy4sIFwiQnVmZmFsbyBAIE5ldyBFbmdsYW5kXCIgPSBCdWZmYWxvIGF3YXksIE5ldyBFbmdsYW5kIGhvbWUpXG4gICAtIHZzIGtleXdvcmQ6IFRlYW0gQkVGT1JFIHZzIGlzIEhPTUUsIHRlYW0gQUZURVIgdnMgaXMgQVdBWSAoZS5nLiwgXCJEYWxsYXMgdnMgV2FzaGluZ3RvblwiID0gRGFsbGFzIGhvbWUsIFdhc2hpbmd0b24gYXdheSlcbiAgIC0gQ2FwaXRhbCBsZXR0ZXJzOiBUZWFtIGluIEFMTCBDQVBTIGlzIHVzdWFsbHkgSE9NRSAod2hlbiBubyBAIG9yIHZzIHByZXNlbnQpXG4gICAtIERlZmF1bHQ6IEZpcnN0IHRlYW0gaXMgQVdBWSwgc2Vjb25kIHRlYW0gaXMgSE9NRSAoaWYgbm8gb3RoZXIgaW5kaWNhdG9ycylcblxuMi4gU3ByZWFkIHBhcnNpbmc6XG4gICAtIEVhY2ggdGVhbSBoYXMgb3Bwb3NpdGUgc3ByZWFkcyAoaWYgb25lIGlzICszLjUsIHRoZSBvdGhlciBpcyAtMy41KVxuICAgLSBUaGUgc3ByZWFkIGJlbG9uZ3MgdG8gdGhlIHRlYW0gaXQncyBuZXh0IHRvXG4gICAtIFBLIG9yIFBJQ0sgbWVhbnMgMCBzcHJlYWQgZm9yIGJvdGggdGVhbXNcbiAgIC0gUGFyc2UgZGVjaW1hbCBzcHJlYWRzIGFjY3VyYXRlbHkgKGUuZy4sIC0zLjUsICs3LjUpXG5cbjMuIE92ZXIvVW5kZXIgKE8vVSkgcGFyc2luZzpcbiAgIC0gTG9vayBmb3IgXCJPL1VcIiwgXCJvL3VcIiwgXCJPdmVyL1VuZGVyXCIgZm9sbG93ZWQgYnkgYSBudW1iZXJcbiAgIC0gVGhpcyBpcyB0aGUgdG90YWwgcG9pbnRzLCBzdG9yZSBpbiBvdmVyVW5kZXIgZmllbGRcbiAgIC0gQ29tbW9uIGZvcm1hdDogXCJPL1UgNDIuNVwiIG9yIFwiTy9VOiA0OFwiXG5cbjQuIExlYWd1ZSBpZGVudGlmaWNhdGlvbjpcbiAgIC0gTkZMIHRlYW1zOiBQcm9mZXNzaW9uYWwgdGVhbXMgKENvd2JveXMsIENoaWVmcywgUGFja2VycywgQmlsbHMsIGV0Yy4pXG4gICAtIE5GTCBjaXRpZXM6IERhbGxhcywgS2Fuc2FzIENpdHksIEdyZWVuIEJheSwgQnVmZmFsbywgZXRjLlxuICAgLSBOQ0FBRiBpbmRpY2F0b3JzOiBTdGF0ZSwgVW5pdmVyc2l0eSwgVGVjaCwgQSZNLCByYW5raW5ncyAoIzEsICMxMSksIHNjaG9vbCBuYW1lc1xuXG41LiBEYXRlIGFuZCB0aW1lIGV4dHJhY3Rpb246XG4gICAtIEV4dHJhY3QgZnVsbCBkYXRlcyBsaWtlIFwiSmFudWFyeSA1LCAyMDI1XCIgb3IgXCJNb25kYXksIEphbnVhcnkgNiwgMjAyNVwiXG4gICAtIEV4dHJhY3QgZGF5cyBvZiB3ZWVrIChNb25kYXksIFR1ZXNkYXksIFN1biwgTW9uLCBldGMuKVxuICAgLSBFeHRyYWN0IHRpbWVzICgxOjAwIFBNLCA1OjIwIFBNLCBldGMuKVxuXG42LiBSZWNvcmRzOiBFeHRyYWN0IGlmIHNob3duIGluIHBhcmVudGhlc2VzIChlLmcuLCBcIig3LTEwKVwiLCBcIigxMC0yKVwiKVxuXG43LiBQb2ludCB2YWx1ZXM6IEV4dHJhY3QgaWYgc2hvd24gKGUuZy4sIFwiMSBwdFwiLCBcIjIgcG9pbnRzXCIpXG5cblJlbWVtYmVyOiBSZXR1cm4gT05MWSB2YWxpZCBKU09OLCBubyBleHBsYW5hdGlvbnMgb3IgYWRkaXRpb25hbCB0ZXh0LmBcblxuICAgICAgY29uc3QgdXNlclByb21wdCA9IGBQYXJzZSB0aGlzIHBpY2tzaGVldCBhbmQgZXh0cmFjdCBhbGwgZ2FtZXMgd2l0aCB0aGVpciBkZXRhaWxzOlxcblxcbiR7dGV4dH1gXG5cbiAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgICBtb2RlbDogJ2dwdC00by1taW5pJywgLy8gVXNpbmcgR1BULTRvLW1pbmkgZm9yIGJldHRlciBhY2N1cmFjeSBhbmQgc3RydWN0dXJlZCBvdXRwdXQgc3VwcG9ydFxuICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgIHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6IHN5c3RlbVByb21wdCB9LFxuICAgICAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiB1c2VyUHJvbXB0IH1cbiAgICAgICAgXSxcbiAgICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6ICdqc29uX29iamVjdCcgfSxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAsIC8vIFplcm8gdGVtcGVyYXR1cmUgZm9yIG1vc3QgZGV0ZXJtaW5pc3RpYyBwYXJzaW5nXG4gICAgICAgIG1heF90b2tlbnM6IDE2MDAwLCAvLyBNdWNoIGhpZ2hlciBsaW1pdCB0byBhdm9pZCB0cnVuY2F0aW9uXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXNwb25zZUNvbnRlbnQgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2VDb250ZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcmVzcG9uc2UgZnJvbSBPcGVuQUknKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnUmF3IExMTSByZXNwb25zZSBsZW5ndGg6JywgcmVzcG9uc2VDb250ZW50Lmxlbmd0aClcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIHBhcnNlIHRoZSBKU09OIHJlc3BvbnNlIHdpdGggYmV0dGVyIGVycm9yIGhhbmRsaW5nXG4gICAgICBsZXQgcGFyc2VkOiBhbnlcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UocmVzcG9uc2VDb250ZW50KVxuICAgICAgfSBjYXRjaCAoanNvbkVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0pTT04gcGFyc2UgZXJyb3I6JywganNvbkVycm9yKVxuICAgICAgICBjb25zb2xlLmVycm9yKCdSYXcgcmVzcG9uc2UgKGZpcnN0IDUwMCBjaGFycyk6JywgcmVzcG9uc2VDb250ZW50LnN1YnN0cmluZygwLCA1MDApKVxuICAgICAgICBjb25zb2xlLmVycm9yKCdSYXcgcmVzcG9uc2UgKGxhc3QgNTAwIGNoYXJzKTonLCByZXNwb25zZUNvbnRlbnQuc3Vic3RyaW5nKHJlc3BvbnNlQ29udGVudC5sZW5ndGggLSA1MDApKVxuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IHRvIGZpeCB0cnVuY2F0ZWQgSlNPTlxuICAgICAgICBsZXQgZml4ZWRDb250ZW50ID0gcmVzcG9uc2VDb250ZW50XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBzZWVtcyB0cnVuY2F0ZWQgKGRvZXNuJ3QgZW5kIHdpdGggfSlcbiAgICAgICAgaWYgKCFmaXhlZENvbnRlbnQudHJpbSgpLmVuZHNXaXRoKCd9JykpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2UgYXBwZWFycyB0cnVuY2F0ZWQsIGF0dGVtcHRpbmcgdG8gZml4Li4uJylcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaW5kIHRoZSBsYXN0IGNvbXBsZXRlIGdhbWUgb2JqZWN0XG4gICAgICAgICAgY29uc3QgbGFzdENvbXBsZXRlR2FtZUluZGV4ID0gZml4ZWRDb250ZW50Lmxhc3RJbmRleE9mKCd9LCcpXG4gICAgICAgICAgaWYgKGxhc3RDb21wbGV0ZUdhbWVJbmRleCA+IDApIHtcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHRvIGxhc3QgY29tcGxldGUgZ2FtZSBhbmQgY2xvc2UgdGhlIEpTT04gcHJvcGVybHlcbiAgICAgICAgICAgIGZpeGVkQ29udGVudCA9IGZpeGVkQ29udGVudC5zdWJzdHJpbmcoMCwgbGFzdENvbXBsZXRlR2FtZUluZGV4ICsgMSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIGdhbWVzIGFycmF5IGFuZCBtYWluIG9iamVjdFxuICAgICAgICAgICAgZml4ZWRDb250ZW50ICs9ICddLCdcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ291bnQgaG93IG1hbnkgZ2FtZXMgd2UgbWFuYWdlZCB0byBwYXJzZVxuICAgICAgICAgICAgY29uc3QgZ2FtZUNvdW50ID0gKGZpeGVkQ29udGVudC5tYXRjaCgvXCJsZWFndWVcIjovZykgfHwgW10pLmxlbmd0aFxuICAgICAgICAgICAgY29uc3QgbmZsQ291bnQgPSAoZml4ZWRDb250ZW50Lm1hdGNoKC9cImxlYWd1ZVwiXFxzKjpcXHMqXCJORkxcIi9nKSB8fCBbXSkubGVuZ3RoXG4gICAgICAgICAgICBjb25zdCBuY2FhZkNvdW50ID0gKGZpeGVkQ29udGVudC5tYXRjaCgvXCJsZWFndWVcIlxccyo6XFxzKlwiTkNBQUZcIi9nKSB8fCBbXSkubGVuZ3RoXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgc3VtbWFyeSBmaWVsZHNcbiAgICAgICAgICAgIGZpeGVkQ29udGVudCArPSBgXCJ0b3RhbEdhbWVzXCI6JHtnYW1lQ291bnR9LFwibmZsR2FtZXNcIjoke25mbENvdW50fSxcIm5jYWFmR2FtZXNcIjoke25jYWFmQ291bnR9fWBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBhbnkgdHJhaWxpbmcgY29tbWFzIGJlZm9yZSBjbG9zaW5nIGJyYWNrZXRzL2JyYWNlc1xuICAgICAgICBmaXhlZENvbnRlbnQgPSBmaXhlZENvbnRlbnQucmVwbGFjZSgvLChcXHMqW31cXF1dKS9nLCAnJDEnKVxuICAgICAgICBcbiAgICAgICAgLy8gRml4IGNvbW1vbiBpc3N1ZXMgd2l0aCB1bnRlcm1pbmF0ZWQgc3RyaW5nc1xuICAgICAgICAvLyBDb3VudCBxdW90ZXMgYW5kIGFkZCBhIGNsb3NpbmcgcXVvdGUgaWYgb2RkIG51bWJlclxuICAgICAgICBjb25zdCBxdW90ZUNvdW50ID0gKGZpeGVkQ29udGVudC5tYXRjaCgvXCIvZykgfHwgW10pLmxlbmd0aFxuICAgICAgICBpZiAocXVvdGVDb3VudCAlIDIgIT09IDApIHtcbiAgICAgICAgICAvLyBGaW5kIHRoZSBsYXN0IHF1b3RlIGFuZCBjaGVjayBpZiBpdCdzIGxpa2VseSB1bnRlcm1pbmF0ZWRcbiAgICAgICAgICBjb25zdCBsYXN0UXVvdGVJbmRleCA9IGZpeGVkQ29udGVudC5sYXN0SW5kZXhPZignXCInKVxuICAgICAgICAgIGNvbnN0IGFmdGVyTGFzdFF1b3RlID0gZml4ZWRDb250ZW50LnN1YnN0cmluZyhsYXN0UXVvdGVJbmRleCArIDEpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgdGhlcmUncyBubyBjbG9zaW5nIHF1b3RlIGJlZm9yZSB0aGUgbmV4dCBKU09OIHN0cnVjdHVyZSBjaGFyYWN0ZXJcbiAgICAgICAgICBpZiAoIWFmdGVyTGFzdFF1b3RlLmluY2x1ZGVzKCdcIicpICYmIChhZnRlckxhc3RRdW90ZS5pbmNsdWRlcygnLCcpIHx8IGFmdGVyTGFzdFF1b3RlLmluY2x1ZGVzKCd9JykgfHwgYWZ0ZXJMYXN0UXVvdGUuaW5jbHVkZXMoJ10nKSkpIHtcbiAgICAgICAgICAgIC8vIEluc2VydCBhIGNsb3NpbmcgcXVvdGUgYmVmb3JlIHRoZSBuZXh0IHN0cnVjdHVyZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgIGNvbnN0IHN0cnVjdHVyZU1hdGNoID0gYWZ0ZXJMYXN0UXVvdGUubWF0Y2goL1ssfVxcXV0vKTtcbiAgICAgICAgICAgIGlmIChzdHJ1Y3R1cmVNYXRjaCkge1xuICAgICAgICAgICAgICBjb25zdCBpbnNlcnRJbmRleCA9IGxhc3RRdW90ZUluZGV4ICsgMSArIGFmdGVyTGFzdFF1b3RlLmluZGV4T2Yoc3RydWN0dXJlTWF0Y2hbMF0pXG4gICAgICAgICAgICAgIGZpeGVkQ29udGVudCA9IGZpeGVkQ29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0SW5kZXgpICsgJ1wiJyArIGZpeGVkQ29udGVudC5zdWJzdHJpbmcoaW5zZXJ0SW5kZXgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUcnkgcGFyc2luZyB0aGUgZml4ZWQgY29udGVudFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UoZml4ZWRDb250ZW50KVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgcmVwYWlyZWQgSlNPTicpXG4gICAgICAgIH0gY2F0Y2ggKHNlY29uZEVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgc3RpbGwgZmFpbGluZywgcHJvdmlkZSBtb3JlIGNvbnRleHQgaW4gdGhlIGVycm9yXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlcGFpciBKU09OOicsIHNlY29uZEVycm9yKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIExMTSByZXNwb25zZSBhcyBKU09OLiBSZXNwb25zZSBsZW5ndGg6ICR7cmVzcG9uc2VDb250ZW50Lmxlbmd0aH0uIEVycm9yOiAke2pzb25FcnJvcn1gKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIGdhbWVzIGJ5IHJlcGxhY2luZyBudWxsIHdpdGggdW5kZWZpbmVkIGZvciBvcHRpb25hbCBmaWVsZHNcbiAgICAgIGNvbnN0IGNsZWFuZWRHYW1lcyA9IChwYXJzZWQuZ2FtZXMgfHwgW10pLm1hcCgoZ2FtZTogYW55KSA9PiAoe1xuICAgICAgICAuLi5nYW1lLFxuICAgICAgICBhd2F5UmVjb3JkOiBnYW1lLmF3YXlSZWNvcmQgfHwgdW5kZWZpbmVkLFxuICAgICAgICBob21lUmVjb3JkOiBnYW1lLmhvbWVSZWNvcmQgfHwgdW5kZWZpbmVkLFxuICAgICAgICBnYW1lRGF5OiBnYW1lLmdhbWVEYXkgfHwgdW5kZWZpbmVkLFxuICAgICAgICBnYW1lRGF0ZTogZ2FtZS5nYW1lRGF0ZSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGdhbWVUaW1lOiBnYW1lLmdhbWVUaW1lIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgb3ZlclVuZGVyOiBnYW1lLm92ZXJVbmRlciA/PyB1bmRlZmluZWQsXG4gICAgICAgIHBvaW50czogZ2FtZS5wb2ludHMgPz8gdW5kZWZpbmVkLFxuICAgICAgfSkpXG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIHdpdGggWm9kIGFuZCBwcm92aWRlIGRlZmF1bHRzIGZvciBtaXNzaW5nIGZpZWxkc1xuICAgICAgY29uc3QgcmVzdWx0ID0gUGlja3NoZWV0U2NoZW1hLnBhcnNlKHtcbiAgICAgICAgdGl0bGU6IHBhcnNlZC50aXRsZSB8fCB1bmRlZmluZWQsXG4gICAgICAgIHdlZWs6IHBhcnNlZC53ZWVrIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgZ2FtZXM6IGNsZWFuZWRHYW1lcyxcbiAgICAgICAgdG90YWxHYW1lczogcGFyc2VkLnRvdGFsR2FtZXMgfHwgY2xlYW5lZEdhbWVzLmxlbmd0aCB8fCAwLFxuICAgICAgICBuZmxHYW1lczogcGFyc2VkLm5mbEdhbWVzIHx8IGNsZWFuZWRHYW1lcy5maWx0ZXIoKGc6IGFueSkgPT4gZy5sZWFndWUgPT09ICdORkwnKS5sZW5ndGggfHwgMCxcbiAgICAgICAgbmNhYWZHYW1lczogcGFyc2VkLm5jYWFmR2FtZXMgfHwgY2xlYW5lZEdhbWVzLmZpbHRlcigoZzogYW55KSA9PiBnLmxlYWd1ZSA9PT0gJ05DQUFGJykubGVuZ3RoIHx8IDAsXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgd2l0aCBMTE06JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IExMTSBwYXJzZWQgZGF0YSB0byBkYXRhYmFzZSBmb3JtYXRcbiAgICovXG4gIHN0YXRpYyB0b0RhdGFiYXNlKHBhcnNlZDogUGFyc2VkUGlja3NoZWV0LCBzb3VyY2VSdW5JZD86IHN0cmluZykge1xuICAgIHJldHVybiBwYXJzZWQuZ2FtZXMubWFwKChnYW1lLCBpbmRleCkgPT4gKHtcbiAgICAgIGlkOiBgbGxtLSR7aW5kZXggKyAxfWAsXG4gICAgICBzb3VyY2VfcnVuX2lkOiBzb3VyY2VSdW5JZCB8fCBudWxsLFxuICAgICAgbGVhZ3VlOiBnYW1lLmxlYWd1ZSxcbiAgICAgIGV2ZW50X2RhdGVfbG9jYWw6IGdhbWUuZ2FtZURhdGUgfHwgbnVsbCxcbiAgICAgIGV2ZW50X3RpbWVfbG9jYWw6IGdhbWUuZ2FtZVRpbWUgfHwgbnVsbCxcbiAgICAgIGhvbWVfbmFtZV9yYXc6IGdhbWUuaG9tZVRlYW0sXG4gICAgICBhd2F5X25hbWVfcmF3OiBnYW1lLmF3YXlUZWFtLFxuICAgICAgaG9tZV9zcHJlYWRfcmF3OiBnYW1lLmhvbWVTcHJlYWQsXG4gICAgICBhd2F5X3NwcmVhZF9yYXc6IGdhbWUuYXdheVNwcmVhZCxcbiAgICAgIHRvdGFsX3JhdzogZ2FtZS5vdmVyVW5kZXIgfHwgbnVsbCxcbiAgICAgIG1hcmtldDogJ3NwcmVhZCcsXG4gICAgICByYXdfdGV4dDogYCR7Z2FtZS5hd2F5VGVhbX0gJHtnYW1lLmF3YXlTcHJlYWR9IEAgJHtnYW1lLmhvbWVUZWFtfSAke2dhbWUuaG9tZVNwcmVhZH0ke2dhbWUub3ZlclVuZGVyID8gYCBPL1UgJHtnYW1lLm92ZXJVbmRlcn1gIDogJyd9YCxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGF3YXlSZWNvcmQ6IGdhbWUuYXdheVJlY29yZCxcbiAgICAgICAgaG9tZVJlY29yZDogZ2FtZS5ob21lUmVjb3JkLFxuICAgICAgICBnYW1lRGF5OiBnYW1lLmdhbWVEYXksXG4gICAgICAgIGdhbWVEYXRlOiBnYW1lLmdhbWVEYXRlLFxuICAgICAgICBwb2ludHM6IGdhbWUucG9pbnRzLFxuICAgICAgICBvdmVyVW5kZXI6IGdhbWUub3ZlclVuZGVyLFxuICAgICAgICBwYXJzZWRXaXRoTExNOiB0cnVlXG4gICAgICB9XG4gICAgfSkpXG4gIH1cblxuICAvKipcbiAgICogU2ltcGxlIGZvcm1hdCBmb3IgZGlzcGxheVxuICAgKi9cbiAgc3RhdGljIGZvcm1hdEZvckRpc3BsYXkocGFyc2VkOiBQYXJzZWRQaWNrc2hlZXQpIHtcbiAgICByZXR1cm4gcGFyc2VkLmdhbWVzLm1hcChnYW1lID0+ICh7XG4gICAgICBsZWFndWU6IGdhbWUubGVhZ3VlLFxuICAgICAgYXdheVRlYW06IGdhbWUuYXdheVRlYW0sXG4gICAgICBhd2F5U3ByZWFkOiBnYW1lLmF3YXlTcHJlYWQsXG4gICAgICBob21lVGVhbTogZ2FtZS5ob21lVGVhbSxcbiAgICAgIGhvbWVTcHJlYWQ6IGdhbWUuaG9tZVNwcmVhZCxcbiAgICAgIG92ZXJVbmRlcjogZ2FtZS5vdmVyVW5kZXIgfHwgbnVsbCxcbiAgICAgIGdhbWVUaW1lOiBgJHtnYW1lLmdhbWVEYXkgfHwgJyd9ICR7Z2FtZS5nYW1lRGF0ZSB8fCAnJ30gJHtnYW1lLmdhbWVUaW1lIHx8ICcnfWAudHJpbSgpIHx8IG51bGxcbiAgICB9KSlcbiAgfVxufSJdLCJuYW1lcyI6WyJPcGVuQUkiLCJ6Iiwib3BlbmFpIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiR2FtZVNjaGVtYSIsIm9iamVjdCIsImxlYWd1ZSIsImVudW0iLCJkZXNjcmliZSIsImF3YXlUZWFtIiwic3RyaW5nIiwiYXdheVJlY29yZCIsIm9wdGlvbmFsIiwiYXdheVNwcmVhZCIsIm51bWJlciIsImhvbWVUZWFtIiwiaG9tZVJlY29yZCIsImhvbWVTcHJlYWQiLCJnYW1lRGF5IiwiZ2FtZURhdGUiLCJnYW1lVGltZSIsIm92ZXJVbmRlciIsInBvaW50cyIsIlBpY2tzaGVldFNjaGVtYSIsInRpdGxlIiwid2VlayIsImdhbWVzIiwiYXJyYXkiLCJ0b3RhbEdhbWVzIiwibmZsR2FtZXMiLCJuY2FhZkdhbWVzIiwiTExNUGlja3NoZWV0UGFyc2VyIiwicGFyc2VXaXRoTExNIiwidGV4dCIsIkVycm9yIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsInN5c3RlbVByb21wdCIsInVzZXJQcm9tcHQiLCJjb21wbGV0aW9uIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwicmVzcG9uc2VfZm9ybWF0IiwidHlwZSIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsInJlc3BvbnNlQ29udGVudCIsImNob2ljZXMiLCJtZXNzYWdlIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwianNvbkVycm9yIiwiZXJyb3IiLCJzdWJzdHJpbmciLCJmaXhlZENvbnRlbnQiLCJ0cmltIiwiZW5kc1dpdGgiLCJsYXN0Q29tcGxldGVHYW1lSW5kZXgiLCJsYXN0SW5kZXhPZiIsImdhbWVDb3VudCIsIm1hdGNoIiwibmZsQ291bnQiLCJuY2FhZkNvdW50IiwicmVwbGFjZSIsInF1b3RlQ291bnQiLCJsYXN0UXVvdGVJbmRleCIsImFmdGVyTGFzdFF1b3RlIiwiaW5jbHVkZXMiLCJzdHJ1Y3R1cmVNYXRjaCIsImluc2VydEluZGV4IiwiaW5kZXhPZiIsInNlY29uZEVycm9yIiwiY2xlYW5lZEdhbWVzIiwibWFwIiwiZ2FtZSIsInVuZGVmaW5lZCIsInJlc3VsdCIsImZpbHRlciIsImciLCJ0b0RhdGFiYXNlIiwic291cmNlUnVuSWQiLCJpbmRleCIsImlkIiwic291cmNlX3J1bl9pZCIsImV2ZW50X2RhdGVfbG9jYWwiLCJldmVudF90aW1lX2xvY2FsIiwiaG9tZV9uYW1lX3JhdyIsImF3YXlfbmFtZV9yYXciLCJob21lX3NwcmVhZF9yYXciLCJhd2F5X3NwcmVhZF9yYXciLCJ0b3RhbF9yYXciLCJtYXJrZXQiLCJyYXdfdGV4dCIsIm1ldGFkYXRhIiwicGFyc2VkV2l0aExMTSIsImZvcm1hdEZvckRpc3BsYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/services/llm-picksheet-parser.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/odds-api.ts":
/*!**********************************!*\
  !*** ./src/services/odds-api.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MARKETS: () => (/* binding */ MARKETS),\n/* harmony export */   OddsAPIService: () => (/* binding */ OddsAPIService),\n/* harmony export */   REGIONS: () => (/* binding */ REGIONS),\n/* harmony export */   SPORTS: () => (/* binding */ SPORTS),\n/* harmony export */   getOddsAPI: () => (/* binding */ getOddsAPI)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n// API Configuration\nconst API_KEY = process.env.THE_ODDS_API_KEY;\nconst BASE_URL = \"https://api.the-odds-api.com/v4\";\n// Sports keys for NFL and NCAAF\nconst SPORTS = {\n    NFL: \"americanfootball_nfl\",\n    NCAAF: \"americanfootball_ncaaf\"\n};\n// Market types\nconst MARKETS = {\n    SPREADS: \"spreads\",\n    TOTALS: \"totals\",\n    H2H: \"h2h\" // head to head (moneyline)\n};\n// Regions for odds\nconst REGIONS = {\n    US: \"us\",\n    UK: \"uk\",\n    EU: \"eu\",\n    AU: \"au\"\n};\n// Zod schemas for type safety\nconst BookmakerSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    key: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    last_update: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nconst OutcomeSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    price: zod__WEBPACK_IMPORTED_MODULE_0__.number(),\n    point: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional() // For spreads and totals\n});\nconst MarketSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    key: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    last_update: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    outcomes: zod__WEBPACK_IMPORTED_MODULE_0__.array(OutcomeSchema)\n});\nconst OddsResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    sport_key: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    sport_title: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    commence_time: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    home_team: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    away_team: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    bookmakers: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        key: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n        title: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n        last_update: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n        markets: zod__WEBPACK_IMPORTED_MODULE_0__.array(MarketSchema)\n    }))\n});\nconst SportsResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    key: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    group: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    active: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    has_outrights: zod__WEBPACK_IMPORTED_MODULE_0__.boolean()\n});\n// Cache configuration\nconst CACHE_DURATION = 5 * 60 * 1000 // 5 minutes\n;\nconst cache = new Map();\n// Rate limiting\nlet lastRequestTime = 0;\nconst MIN_REQUEST_INTERVAL = 1000 // 1 second between requests\n;\nclass OddsAPIService {\n    constructor(apiKey){\n        this.apiKey = apiKey || API_KEY || \"\";\n        if (!this.apiKey) {\n            throw new Error(\"THE_ODDS_API_KEY is not configured\");\n        }\n    }\n    /**\n   * Rate limit protection\n   */ async enforceRateLimit() {\n        const now = Date.now();\n        const timeSinceLastRequest = now - lastRequestTime;\n        if (timeSinceLastRequest < MIN_REQUEST_INTERVAL) {\n            await new Promise((resolve)=>setTimeout(resolve, MIN_REQUEST_INTERVAL - timeSinceLastRequest));\n        }\n        lastRequestTime = Date.now();\n    }\n    /**\n   * Check cache for data\n   */ getCached(key) {\n        const cached = cache.get(key);\n        if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n            console.log(`Cache hit for ${key}`);\n            return cached.data;\n        }\n        return null;\n    }\n    /**\n   * Store data in cache\n   */ setCache(key, data) {\n        cache.set(key, {\n            data,\n            timestamp: Date.now()\n        });\n    }\n    /**\n   * Fetch available sports\n   */ async getSports() {\n        const cacheKey = \"sports\";\n        const cached = this.getCached(cacheKey);\n        if (cached) return cached;\n        await this.enforceRateLimit();\n        const url = `${BASE_URL}/sports?apiKey=${this.apiKey}`;\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error(`Failed to fetch sports: ${response.statusText}`);\n        }\n        const data = await response.json();\n        const validated = zod__WEBPACK_IMPORTED_MODULE_0__.array(SportsResponseSchema).parse(data);\n        this.setCache(cacheKey, validated);\n        return validated;\n    }\n    /**\n   * Fetch odds for a specific sport\n   */ async getOdds(sport, markets = [\n        MARKETS.SPREADS\n    ], regions = REGIONS.US, oddsFormat = \"american\") {\n        const cacheKey = `odds-${sport}-${markets.join(\",\")}-${regions}`;\n        const cached = this.getCached(cacheKey);\n        if (cached) return cached;\n        await this.enforceRateLimit();\n        const params = new URLSearchParams({\n            apiKey: this.apiKey,\n            regions,\n            markets: markets.join(\",\"),\n            oddsFormat\n        });\n        const url = `${BASE_URL}/sports/${sport}/odds?${params}`;\n        console.log(`Fetching odds from: ${url.replace(this.apiKey, \"REDACTED\")}`);\n        const response = await fetch(url);\n        if (!response.ok) {\n            if (response.status === 401) {\n                throw new Error(\"Invalid API key\");\n            }\n            if (response.status === 429) {\n                throw new Error(\"Rate limit exceeded\");\n            }\n            throw new Error(`Failed to fetch odds: ${response.statusText}`);\n        }\n        // Check remaining requests header\n        const remainingRequests = response.headers.get(\"x-requests-remaining\");\n        const usedRequests = response.headers.get(\"x-requests-used\");\n        console.log(`API Usage - Used: ${usedRequests}, Remaining: ${remainingRequests}`);\n        if (remainingRequests && parseInt(remainingRequests) < 100) {\n            console.warn(` Low API requests remaining: ${remainingRequests}`);\n        }\n        const data = await response.json();\n        const validated = zod__WEBPACK_IMPORTED_MODULE_0__.array(OddsResponseSchema).parse(data);\n        this.setCache(cacheKey, validated);\n        return validated;\n    }\n    /**\n   * Get NFL spreads\n   */ async getNFLSpreads() {\n        return this.getOdds(SPORTS.NFL, [\n            MARKETS.SPREADS\n        ]);\n    }\n    /**\n   * Get NCAAF spreads\n   */ async getNCAASpreads() {\n        return this.getOdds(SPORTS.NCAAF, [\n            MARKETS.SPREADS\n        ]);\n    }\n    /**\n   * Get both NFL and NCAAF spreads\n   */ async getAllSpreads() {\n        const [nfl, ncaaf] = await Promise.all([\n            this.getNFLSpreads(),\n            this.getNCAASpreads()\n        ]);\n        return {\n            nfl,\n            ncaaf\n        };\n    }\n    /**\n   * Extract best spread for a game from multiple bookmakers\n   */ static getBestSpread(game) {\n        let bestHomeSpread = null;\n        let bestAwaySpread = null;\n        let bestBookmaker = null;\n        let lastUpdate = null;\n        // Find the spread market from the first available bookmaker\n        for (const bookmaker of game.bookmakers){\n            const spreadMarket = bookmaker.markets.find((m)=>m.key === MARKETS.SPREADS);\n            if (spreadMarket) {\n                const homeOutcome = spreadMarket.outcomes.find((o)=>o.name === game.home_team);\n                const awayOutcome = spreadMarket.outcomes.find((o)=>o.name === game.away_team);\n                if (homeOutcome?.point !== undefined && awayOutcome?.point !== undefined) {\n                    // For simplicity, take the first bookmaker's spread\n                    // In production, you might want to average or find consensus\n                    bestHomeSpread = homeOutcome.point;\n                    bestAwaySpread = awayOutcome.point;\n                    bestBookmaker = bookmaker.title;\n                    lastUpdate = bookmaker.last_update;\n                    break;\n                }\n            }\n        }\n        return {\n            homeTeam: game.home_team,\n            awayTeam: game.away_team,\n            homeSpread: bestHomeSpread,\n            awaySpread: bestAwaySpread,\n            bookmaker: bestBookmaker,\n            lastUpdate\n        };\n    }\n    /**\n   * Format odds data for display\n   */ static formatOddsForDisplay(odds) {\n        return odds.map((game)=>{\n            const spread = this.getBestSpread(game);\n            return {\n                gameId: game.id,\n                homeTeam: spread.homeTeam,\n                awayTeam: spread.awayTeam,\n                homeSpread: spread.homeSpread,\n                awaySpread: spread.awaySpread,\n                gameTime: game.commence_time,\n                bookmaker: spread.bookmaker\n            };\n        });\n    }\n    /**\n   * Clear cache\n   */ static clearCache() {\n        cache.clear();\n        console.log(\"Odds API cache cleared\");\n    }\n}\n// Export a function to get the singleton instance\n// This prevents initialization errors when the module is imported\nconst getOddsAPI = ()=>{\n    if (!process.env.THE_ODDS_API_KEY) {\n        throw new Error(\"THE_ODDS_API_KEY is not configured. Please add it to your .env file.\");\n    }\n    return new OddsAPIService();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQWdCLEVBQUU7UUFDakMsTUFBTSxJQUFJb0QsTUFBTTtJQUNsQjtJQUNBLE9BQU8sSUFBSUg7QUFDYixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2ZmaWNlLWZvb3RiYWxsLXBvb2wvLi9zcmMvc2VydmljZXMvb2Rkcy1hcGkudHM/ODJkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuXG4vLyBBUEkgQ29uZmlndXJhdGlvblxuY29uc3QgQVBJX0tFWSA9IHByb2Nlc3MuZW52LlRIRV9PRERTX0FQSV9LRVlcbmNvbnN0IEJBU0VfVVJMID0gJ2h0dHBzOi8vYXBpLnRoZS1vZGRzLWFwaS5jb20vdjQnXG5cbi8vIFNwb3J0cyBrZXlzIGZvciBORkwgYW5kIE5DQUFGXG5leHBvcnQgY29uc3QgU1BPUlRTID0ge1xuICBORkw6ICdhbWVyaWNhbmZvb3RiYWxsX25mbCcsXG4gIE5DQUFGOiAnYW1lcmljYW5mb290YmFsbF9uY2FhZidcbn0gYXMgY29uc3RcblxuLy8gTWFya2V0IHR5cGVzXG5leHBvcnQgY29uc3QgTUFSS0VUUyA9IHtcbiAgU1BSRUFEUzogJ3NwcmVhZHMnLFxuICBUT1RBTFM6ICd0b3RhbHMnLFxuICBIMkg6ICdoMmgnIC8vIGhlYWQgdG8gaGVhZCAobW9uZXlsaW5lKVxufSBhcyBjb25zdFxuXG4vLyBSZWdpb25zIGZvciBvZGRzXG5leHBvcnQgY29uc3QgUkVHSU9OUyA9IHtcbiAgVVM6ICd1cycsXG4gIFVLOiAndWsnLFxuICBFVTogJ2V1JyxcbiAgQVU6ICdhdSdcbn0gYXMgY29uc3RcblxuLy8gWm9kIHNjaGVtYXMgZm9yIHR5cGUgc2FmZXR5XG5jb25zdCBCb29rbWFrZXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGtleTogei5zdHJpbmcoKSxcbiAgdGl0bGU6IHouc3RyaW5nKCksXG4gIGxhc3RfdXBkYXRlOiB6LnN0cmluZygpXG59KVxuXG5jb25zdCBPdXRjb21lU2NoZW1hID0gei5vYmplY3Qoe1xuICBuYW1lOiB6LnN0cmluZygpLFxuICBwcmljZTogei5udW1iZXIoKSxcbiAgcG9pbnQ6IHoubnVtYmVyKCkub3B0aW9uYWwoKSAvLyBGb3Igc3ByZWFkcyBhbmQgdG90YWxzXG59KVxuXG5jb25zdCBNYXJrZXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGtleTogei5zdHJpbmcoKSxcbiAgbGFzdF91cGRhdGU6IHouc3RyaW5nKCksXG4gIG91dGNvbWVzOiB6LmFycmF5KE91dGNvbWVTY2hlbWEpXG59KVxuXG5jb25zdCBPZGRzUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGlkOiB6LnN0cmluZygpLFxuICBzcG9ydF9rZXk6IHouc3RyaW5nKCksXG4gIHNwb3J0X3RpdGxlOiB6LnN0cmluZygpLFxuICBjb21tZW5jZV90aW1lOiB6LnN0cmluZygpLFxuICBob21lX3RlYW06IHouc3RyaW5nKCksXG4gIGF3YXlfdGVhbTogei5zdHJpbmcoKSxcbiAgYm9va21ha2Vyczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAga2V5OiB6LnN0cmluZygpLFxuICAgIHRpdGxlOiB6LnN0cmluZygpLFxuICAgIGxhc3RfdXBkYXRlOiB6LnN0cmluZygpLFxuICAgIG1hcmtldHM6IHouYXJyYXkoTWFya2V0U2NoZW1hKVxuICB9KSlcbn0pXG5cbmNvbnN0IFNwb3J0c1Jlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBrZXk6IHouc3RyaW5nKCksXG4gIGdyb3VwOiB6LnN0cmluZygpLFxuICB0aXRsZTogei5zdHJpbmcoKSxcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCksXG4gIGFjdGl2ZTogei5ib29sZWFuKCksXG4gIGhhc19vdXRyaWdodHM6IHouYm9vbGVhbigpXG59KVxuXG4vLyBUeXBlc1xuZXhwb3J0IHR5cGUgT2Rkc1Jlc3BvbnNlID0gei5pbmZlcjx0eXBlb2YgT2Rkc1Jlc3BvbnNlU2NoZW1hPlxuZXhwb3J0IHR5cGUgU3BvcnRzUmVzcG9uc2UgPSB6LmluZmVyPHR5cGVvZiBTcG9ydHNSZXNwb25zZVNjaGVtYT5cbmV4cG9ydCB0eXBlIE1hcmtldCA9IHouaW5mZXI8dHlwZW9mIE1hcmtldFNjaGVtYT5cbmV4cG9ydCB0eXBlIE91dGNvbWUgPSB6LmluZmVyPHR5cGVvZiBPdXRjb21lU2NoZW1hPlxuXG4vLyBDYWNoZSBjb25maWd1cmF0aW9uXG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDUgKiA2MCAqIDEwMDAgLy8gNSBtaW51dGVzXG5jb25zdCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCB7IGRhdGE6IGFueTsgdGltZXN0YW1wOiBudW1iZXIgfT4oKVxuXG4vLyBSYXRlIGxpbWl0aW5nXG5sZXQgbGFzdFJlcXVlc3RUaW1lID0gMFxuY29uc3QgTUlOX1JFUVVFU1RfSU5URVJWQUwgPSAxMDAwIC8vIDEgc2Vjb25kIGJldHdlZW4gcmVxdWVzdHNcblxuZXhwb3J0IGNsYXNzIE9kZHNBUElTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBhcGlLZXk6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKGFwaUtleT86IHN0cmluZykge1xuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5IHx8IEFQSV9LRVkgfHwgJydcbiAgICBpZiAoIXRoaXMuYXBpS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIRV9PRERTX0FQSV9LRVkgaXMgbm90IGNvbmZpZ3VyZWQnKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSYXRlIGxpbWl0IHByb3RlY3Rpb25cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZW5mb3JjZVJhdGVMaW1pdCgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgY29uc3QgdGltZVNpbmNlTGFzdFJlcXVlc3QgPSBub3cgLSBsYXN0UmVxdWVzdFRpbWVcbiAgICBcbiAgICBpZiAodGltZVNpbmNlTGFzdFJlcXVlc3QgPCBNSU5fUkVRVUVTVF9JTlRFUlZBTCkge1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBcbiAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBNSU5fUkVRVUVTVF9JTlRFUlZBTCAtIHRpbWVTaW5jZUxhc3RSZXF1ZXN0KVxuICAgICAgKVxuICAgIH1cbiAgICBcbiAgICBsYXN0UmVxdWVzdFRpbWUgPSBEYXRlLm5vdygpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgY2FjaGUgZm9yIGRhdGFcbiAgICovXG4gIHByaXZhdGUgZ2V0Q2FjaGVkKGtleTogc3RyaW5nKSB7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSlcbiAgICBpZiAoY2FjaGVkICYmIERhdGUubm93KCkgLSBjYWNoZWQudGltZXN0YW1wIDwgQ0FDSEVfRFVSQVRJT04pIHtcbiAgICAgIGNvbnNvbGUubG9nKGBDYWNoZSBoaXQgZm9yICR7a2V5fWApXG4gICAgICByZXR1cm4gY2FjaGVkLmRhdGFcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZSBkYXRhIGluIGNhY2hlXG4gICAqL1xuICBwcml2YXRlIHNldENhY2hlKGtleTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcbiAgICBjYWNoZS5zZXQoa2V5LCB7IGRhdGEsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIGF2YWlsYWJsZSBzcG9ydHNcbiAgICovXG4gIGFzeW5jIGdldFNwb3J0cygpOiBQcm9taXNlPFNwb3J0c1Jlc3BvbnNlW10+IHtcbiAgICBjb25zdCBjYWNoZUtleSA9ICdzcG9ydHMnXG4gICAgY29uc3QgY2FjaGVkID0gdGhpcy5nZXRDYWNoZWQoY2FjaGVLZXkpXG4gICAgaWYgKGNhY2hlZCkgcmV0dXJuIGNhY2hlZFxuXG4gICAgYXdhaXQgdGhpcy5lbmZvcmNlUmF0ZUxpbWl0KClcblxuICAgIGNvbnN0IHVybCA9IGAke0JBU0VfVVJMfS9zcG9ydHM/YXBpS2V5PSR7dGhpcy5hcGlLZXl9YFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKVxuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHNwb3J0czogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgIGNvbnN0IHZhbGlkYXRlZCA9IHouYXJyYXkoU3BvcnRzUmVzcG9uc2VTY2hlbWEpLnBhcnNlKGRhdGEpXG4gICAgXG4gICAgdGhpcy5zZXRDYWNoZShjYWNoZUtleSwgdmFsaWRhdGVkKVxuICAgIHJldHVybiB2YWxpZGF0ZWRcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBvZGRzIGZvciBhIHNwZWNpZmljIHNwb3J0XG4gICAqL1xuICBhc3luYyBnZXRPZGRzKFxuICAgIHNwb3J0OiB0eXBlb2YgU1BPUlRTW2tleW9mIHR5cGVvZiBTUE9SVFNdLFxuICAgIG1hcmtldHM6IHN0cmluZ1tdID0gW01BUktFVFMuU1BSRUFEU10sXG4gICAgcmVnaW9uczogc3RyaW5nID0gUkVHSU9OUy5VUyxcbiAgICBvZGRzRm9ybWF0OiAnYW1lcmljYW4nIHwgJ2RlY2ltYWwnID0gJ2FtZXJpY2FuJ1xuICApOiBQcm9taXNlPE9kZHNSZXNwb25zZVtdPiB7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgb2Rkcy0ke3Nwb3J0fS0ke21hcmtldHMuam9pbignLCcpfS0ke3JlZ2lvbnN9YFxuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuZ2V0Q2FjaGVkKGNhY2hlS2V5KVxuICAgIGlmIChjYWNoZWQpIHJldHVybiBjYWNoZWRcblxuICAgIGF3YWl0IHRoaXMuZW5mb3JjZVJhdGVMaW1pdCgpXG5cbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgIGFwaUtleTogdGhpcy5hcGlLZXksXG4gICAgICByZWdpb25zLFxuICAgICAgbWFya2V0czogbWFya2V0cy5qb2luKCcsJyksXG4gICAgICBvZGRzRm9ybWF0XG4gICAgfSlcblxuICAgIGNvbnN0IHVybCA9IGAke0JBU0VfVVJMfS9zcG9ydHMvJHtzcG9ydH0vb2Rkcz8ke3BhcmFtc31gXG4gICAgY29uc29sZS5sb2coYEZldGNoaW5nIG9kZHMgZnJvbTogJHt1cmwucmVwbGFjZSh0aGlzLmFwaUtleSwgJ1JFREFDVEVEJyl9YClcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybClcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFQSSBrZXknKVxuICAgICAgfVxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmF0ZSBsaW1pdCBleGNlZWRlZCcpXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBvZGRzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YClcbiAgICB9XG5cbiAgICAvLyBDaGVjayByZW1haW5pbmcgcmVxdWVzdHMgaGVhZGVyXG4gICAgY29uc3QgcmVtYWluaW5nUmVxdWVzdHMgPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZXF1ZXN0cy1yZW1haW5pbmcnKVxuICAgIGNvbnN0IHVzZWRSZXF1ZXN0cyA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXJlcXVlc3RzLXVzZWQnKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGBBUEkgVXNhZ2UgLSBVc2VkOiAke3VzZWRSZXF1ZXN0c30sIFJlbWFpbmluZzogJHtyZW1haW5pbmdSZXF1ZXN0c31gKVxuICAgIFxuICAgIGlmIChyZW1haW5pbmdSZXF1ZXN0cyAmJiBwYXJzZUludChyZW1haW5pbmdSZXF1ZXN0cykgPCAxMDApIHtcbiAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIExvdyBBUEkgcmVxdWVzdHMgcmVtYWluaW5nOiAke3JlbWFpbmluZ1JlcXVlc3RzfWApXG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgIGNvbnN0IHZhbGlkYXRlZCA9IHouYXJyYXkoT2Rkc1Jlc3BvbnNlU2NoZW1hKS5wYXJzZShkYXRhKVxuICAgIFxuICAgIHRoaXMuc2V0Q2FjaGUoY2FjaGVLZXksIHZhbGlkYXRlZClcbiAgICByZXR1cm4gdmFsaWRhdGVkXG4gIH1cblxuICAvKipcbiAgICogR2V0IE5GTCBzcHJlYWRzXG4gICAqL1xuICBhc3luYyBnZXRORkxTcHJlYWRzKCk6IFByb21pc2U8T2Rkc1Jlc3BvbnNlW10+IHtcbiAgICByZXR1cm4gdGhpcy5nZXRPZGRzKFNQT1JUUy5ORkwsIFtNQVJLRVRTLlNQUkVBRFNdKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBOQ0FBRiBzcHJlYWRzXG4gICAqL1xuICBhc3luYyBnZXROQ0FBU3ByZWFkcygpOiBQcm9taXNlPE9kZHNSZXNwb25zZVtdPiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T2RkcyhTUE9SVFMuTkNBQUYsIFtNQVJLRVRTLlNQUkVBRFNdKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBib3RoIE5GTCBhbmQgTkNBQUYgc3ByZWFkc1xuICAgKi9cbiAgYXN5bmMgZ2V0QWxsU3ByZWFkcygpOiBQcm9taXNlPHtcbiAgICBuZmw6IE9kZHNSZXNwb25zZVtdXG4gICAgbmNhYWY6IE9kZHNSZXNwb25zZVtdXG4gIH0+IHtcbiAgICBjb25zdCBbbmZsLCBuY2FhZl0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLmdldE5GTFNwcmVhZHMoKSxcbiAgICAgIHRoaXMuZ2V0TkNBQVNwcmVhZHMoKVxuICAgIF0pXG5cbiAgICByZXR1cm4geyBuZmwsIG5jYWFmIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0IGJlc3Qgc3ByZWFkIGZvciBhIGdhbWUgZnJvbSBtdWx0aXBsZSBib29rbWFrZXJzXG4gICAqL1xuICBzdGF0aWMgZ2V0QmVzdFNwcmVhZChnYW1lOiBPZGRzUmVzcG9uc2UpOiB7XG4gICAgaG9tZVRlYW06IHN0cmluZ1xuICAgIGF3YXlUZWFtOiBzdHJpbmdcbiAgICBob21lU3ByZWFkOiBudW1iZXIgfCBudWxsXG4gICAgYXdheVNwcmVhZDogbnVtYmVyIHwgbnVsbFxuICAgIGJvb2ttYWtlcjogc3RyaW5nIHwgbnVsbFxuICAgIGxhc3RVcGRhdGU6IHN0cmluZyB8IG51bGxcbiAgfSB7XG4gICAgbGV0IGJlc3RIb21lU3ByZWFkOiBudW1iZXIgfCBudWxsID0gbnVsbFxuICAgIGxldCBiZXN0QXdheVNwcmVhZDogbnVtYmVyIHwgbnVsbCA9IG51bGxcbiAgICBsZXQgYmVzdEJvb2ttYWtlcjogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgICBsZXQgbGFzdFVwZGF0ZTogc3RyaW5nIHwgbnVsbCA9IG51bGxcblxuICAgIC8vIEZpbmQgdGhlIHNwcmVhZCBtYXJrZXQgZnJvbSB0aGUgZmlyc3QgYXZhaWxhYmxlIGJvb2ttYWtlclxuICAgIGZvciAoY29uc3QgYm9va21ha2VyIG9mIGdhbWUuYm9va21ha2Vycykge1xuICAgICAgY29uc3Qgc3ByZWFkTWFya2V0ID0gYm9va21ha2VyLm1hcmtldHMuZmluZChtID0+IG0ua2V5ID09PSBNQVJLRVRTLlNQUkVBRFMpXG4gICAgICBcbiAgICAgIGlmIChzcHJlYWRNYXJrZXQpIHtcbiAgICAgICAgY29uc3QgaG9tZU91dGNvbWUgPSBzcHJlYWRNYXJrZXQub3V0Y29tZXMuZmluZChvID0+IG8ubmFtZSA9PT0gZ2FtZS5ob21lX3RlYW0pXG4gICAgICAgIGNvbnN0IGF3YXlPdXRjb21lID0gc3ByZWFkTWFya2V0Lm91dGNvbWVzLmZpbmQobyA9PiBvLm5hbWUgPT09IGdhbWUuYXdheV90ZWFtKVxuICAgICAgICBcbiAgICAgICAgaWYgKGhvbWVPdXRjb21lPy5wb2ludCAhPT0gdW5kZWZpbmVkICYmIGF3YXlPdXRjb21lPy5wb2ludCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gRm9yIHNpbXBsaWNpdHksIHRha2UgdGhlIGZpcnN0IGJvb2ttYWtlcidzIHNwcmVhZFxuICAgICAgICAgIC8vIEluIHByb2R1Y3Rpb24sIHlvdSBtaWdodCB3YW50IHRvIGF2ZXJhZ2Ugb3IgZmluZCBjb25zZW5zdXNcbiAgICAgICAgICBiZXN0SG9tZVNwcmVhZCA9IGhvbWVPdXRjb21lLnBvaW50XG4gICAgICAgICAgYmVzdEF3YXlTcHJlYWQgPSBhd2F5T3V0Y29tZS5wb2ludFxuICAgICAgICAgIGJlc3RCb29rbWFrZXIgPSBib29rbWFrZXIudGl0bGVcbiAgICAgICAgICBsYXN0VXBkYXRlID0gYm9va21ha2VyLmxhc3RfdXBkYXRlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBob21lVGVhbTogZ2FtZS5ob21lX3RlYW0sXG4gICAgICBhd2F5VGVhbTogZ2FtZS5hd2F5X3RlYW0sXG4gICAgICBob21lU3ByZWFkOiBiZXN0SG9tZVNwcmVhZCxcbiAgICAgIGF3YXlTcHJlYWQ6IGJlc3RBd2F5U3ByZWFkLFxuICAgICAgYm9va21ha2VyOiBiZXN0Qm9va21ha2VyLFxuICAgICAgbGFzdFVwZGF0ZVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgb2RkcyBkYXRhIGZvciBkaXNwbGF5XG4gICAqL1xuICBzdGF0aWMgZm9ybWF0T2Rkc0ZvckRpc3BsYXkob2RkczogT2Rkc1Jlc3BvbnNlW10pOiBBcnJheTx7XG4gICAgZ2FtZUlkOiBzdHJpbmdcbiAgICBob21lVGVhbTogc3RyaW5nXG4gICAgYXdheVRlYW06IHN0cmluZ1xuICAgIGhvbWVTcHJlYWQ6IG51bWJlciB8IG51bGxcbiAgICBhd2F5U3ByZWFkOiBudW1iZXIgfCBudWxsXG4gICAgZ2FtZVRpbWU6IHN0cmluZ1xuICAgIGJvb2ttYWtlcjogc3RyaW5nIHwgbnVsbFxuICB9PiB7XG4gICAgcmV0dXJuIG9kZHMubWFwKGdhbWUgPT4ge1xuICAgICAgY29uc3Qgc3ByZWFkID0gdGhpcy5nZXRCZXN0U3ByZWFkKGdhbWUpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBnYW1lSWQ6IGdhbWUuaWQsXG4gICAgICAgIGhvbWVUZWFtOiBzcHJlYWQuaG9tZVRlYW0sXG4gICAgICAgIGF3YXlUZWFtOiBzcHJlYWQuYXdheVRlYW0sXG4gICAgICAgIGhvbWVTcHJlYWQ6IHNwcmVhZC5ob21lU3ByZWFkLFxuICAgICAgICBhd2F5U3ByZWFkOiBzcHJlYWQuYXdheVNwcmVhZCxcbiAgICAgICAgZ2FtZVRpbWU6IGdhbWUuY29tbWVuY2VfdGltZSxcbiAgICAgICAgYm9va21ha2VyOiBzcHJlYWQuYm9va21ha2VyXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBjYWNoZVxuICAgKi9cbiAgc3RhdGljIGNsZWFyQ2FjaGUoKSB7XG4gICAgY2FjaGUuY2xlYXIoKVxuICAgIGNvbnNvbGUubG9nKCdPZGRzIEFQSSBjYWNoZSBjbGVhcmVkJylcbiAgfVxufVxuXG4vLyBFeHBvcnQgYSBmdW5jdGlvbiB0byBnZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZVxuLy8gVGhpcyBwcmV2ZW50cyBpbml0aWFsaXphdGlvbiBlcnJvcnMgd2hlbiB0aGUgbW9kdWxlIGlzIGltcG9ydGVkXG5leHBvcnQgY29uc3QgZ2V0T2Rkc0FQSSA9ICgpID0+IHtcbiAgaWYgKCFwcm9jZXNzLmVudi5USEVfT0REU19BUElfS0VZKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUSEVfT0REU19BUElfS0VZIGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2UgYWRkIGl0IHRvIHlvdXIgLmVudiBmaWxlLicpXG4gIH1cbiAgcmV0dXJuIG5ldyBPZGRzQVBJU2VydmljZSgpXG59Il0sIm5hbWVzIjpbInoiLCJBUElfS0VZIiwicHJvY2VzcyIsImVudiIsIlRIRV9PRERTX0FQSV9LRVkiLCJCQVNFX1VSTCIsIlNQT1JUUyIsIk5GTCIsIk5DQUFGIiwiTUFSS0VUUyIsIlNQUkVBRFMiLCJUT1RBTFMiLCJIMkgiLCJSRUdJT05TIiwiVVMiLCJVSyIsIkVVIiwiQVUiLCJCb29rbWFrZXJTY2hlbWEiLCJvYmplY3QiLCJrZXkiLCJzdHJpbmciLCJ0aXRsZSIsImxhc3RfdXBkYXRlIiwiT3V0Y29tZVNjaGVtYSIsIm5hbWUiLCJwcmljZSIsIm51bWJlciIsInBvaW50Iiwib3B0aW9uYWwiLCJNYXJrZXRTY2hlbWEiLCJvdXRjb21lcyIsImFycmF5IiwiT2Rkc1Jlc3BvbnNlU2NoZW1hIiwiaWQiLCJzcG9ydF9rZXkiLCJzcG9ydF90aXRsZSIsImNvbW1lbmNlX3RpbWUiLCJob21lX3RlYW0iLCJhd2F5X3RlYW0iLCJib29rbWFrZXJzIiwibWFya2V0cyIsIlNwb3J0c1Jlc3BvbnNlU2NoZW1hIiwiZ3JvdXAiLCJkZXNjcmlwdGlvbiIsImFjdGl2ZSIsImJvb2xlYW4iLCJoYXNfb3V0cmlnaHRzIiwiQ0FDSEVfRFVSQVRJT04iLCJjYWNoZSIsIk1hcCIsImxhc3RSZXF1ZXN0VGltZSIsIk1JTl9SRVFVRVNUX0lOVEVSVkFMIiwiT2Rkc0FQSVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImFwaUtleSIsIkVycm9yIiwiZW5mb3JjZVJhdGVMaW1pdCIsIm5vdyIsIkRhdGUiLCJ0aW1lU2luY2VMYXN0UmVxdWVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImdldENhY2hlZCIsImNhY2hlZCIsImdldCIsInRpbWVzdGFtcCIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwic2V0Q2FjaGUiLCJzZXQiLCJnZXRTcG9ydHMiLCJjYWNoZUtleSIsInVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1c1RleHQiLCJqc29uIiwidmFsaWRhdGVkIiwicGFyc2UiLCJnZXRPZGRzIiwic3BvcnQiLCJyZWdpb25zIiwib2Rkc0Zvcm1hdCIsImpvaW4iLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJyZXBsYWNlIiwic3RhdHVzIiwicmVtYWluaW5nUmVxdWVzdHMiLCJoZWFkZXJzIiwidXNlZFJlcXVlc3RzIiwicGFyc2VJbnQiLCJ3YXJuIiwiZ2V0TkZMU3ByZWFkcyIsImdldE5DQUFTcHJlYWRzIiwiZ2V0QWxsU3ByZWFkcyIsIm5mbCIsIm5jYWFmIiwiYWxsIiwiZ2V0QmVzdFNwcmVhZCIsImdhbWUiLCJiZXN0SG9tZVNwcmVhZCIsImJlc3RBd2F5U3ByZWFkIiwiYmVzdEJvb2ttYWtlciIsImxhc3RVcGRhdGUiLCJib29rbWFrZXIiLCJzcHJlYWRNYXJrZXQiLCJmaW5kIiwibSIsImhvbWVPdXRjb21lIiwibyIsImF3YXlPdXRjb21lIiwidW5kZWZpbmVkIiwiaG9tZVRlYW0iLCJhd2F5VGVhbSIsImhvbWVTcHJlYWQiLCJhd2F5U3ByZWFkIiwiZm9ybWF0T2Rkc0ZvckRpc3BsYXkiLCJvZGRzIiwibWFwIiwic3ByZWFkIiwiZ2FtZUlkIiwiZ2FtZVRpbWUiLCJjbGVhckNhY2hlIiwiY2xlYXIiLCJnZXRPZGRzQVBJIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/services/odds-api.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/pipeline-orchestrator.ts":
/*!***********************************************!*\
  !*** ./src/services/pipeline-orchestrator.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PipelineOrchestrator: () => (/* binding */ PipelineOrchestrator),\n/* harmony export */   pipelineOrchestrator: () => (/* binding */ pipelineOrchestrator)\n/* harmony export */ });\n/* harmony import */ var _llm_picksheet_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./llm-picksheet-parser */ \"(rsc)/./src/services/llm-picksheet-parser.ts\");\n/* harmony import */ var _odds_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./odds-api */ \"(rsc)/./src/services/odds-api.ts\");\n/* harmony import */ var _entity_resolution__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entity-resolution */ \"(rsc)/./src/services/entity-resolution.ts\");\n/* harmony import */ var _comparison_engine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./comparison-engine */ \"(rsc)/./src/services/comparison-engine.ts\");\n\n\n\n\nclass PipelineOrchestrator {\n    /**\n   * Main pipeline execution method\n   */ async runPipeline(input, config = {}) {\n        const pipelineId = this.generatePipelineId();\n        const startTime = Date.now();\n        const result = {\n            id: pipelineId,\n            timestamp: new Date().toISOString(),\n            status: \"success\",\n            stage: \"initializing\",\n            config\n        };\n        this.log(`Starting pipeline ${pipelineId}`);\n        try {\n            // Stage 1: Parse picksheet (if text provided)\n            let picksheetGames = input.picksheetGames;\n            if (input.picksheetText && !picksheetGames) {\n                result.parsing = await this.parsePicksheet(input.picksheetText, config.useLLM);\n                if (!result.parsing?.success) {\n                    result.status = \"failed\";\n                    result.stage = \"parsing\";\n                    throw new Error(result.parsing?.error || \"Parsing failed\");\n                }\n                picksheetGames = result.parsing?.games;\n            }\n            if (!picksheetGames || picksheetGames.length === 0) {\n                throw new Error(\"No picksheet games to process\");\n            }\n            // Stage 2: Retrieve market odds\n            let marketGames = input.marketGames;\n            if (config.useOddsAPI && !marketGames) {\n                result.oddsRetrieval = await this.retrieveOdds();\n                if (!result.oddsRetrieval?.success) {\n                    result.status = \"partial\";\n                    result.stage = \"odds_retrieval\";\n                    this.log(`Warning: Odds retrieval failed: ${result.oddsRetrieval?.error || \"Unknown error\"}`);\n                } else {\n                    marketGames = result.oddsRetrieval?.games;\n                }\n            }\n            if (!marketGames || marketGames.length === 0) {\n                throw new Error(\"No market games available for comparison\");\n            }\n            // Stage 3: Match games\n            result.matching = await this.matchGames(picksheetGames, marketGames, config.matchingThreshold);\n            if (result.matching.matchRate === 0) {\n                result.status = \"failed\";\n                result.stage = \"matching\";\n                throw new Error(\"No games could be matched\");\n            } else if (result.matching.matchRate < 0.5) {\n                result.status = \"partial\";\n                this.log(`Warning: Low match rate: ${(result.matching.matchRate * 100).toFixed(1)}%`);\n            }\n            // Stage 4: Compare spreads and calculate KPIs\n            result.comparison = await this.compareGames(picksheetGames, marketGames, result.matching);\n            if (!result.comparison?.success) {\n                result.status = \"partial\";\n                result.stage = \"comparison\";\n            }\n            result.stage = \"completed\";\n            result.totalDuration = Date.now() - startTime;\n            if (config.includeLogs) {\n                result.logs = [\n                    ...this.logs\n                ];\n            }\n            // Store result for retrieval\n            this.results.set(pipelineId, result);\n            this.log(`Pipeline ${pipelineId} completed in ${result.totalDuration}ms`);\n            return result;\n        } catch (error) {\n            result.status = \"failed\";\n            result.totalDuration = Date.now() - startTime;\n            if (config.includeLogs) {\n                result.logs = [\n                    ...this.logs\n                ];\n            }\n            this.log(`Pipeline ${pipelineId} failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n            this.results.set(pipelineId, result);\n            throw error;\n        } finally{\n            this.clearLogs();\n            this._lastMatches = null // Clear stored matches\n            ;\n        }\n    }\n    /**\n   * Stage 1: Parse picksheet text\n   */ async parsePicksheet(text, useLLM = true) {\n        const startTime = Date.now();\n        this.currentStage = \"parsing\";\n        this.log(\"Starting picksheet parsing\");\n        try {\n            const parsed = await _llm_picksheet_parser__WEBPACK_IMPORTED_MODULE_0__.LLMPicksheetParser.parseWithLLM(text);\n            if (!parsed || !parsed.games) {\n                return {\n                    success: false,\n                    gamesFound: 0,\n                    error: \"Failed to parse picksheet\",\n                    duration: Date.now() - startTime\n                };\n            }\n            this.log(`Parsed ${parsed.games.length} games from picksheet`);\n            // Convert to our format\n            const games = parsed.games.map((game)=>({\n                    homeTeam: game.homeTeam,\n                    awayTeam: game.awayTeam,\n                    spread: game.homeSpread,\n                    gameDate: game.gameDate || undefined\n                }));\n            return {\n                success: true,\n                gamesFound: games.length,\n                games,\n                duration: Date.now() - startTime\n            };\n        } catch (error) {\n            return {\n                success: false,\n                gamesFound: 0,\n                error: error instanceof Error ? error.message : \"Unknown parsing error\",\n                duration: Date.now() - startTime\n            };\n        }\n    }\n    /**\n   * Stage 2: Retrieve odds from API\n   */ async retrieveOdds() {\n        const startTime = Date.now();\n        this.currentStage = \"odds_retrieval\";\n        this.log(\"Retrieving odds from API\");\n        try {\n            const oddsAPI = (0,_odds_api__WEBPACK_IMPORTED_MODULE_1__.getOddsAPI)();\n            const { nfl, ncaaf } = await oddsAPI.getAllSpreads();\n            // Convert to our format, preserving league information\n            const nflGames = nfl.map((game)=>{\n                const spread = _odds_api__WEBPACK_IMPORTED_MODULE_1__.OddsAPIService.getBestSpread(game);\n                return {\n                    gameId: game.id,\n                    homeTeam: spread.homeTeam,\n                    awayTeam: spread.awayTeam,\n                    homeSpread: spread.homeSpread || 0,\n                    gameTime: game.commence_time,\n                    league: \"NFL\"\n                };\n            });\n            const ncaafGames = ncaaf.map((game)=>{\n                const spread = _odds_api__WEBPACK_IMPORTED_MODULE_1__.OddsAPIService.getBestSpread(game);\n                return {\n                    gameId: game.id,\n                    homeTeam: spread.homeTeam,\n                    awayTeam: spread.awayTeam,\n                    homeSpread: spread.homeSpread || 0,\n                    gameTime: game.commence_time,\n                    league: \"NCAAF\"\n                };\n            });\n            const games = [\n                ...nflGames,\n                ...ncaafGames\n            ];\n            this.log(`Retrieved ${nfl.length} NFL and ${ncaaf.length} NCAAF games`);\n            return {\n                success: true,\n                nflGames: nfl.length,\n                ncaafGames: ncaaf.length,\n                games,\n                duration: Date.now() - startTime\n            };\n        } catch (error) {\n            return {\n                success: false,\n                nflGames: 0,\n                ncaafGames: 0,\n                error: error instanceof Error ? error.message : \"Unknown API error\",\n                duration: Date.now() - startTime\n            };\n        }\n    }\n    /**\n   * Stage 3: Match games between sources\n   */ async matchGames(picksheetGames, marketGames, threshold = 0.6) {\n        const startTime = Date.now();\n        this.currentStage = \"matching\";\n        this.log(\"Matching games between picksheet and market\");\n        try {\n            const resolver = new _entity_resolution__WEBPACK_IMPORTED_MODULE_2__.EntityResolver();\n            const matches = [];\n            for(let pIdx = 0; pIdx < picksheetGames.length; pIdx++){\n                const picksheetGame = picksheetGames[pIdx];\n                let bestMatch = {\n                    marketIndex: -1,\n                    confidence: 0\n                };\n                for(let mIdx = 0; mIdx < marketGames.length; mIdx++){\n                    const marketGame = marketGames[mIdx];\n                    // Match teams\n                    const homeMatch = await resolver.matchTeam(picksheetGame.homeTeam);\n                    const marketHomeMatch = await resolver.matchTeam(marketGame.homeTeam);\n                    const awayMatch = await resolver.matchTeam(picksheetGame.awayTeam);\n                    const marketAwayMatch = await resolver.matchTeam(marketGame.awayTeam);\n                    // Check if teams match (normal or swapped)\n                    const normalMatch = homeMatch.matchedName === marketHomeMatch.matchedName && awayMatch.matchedName === marketAwayMatch.matchedName;\n                    const swappedMatch = homeMatch.matchedName === marketAwayMatch.matchedName && awayMatch.matchedName === marketHomeMatch.matchedName;\n                    if (normalMatch || swappedMatch) {\n                        const confidence = Math.min(homeMatch.confidence, awayMatch.confidence, marketHomeMatch.confidence, marketAwayMatch.confidence);\n                        if (confidence >= threshold && confidence > bestMatch.confidence) {\n                            bestMatch = {\n                                marketIndex: mIdx,\n                                confidence\n                            };\n                        }\n                    }\n                }\n                if (bestMatch.marketIndex !== -1) {\n                    matches.push({\n                        picksheetIndex: pIdx,\n                        marketIndex: bestMatch.marketIndex,\n                        confidence: bestMatch.confidence\n                    });\n                }\n            }\n            const matchRate = matches.length / picksheetGames.length;\n            this.log(`Matched ${matches.length} of ${picksheetGames.length} games (${(matchRate * 100).toFixed(1)}%)`);\n            this._lastMatches = matches;\n            return {\n                success: true,\n                matchRate,\n                matches: matches.length,\n                totalGames: picksheetGames.length,\n                duration: Date.now() - startTime\n            };\n        } catch (error) {\n            return {\n                success: false,\n                matchRate: 0,\n                matches: 0,\n                totalGames: picksheetGames.length,\n                error: error instanceof Error ? error.message : \"Unknown matching error\",\n                duration: Date.now() - startTime\n            };\n        }\n    }\n    /**\n   * Stage 4: Compare games and calculate KPIs\n   */ async compareGames(picksheetGames, marketGames, matchingResult) {\n        const startTime = Date.now();\n        this.currentStage = \"comparison\";\n        this.log(\"Comparing games and calculating KPIs\");\n        try {\n            const result = _comparison_engine__WEBPACK_IMPORTED_MODULE_3__.comparisonEngine.compareGames(picksheetGames, marketGames, this._lastMatches || []);\n            this.log(`Calculated KPIs: Avg delta ${result.kpis.avgSpreadDelta}, Key crossings ${result.kpis.keyNumberCrossings}`);\n            return {\n                success: true,\n                kpis: result.kpis,\n                comparisons: result.comparisons,\n                unmatched: result.unmatched,\n                duration: Date.now() - startTime\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Unknown comparison error\",\n                duration: Date.now() - startTime\n            };\n        }\n    }\n    /**\n   * Get pipeline result by ID\n   */ getPipelineResult(id) {\n        return this.results.get(id);\n    }\n    /**\n   * Get all pipeline results\n   */ getAllResults() {\n        return Array.from(this.results.values()).sort((a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n    }\n    /**\n   * Clear stored results\n   */ clearResults() {\n        this.results.clear();\n        this.log(\"Cleared all pipeline results\");\n    }\n    /**\n   * Get current pipeline stage\n   */ getCurrentStage() {\n        return this.currentStage;\n    }\n    /**\n   * Internal logging\n   */ log(message) {\n        const timestamp = new Date().toISOString();\n        const logEntry = `[${timestamp}] [${this.currentStage}] ${message}`;\n        this.logs.push(logEntry);\n        console.log(logEntry);\n    }\n    /**\n   * Clear logs\n   */ clearLogs() {\n        this.logs = [];\n    }\n    /**\n   * Generate unique pipeline ID\n   */ generatePipelineId() {\n        return `pipeline_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    constructor(){\n        this.logs = [];\n        this.currentStage = \"idle\";\n        this.results = new Map();\n    }\n}\n// Export singleton instance\nconst pipelineOrchestrator = new PipelineOrchestrator();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmljZXMvcGlwZWxpbmUtb3JjaGVzdHJhdG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyRDtBQUNKO0FBQ0g7QUFDNEM7QUEwRXpGLE1BQU1LO0lBS1g7O0dBRUMsR0FDRCxNQUFNQyxZQUNKQyxLQUFvQixFQUNwQkMsU0FBeUIsQ0FBQyxDQUFDLEVBQ0Y7UUFDekIsTUFBTUMsYUFBYSxJQUFJLENBQUNDLGtCQUFrQjtRQUMxQyxNQUFNQyxZQUFZQyxLQUFLQyxHQUFHO1FBRTFCLE1BQU1DLFNBQXlCO1lBQzdCQyxJQUFJTjtZQUNKTyxXQUFXLElBQUlKLE9BQU9LLFdBQVc7WUFDakNDLFFBQVE7WUFDUkMsT0FBTztZQUNQWDtRQUNGO1FBRUEsSUFBSSxDQUFDWSxHQUFHLENBQUMsQ0FBQyxrQkFBa0IsRUFBRVgsV0FBVyxDQUFDO1FBRTFDLElBQUk7WUFDRiw4Q0FBOEM7WUFDOUMsSUFBSVksaUJBQWlCZCxNQUFNYyxjQUFjO1lBQ3pDLElBQUlkLE1BQU1lLGFBQWEsSUFBSSxDQUFDRCxnQkFBZ0I7Z0JBQzFDUCxPQUFPUyxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUNDLGNBQWMsQ0FBQ2pCLE1BQU1lLGFBQWEsRUFBRWQsT0FBT2lCLE1BQU07Z0JBQzdFLElBQUksQ0FBQ1gsT0FBT1MsT0FBTyxFQUFFRyxTQUFTO29CQUM1QlosT0FBT0ksTUFBTSxHQUFHO29CQUNoQkosT0FBT0ssS0FBSyxHQUFHO29CQUNmLE1BQU0sSUFBSVEsTUFBTWIsT0FBT1MsT0FBTyxFQUFFSyxTQUFTO2dCQUMzQztnQkFDQVAsaUJBQWlCUCxPQUFPUyxPQUFPLEVBQUVNO1lBQ25DO1lBRUEsSUFBSSxDQUFDUixrQkFBa0JBLGVBQWVTLE1BQU0sS0FBSyxHQUFHO2dCQUNsRCxNQUFNLElBQUlILE1BQU07WUFDbEI7WUFFQSxnQ0FBZ0M7WUFDaEMsSUFBSUksY0FBY3hCLE1BQU13QixXQUFXO1lBQ25DLElBQUl2QixPQUFPd0IsVUFBVSxJQUFJLENB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QU0sSUFDbENDLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNLElBQUlwRyxLQUFLb0csRUFBRWhHLFNBQVMsRUFBRWlHLE9BQU8sS0FBSyxJQUFJckcsS0FBS21HLEVBQUUvRixTQUFTLEVBQUVpRyxPQUFPO0lBQ25GO0lBRUE7O0dBRUMsR0FDREMsZUFBcUI7UUFDbkIsSUFBSSxDQUFDckUsT0FBTyxDQUFDc0UsS0FBSztRQUNsQixJQUFJLENBQUMvRixHQUFHLENBQUM7SUFDWDtJQUVBOztHQUVDLEdBQ0RnRyxrQkFBMEI7UUFDeEIsT0FBTyxJQUFJLENBQUNqRSxZQUFZO0lBQzFCO0lBRUE7O0dBRUMsR0FDRCxJQUFZSixPQUFlLEVBQVE7UUFDakMsTUFBTS9CLFlBQVksSUFBSUosT0FBT0ssV0FBVztRQUN4QyxNQUFNb0csV0FBVyxDQUFDLENBQUMsRUFBRXJHLFVBQVUsR0FBRyxFQUFFLElBQUksQ0FBQ21DLFlBQVksQ0FBQyxFQUFFLEVBQUVKLFFBQVEsQ0FBQztRQUNuRSxJQUFJLENBQUNILElBQUksQ0FBQ21ELElBQUksQ0FBQ3NCO1FBQ2ZDLFFBQVFsRyxHQUFHLENBQUNpRztJQUNkO0lBRUE7O0dBRUMsR0FDRCxZQUEwQjtRQUN4QixJQUFJLENBQUN6RSxJQUFJLEdBQUcsRUFBRTtJQUNoQjtJQUVBOztHQUVDLEdBQ0QscUJBQXFDO1FBQ25DLE9BQU8sQ0FBQyxTQUFTLEVBQUVoQyxLQUFLQyxHQUFHLEdBQUcsQ0FBQyxFQUFFZ0YsS0FBSzBCLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUM1RTs7YUExWlE3RSxPQUFpQixFQUFFO2FBQ25CTyxlQUF1QjthQUN2Qk4sVUFBdUMsSUFBSTZFOztBQXlackQ7QUFFQSw0QkFBNEI7QUFDckIsTUFBTUMsdUJBQXVCLElBQUl0SCx1QkFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZmZpY2UtZm9vdGJhbGwtcG9vbC8uL3NyYy9zZXJ2aWNlcy9waXBlbGluZS1vcmNoZXN0cmF0b3IudHM/NmZiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMTE1QaWNrc2hlZXRQYXJzZXIgfSBmcm9tICcuL2xsbS1waWNrc2hlZXQtcGFyc2VyJ1xuaW1wb3J0IHsgZ2V0T2Rkc0FQSSwgT2Rkc0FQSVNlcnZpY2UgfSBmcm9tICcuL29kZHMtYXBpJ1xuaW1wb3J0IHsgRW50aXR5UmVzb2x2ZXIgfSBmcm9tICcuL2VudGl0eS1yZXNvbHV0aW9uJ1xuaW1wb3J0IHsgY29tcGFyaXNvbkVuZ2luZSwgdHlwZSBDb21wYXJpc29uS1BJcywgdHlwZSBHYW1lQ29tcGFyaXNvbiB9IGZyb20gJy4vY29tcGFyaXNvbi1lbmdpbmUnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGlwZWxpbmVDb25maWcge1xuICB1c2VPZGRzQVBJPzogYm9vbGVhblxuICB1c2VMTE0/OiBib29sZWFuXG4gIGluY2x1ZGVMb2dzPzogYm9vbGVhblxuICBtYXRjaGluZ1RocmVzaG9sZD86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpcGVsaW5lSW5wdXQge1xuICBwaWNrc2hlZXRUZXh0Pzogc3RyaW5nXG4gIHBpY2tzaGVldEdhbWVzPzogQXJyYXk8e1xuICAgIGhvbWVUZWFtOiBzdHJpbmdcbiAgICBhd2F5VGVhbTogc3RyaW5nXG4gICAgc3ByZWFkOiBudW1iZXJcbiAgICBnYW1lRGF0ZT86IHN0cmluZ1xuICB9PlxuICBtYXJrZXRHYW1lcz86IEFycmF5PHtcbiAgICBnYW1lSWQ6IHN0cmluZ1xuICAgIGhvbWVUZWFtOiBzdHJpbmdcbiAgICBhd2F5VGVhbTogc3RyaW5nXG4gICAgaG9tZVNwcmVhZDogbnVtYmVyXG4gICAgZ2FtZVRpbWU6IHN0cmluZ1xuICAgIGxlYWd1ZT86ICdORkwnIHwgJ05DQUFGJ1xuICB9PlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpcGVsaW5lUmVzdWx0IHtcbiAgaWQ6IHN0cmluZ1xuICB0aW1lc3RhbXA6IHN0cmluZ1xuICBzdGF0dXM6ICdzdWNjZXNzJyB8ICdwYXJ0aWFsJyB8ICdmYWlsZWQnXG4gIHN0YWdlOiBzdHJpbmdcbiAgY29uZmlnOiBQaXBlbGluZUNvbmZpZ1xuICBcbiAgLy8gU3RhZ2Ugb3V0cHV0c1xuICBwYXJzaW5nPzoge1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgICBnYW1lc0ZvdW5kOiBudW1iZXJcbiAgICBnYW1lcz86IGFueVtdXG4gICAgZXJyb3I/OiBzdHJpbmdcbiAgICBkdXJhdGlvbj86IG51bWJlclxuICB9XG4gIFxuICBvZGRzUmV0cmlldmFsPzoge1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgICBuZmxHYW1lczogbnVtYmVyXG4gICAgbmNhYWZHYW1lczogbnVtYmVyXG4gICAgZ2FtZXM/OiBhbnlbXVxuICAgIGVycm9yPzogc3RyaW5nXG4gICAgZHVyYXRpb24/OiBudW1iZXJcbiAgfVxuICBcbiAgbWF0Y2hpbmc/OiB7XG4gICAgc3VjY2VzczogYm9vbGVhblxuICAgIG1hdGNoUmF0ZTogbnVtYmVyXG4gICAgbWF0Y2hlczogbnVtYmVyXG4gICAgdG90YWxHYW1lczogbnVtYmVyXG4gICAgZXJyb3I/OiBzdHJpbmdcbiAgICBkdXJhdGlvbj86IG51bWJlclxuICB9XG4gIFxuICBjb21wYXJpc29uPzoge1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgICBrcGlzPzogQ29tcGFyaXNvbktQSXNcbiAgICBjb21wYXJpc29ucz86IEdhbWVDb21wYXJpc29uW11cbiAgICB1bm1hdGNoZWQ/OiBhbnlbXVxuICAgIGVycm9yPzogc3RyaW5nXG4gICAgZHVyYXRpb24/OiBudW1iZXJcbiAgfVxuICBcbiAgbG9ncz86IHN0cmluZ1tdXG4gIHRvdGFsRHVyYXRpb24/OiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIFBpcGVsaW5lT3JjaGVzdHJhdG9yIHtcbiAgcHJpdmF0ZSBsb2dzOiBzdHJpbmdbXSA9IFtdXG4gIHByaXZhdGUgY3VycmVudFN0YWdlOiBzdHJpbmcgPSAnaWRsZSdcbiAgcHJpdmF0ZSByZXN1bHRzOiBNYXA8c3RyaW5nLCBQaXBlbGluZVJlc3VsdD4gPSBuZXcgTWFwKClcblxuICAvKipcbiAgICogTWFpbiBwaXBlbGluZSBleGVjdXRpb24gbWV0aG9kXG4gICAqL1xuICBhc3luYyBydW5QaXBlbGluZShcbiAgICBpbnB1dDogUGlwZWxpbmVJbnB1dCxcbiAgICBjb25maWc6IFBpcGVsaW5lQ29uZmlnID0ge31cbiAgKTogUHJvbWlzZTxQaXBlbGluZVJlc3VsdD4ge1xuICAgIGNvbnN0IHBpcGVsaW5lSWQgPSB0aGlzLmdlbmVyYXRlUGlwZWxpbmVJZCgpXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdDogUGlwZWxpbmVSZXN1bHQgPSB7XG4gICAgICBpZDogcGlwZWxpbmVJZCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICBzdGFnZTogJ2luaXRpYWxpemluZycsXG4gICAgICBjb25maWdcbiAgICB9XG5cbiAgICB0aGlzLmxvZyhgU3RhcnRpbmcgcGlwZWxpbmUgJHtwaXBlbGluZUlkfWApXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFN0YWdlIDE6IFBhcnNlIHBpY2tzaGVldCAoaWYgdGV4dCBwcm92aWRlZClcbiAgICAgIGxldCBwaWNrc2hlZXRHYW1lcyA9IGlucHV0LnBpY2tzaGVldEdhbWVzXG4gICAgICBpZiAoaW5wdXQucGlja3NoZWV0VGV4dCAmJiAhcGlja3NoZWV0R2FtZXMpIHtcbiAgICAgICAgcmVzdWx0LnBhcnNpbmcgPSBhd2FpdCB0aGlzLnBhcnNlUGlja3NoZWV0KGlucHV0LnBpY2tzaGVldFRleHQsIGNvbmZpZy51c2VMTE0pXG4gICAgICAgIGlmICghcmVzdWx0LnBhcnNpbmc/LnN1Y2Nlc3MpIHtcbiAgICAgICAgICByZXN1bHQuc3RhdHVzID0gJ2ZhaWxlZCdcbiAgICAgICAgICByZXN1bHQuc3RhZ2UgPSAncGFyc2luZydcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LnBhcnNpbmc/LmVycm9yIHx8ICdQYXJzaW5nIGZhaWxlZCcpXG4gICAgICAgIH1cbiAgICAgICAgcGlja3NoZWV0R2FtZXMgPSByZXN1bHQucGFyc2luZz8uZ2FtZXNcbiAgICAgIH1cblxuICAgICAgaWYgKCFwaWNrc2hlZXRHYW1lcyB8fCBwaWNrc2hlZXRHYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwaWNrc2hlZXQgZ2FtZXMgdG8gcHJvY2VzcycpXG4gICAgICB9XG5cbiAgICAgIC8vIFN0YWdlIDI6IFJldHJpZXZlIG1hcmtldCBvZGRzXG4gICAgICBsZXQgbWFya2V0R2FtZXMgPSBpbnB1dC5tYXJrZXRHYW1lc1xuICAgICAgaWYgKGNvbmZpZy51c2VPZGRzQVBJICYmICFtYXJrZXRHYW1lcykge1xuICAgICAgICByZXN1bHQub2Rkc1JldHJpZXZhbCA9IGF3YWl0IHRoaXMucmV0cmlldmVPZGRzKClcbiAgICAgICAgaWYgKCFyZXN1bHQub2Rkc1JldHJpZXZhbD8uc3VjY2Vzcykge1xuICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSAncGFydGlhbCdcbiAgICAgICAgICByZXN1bHQuc3RhZ2UgPSAnb2Rkc19yZXRyaWV2YWwnXG4gICAgICAgICAgdGhpcy5sb2coYFdhcm5pbmc6IE9kZHMgcmV0cmlldmFsIGZhaWxlZDogJHtyZXN1bHQub2Rkc1JldHJpZXZhbD8uZXJyb3IgfHwgJ1Vua25vd24gZXJyb3InfWApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFya2V0R2FtZXMgPSByZXN1bHQub2Rkc1JldHJpZXZhbD8uZ2FtZXNcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIW1hcmtldEdhbWVzIHx8IG1hcmtldEdhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1hcmtldCBnYW1lcyBhdmFpbGFibGUgZm9yIGNvbXBhcmlzb24nKVxuICAgICAgfVxuXG4gICAgICAvLyBTdGFnZSAzOiBNYXRjaCBnYW1lc1xuICAgICAgcmVzdWx0Lm1hdGNoaW5nID0gYXdhaXQgdGhpcy5tYXRjaEdhbWVzKFxuICAgICAgICBwaWNrc2hlZXRHYW1lcyxcbiAgICAgICAgbWFya2V0R2FtZXMsXG4gICAgICAgIGNvbmZpZy5tYXRjaGluZ1RocmVzaG9sZFxuICAgICAgKVxuICAgICAgXG4gICAgICBpZiAocmVzdWx0Lm1hdGNoaW5nLm1hdGNoUmF0ZSA9PT0gMCkge1xuICAgICAgICByZXN1bHQuc3RhdHVzID0gJ2ZhaWxlZCdcbiAgICAgICAgcmVzdWx0LnN0YWdlID0gJ21hdGNoaW5nJ1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGdhbWVzIGNvdWxkIGJlIG1hdGNoZWQnKVxuICAgICAgfSBlbHNlIGlmIChyZXN1bHQubWF0Y2hpbmcubWF0Y2hSYXRlIDwgMC41KSB7XG4gICAgICAgIHJlc3VsdC5zdGF0dXMgPSAncGFydGlhbCdcbiAgICAgICAgdGhpcy5sb2coYFdhcm5pbmc6IExvdyBtYXRjaCByYXRlOiAkeyhyZXN1bHQubWF0Y2hpbmcubWF0Y2hSYXRlICogMTAwKS50b0ZpeGVkKDEpfSVgKVxuICAgICAgfVxuXG4gICAgICAvLyBTdGFnZSA0OiBDb21wYXJlIHNwcmVhZHMgYW5kIGNhbGN1bGF0ZSBLUElzXG4gICAgICByZXN1bHQuY29tcGFyaXNvbiA9IGF3YWl0IHRoaXMuY29tcGFyZUdhbWVzKFxuICAgICAgICBwaWNrc2hlZXRHYW1lcyxcbiAgICAgICAgbWFya2V0R2FtZXMsXG4gICAgICAgIHJlc3VsdC5tYXRjaGluZ1xuICAgICAgKVxuICAgICAgXG4gICAgICBpZiAoIXJlc3VsdC5jb21wYXJpc29uPy5zdWNjZXNzKSB7XG4gICAgICAgIHJlc3VsdC5zdGF0dXMgPSAncGFydGlhbCdcbiAgICAgICAgcmVzdWx0LnN0YWdlID0gJ2NvbXBhcmlzb24nXG4gICAgICB9XG5cbiAgICAgIHJlc3VsdC5zdGFnZSA9ICdjb21wbGV0ZWQnXG4gICAgICByZXN1bHQudG90YWxEdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICAgIFxuICAgICAgaWYgKGNvbmZpZy5pbmNsdWRlTG9ncykge1xuICAgICAgICByZXN1bHQubG9ncyA9IFsuLi50aGlzLmxvZ3NdXG4gICAgICB9XG5cbiAgICAgIC8vIFN0b3JlIHJlc3VsdCBmb3IgcmV0cmlldmFsXG4gICAgICB0aGlzLnJlc3VsdHMuc2V0KHBpcGVsaW5lSWQsIHJlc3VsdClcbiAgICAgIHRoaXMubG9nKGBQaXBlbGluZSAke3BpcGVsaW5lSWR9IGNvbXBsZXRlZCBpbiAke3Jlc3VsdC50b3RhbER1cmF0aW9ufW1zYClcblxuICAgICAgcmV0dXJuIHJlc3VsdFxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnZmFpbGVkJ1xuICAgICAgcmVzdWx0LnRvdGFsRHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICBcbiAgICAgIGlmIChjb25maWcuaW5jbHVkZUxvZ3MpIHtcbiAgICAgICAgcmVzdWx0LmxvZ3MgPSBbLi4udGhpcy5sb2dzXVxuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLmxvZyhgUGlwZWxpbmUgJHtwaXBlbGluZUlkfSBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YClcbiAgICAgIHRoaXMucmVzdWx0cy5zZXQocGlwZWxpbmVJZCwgcmVzdWx0KVxuICAgICAgXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmNsZWFyTG9ncygpXG4gICAgICA7KHRoaXMgYXMgYW55KS5fbGFzdE1hdGNoZXMgPSBudWxsIC8vIENsZWFyIHN0b3JlZCBtYXRjaGVzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YWdlIDE6IFBhcnNlIHBpY2tzaGVldCB0ZXh0XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHBhcnNlUGlja3NoZWV0KFxuICAgIHRleHQ6IHN0cmluZyxcbiAgICB1c2VMTE06IGJvb2xlYW4gPSB0cnVlXG4gICk6IFByb21pc2U8UGlwZWxpbmVSZXN1bHRbJ3BhcnNpbmcnXT4ge1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcbiAgICB0aGlzLmN1cnJlbnRTdGFnZSA9ICdwYXJzaW5nJ1xuICAgIHRoaXMubG9nKCdTdGFydGluZyBwaWNrc2hlZXQgcGFyc2luZycpXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VkID0gYXdhaXQgTExNUGlja3NoZWV0UGFyc2VyLnBhcnNlV2l0aExMTSh0ZXh0KVxuXG4gICAgICBpZiAoIXBhcnNlZCB8fCAhcGFyc2VkLmdhbWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZ2FtZXNGb3VuZDogMCxcbiAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBwYXJzZSBwaWNrc2hlZXQnLFxuICAgICAgICAgIGR1cmF0aW9uOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2coYFBhcnNlZCAke3BhcnNlZC5nYW1lcy5sZW5ndGh9IGdhbWVzIGZyb20gcGlja3NoZWV0YClcblxuICAgICAgLy8gQ29udmVydCB0byBvdXIgZm9ybWF0XG4gICAgICBjb25zdCBnYW1lcyA9IHBhcnNlZC5nYW1lcy5tYXAoZ2FtZSA9PiAoe1xuICAgICAgICBob21lVGVhbTogZ2FtZS5ob21lVGVhbSxcbiAgICAgICAgYXdheVRlYW06IGdhbWUuYXdheVRlYW0sXG4gICAgICAgIHNwcmVhZDogZ2FtZS5ob21lU3ByZWFkLCAvLyBVc2UgaG9tZSBzcHJlYWRcbiAgICAgICAgZ2FtZURhdGU6IGdhbWUuZ2FtZURhdGUgfHwgdW5kZWZpbmVkXG4gICAgICB9KSlcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZ2FtZXNGb3VuZDogZ2FtZXMubGVuZ3RoLFxuICAgICAgICBnYW1lcyxcbiAgICAgICAgZHVyYXRpb246IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGdhbWVzRm91bmQ6IDAsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIHBhcnNpbmcgZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFnZSAyOiBSZXRyaWV2ZSBvZGRzIGZyb20gQVBJXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHJldHJpZXZlT2RkcygpOiBQcm9taXNlPFBpcGVsaW5lUmVzdWx0WydvZGRzUmV0cmlldmFsJ10+IHtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gICAgdGhpcy5jdXJyZW50U3RhZ2UgPSAnb2Rkc19yZXRyaWV2YWwnXG4gICAgdGhpcy5sb2coJ1JldHJpZXZpbmcgb2RkcyBmcm9tIEFQSScpXG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgb2Rkc0FQSSA9IGdldE9kZHNBUEkoKVxuICAgICAgY29uc3QgeyBuZmwsIG5jYWFmIH0gPSBhd2FpdCBvZGRzQVBJLmdldEFsbFNwcmVhZHMoKVxuXG4gICAgICAvLyBDb252ZXJ0IHRvIG91ciBmb3JtYXQsIHByZXNlcnZpbmcgbGVhZ3VlIGluZm9ybWF0aW9uXG4gICAgICBjb25zdCBuZmxHYW1lcyA9IG5mbC5tYXAoZ2FtZSA9PiB7XG4gICAgICAgIGNvbnN0IHNwcmVhZCA9IE9kZHNBUElTZXJ2aWNlLmdldEJlc3RTcHJlYWQoZ2FtZSlcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBnYW1lSWQ6IGdhbWUuaWQsXG4gICAgICAgICAgaG9tZVRlYW06IHNwcmVhZC5ob21lVGVhbSxcbiAgICAgICAgICBhd2F5VGVhbTogc3ByZWFkLmF3YXlUZWFtLFxuICAgICAgICAgIGhvbWVTcHJlYWQ6IHNwcmVhZC5ob21lU3ByZWFkIHx8IDAsXG4gICAgICAgICAgZ2FtZVRpbWU6IGdhbWUuY29tbWVuY2VfdGltZSxcbiAgICAgICAgICBsZWFndWU6ICdORkwnIGFzIGNvbnN0XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGNvbnN0IG5jYWFmR2FtZXMgPSBuY2FhZi5tYXAoZ2FtZSA9PiB7XG4gICAgICAgIGNvbnN0IHNwcmVhZCA9IE9kZHNBUElTZXJ2aWNlLmdldEJlc3RTcHJlYWQoZ2FtZSlcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBnYW1lSWQ6IGdhbWUuaWQsXG4gICAgICAgICAgaG9tZVRlYW06IHNwcmVhZC5ob21lVGVhbSxcbiAgICAgICAgICBhd2F5VGVhbTogc3ByZWFkLmF3YXlUZWFtLFxuICAgICAgICAgIGhvbWVTcHJlYWQ6IHNwcmVhZC5ob21lU3ByZWFkIHx8IDAsXG4gICAgICAgICAgZ2FtZVRpbWU6IGdhbWUuY29tbWVuY2VfdGltZSxcbiAgICAgICAgICBsZWFndWU6ICdOQ0FBRicgYXMgY29uc3RcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgY29uc3QgZ2FtZXMgPSBbLi4ubmZsR2FtZXMsIC4uLm5jYWFmR2FtZXNdXG5cbiAgICAgIHRoaXMubG9nKGBSZXRyaWV2ZWQgJHtuZmwubGVuZ3RofSBORkwgYW5kICR7bmNhYWYubGVuZ3RofSBOQ0FBRiBnYW1lc2ApXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG5mbEdhbWVzOiBuZmwubGVuZ3RoLFxuICAgICAgICBuY2FhZkdhbWVzOiBuY2FhZi5sZW5ndGgsXG4gICAgICAgIGdhbWVzLFxuICAgICAgICBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbmZsR2FtZXM6IDAsXG4gICAgICAgIG5jYWFmR2FtZXM6IDAsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIEFQSSBlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YWdlIDM6IE1hdGNoIGdhbWVzIGJldHdlZW4gc291cmNlc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBtYXRjaEdhbWVzKFxuICAgIHBpY2tzaGVldEdhbWVzOiBhbnlbXSxcbiAgICBtYXJrZXRHYW1lczogYW55W10sXG4gICAgdGhyZXNob2xkOiBudW1iZXIgPSAwLjZcbiAgKTogUHJvbWlzZTxQaXBlbGluZVJlc3VsdFsnbWF0Y2hpbmcnXSAmIHsgbWF0Y2hlcz86IGFueVtdIH0+IHtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gICAgdGhpcy5jdXJyZW50U3RhZ2UgPSAnbWF0Y2hpbmcnXG4gICAgdGhpcy5sb2coJ01hdGNoaW5nIGdhbWVzIGJldHdlZW4gcGlja3NoZWV0IGFuZCBtYXJrZXQnKVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc29sdmVyID0gbmV3IEVudGl0eVJlc29sdmVyKClcbiAgICAgIGNvbnN0IG1hdGNoZXM6IEFycmF5PHtcbiAgICAgICAgcGlja3NoZWV0SW5kZXg6IG51bWJlclxuICAgICAgICBtYXJrZXRJbmRleDogbnVtYmVyXG4gICAgICAgIGNvbmZpZGVuY2U6IG51bWJlclxuICAgICAgfT4gPSBbXVxuXG4gICAgICBmb3IgKGxldCBwSWR4ID0gMDsgcElkeCA8IHBpY2tzaGVldEdhbWVzLmxlbmd0aDsgcElkeCsrKSB7XG4gICAgICAgIGNvbnN0IHBpY2tzaGVldEdhbWUgPSBwaWNrc2hlZXRHYW1lc1twSWR4XVxuICAgICAgICBsZXQgYmVzdE1hdGNoID0ge1xuICAgICAgICAgIG1hcmtldEluZGV4OiAtMSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBtSWR4ID0gMDsgbUlkeCA8IG1hcmtldEdhbWVzLmxlbmd0aDsgbUlkeCsrKSB7XG4gICAgICAgICAgY29uc3QgbWFya2V0R2FtZSA9IG1hcmtldEdhbWVzW21JZHhdXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWF0Y2ggdGVhbXNcbiAgICAgICAgICBjb25zdCBob21lTWF0Y2ggPSBhd2FpdCByZXNvbHZlci5tYXRjaFRlYW0ocGlja3NoZWV0R2FtZS5ob21lVGVhbSlcbiAgICAgICAgICBjb25zdCBtYXJrZXRIb21lTWF0Y2ggPSBhd2FpdCByZXNvbHZlci5tYXRjaFRlYW0obWFya2V0R2FtZS5ob21lVGVhbSlcbiAgICAgICAgICBjb25zdCBhd2F5TWF0Y2ggPSBhd2FpdCByZXNvbHZlci5tYXRjaFRlYW0ocGlja3NoZWV0R2FtZS5hd2F5VGVhbSlcbiAgICAgICAgICBjb25zdCBtYXJrZXRBd2F5TWF0Y2ggPSBhd2FpdCByZXNvbHZlci5tYXRjaFRlYW0obWFya2V0R2FtZS5hd2F5VGVhbSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiB0ZWFtcyBtYXRjaCAobm9ybWFsIG9yIHN3YXBwZWQpXG4gICAgICAgICAgY29uc3Qgbm9ybWFsTWF0Y2ggPSBcbiAgICAgICAgICAgIGhvbWVNYXRjaC5tYXRjaGVkTmFtZSA9PT0gbWFya2V0SG9tZU1hdGNoLm1hdGNoZWROYW1lICYmXG4gICAgICAgICAgICBhd2F5TWF0Y2gubWF0Y2hlZE5hbWUgPT09IG1hcmtldEF3YXlNYXRjaC5tYXRjaGVkTmFtZVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHN3YXBwZWRNYXRjaCA9IFxuICAgICAgICAgICAgaG9tZU1hdGNoLm1hdGNoZWROYW1lID09PSBtYXJrZXRBd2F5TWF0Y2gubWF0Y2hlZE5hbWUgJiZcbiAgICAgICAgICAgIGF3YXlNYXRjaC5tYXRjaGVkTmFtZSA9PT0gbWFya2V0SG9tZU1hdGNoLm1hdGNoZWROYW1lXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG5vcm1hbE1hdGNoIHx8IHN3YXBwZWRNYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgY29uZmlkZW5jZSA9IE1hdGgubWluKFxuICAgICAgICAgICAgICBob21lTWF0Y2guY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgYXdheU1hdGNoLmNvbmZpZGVuY2UsXG4gICAgICAgICAgICAgIG1hcmtldEhvbWVNYXRjaC5jb25maWRlbmNlLFxuICAgICAgICAgICAgICBtYXJrZXRBd2F5TWF0Y2guY29uZmlkZW5jZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoY29uZmlkZW5jZSA+PSB0aHJlc2hvbGQgJiYgY29uZmlkZW5jZSA+IGJlc3RNYXRjaC5jb25maWRlbmNlKSB7XG4gICAgICAgICAgICAgIGJlc3RNYXRjaCA9IHtcbiAgICAgICAgICAgICAgICBtYXJrZXRJbmRleDogbUlkeCxcbiAgICAgICAgICAgICAgICBjb25maWRlbmNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmVzdE1hdGNoLm1hcmtldEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICBwaWNrc2hlZXRJbmRleDogcElkeCxcbiAgICAgICAgICAgIG1hcmtldEluZGV4OiBiZXN0TWF0Y2gubWFya2V0SW5kZXgsXG4gICAgICAgICAgICBjb25maWRlbmNlOiBiZXN0TWF0Y2guY29uZmlkZW5jZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgbWF0Y2hSYXRlID0gbWF0Y2hlcy5sZW5ndGggLyBwaWNrc2hlZXRHYW1lcy5sZW5ndGhcbiAgICAgIHRoaXMubG9nKGBNYXRjaGVkICR7bWF0Y2hlcy5sZW5ndGh9IG9mICR7cGlja3NoZWV0R2FtZXMubGVuZ3RofSBnYW1lcyAoJHsobWF0Y2hSYXRlICogMTAwKS50b0ZpeGVkKDEpfSUpYClcblxuICAgICAgLy8gU3RvcmUgbWF0Y2hlcyBpbnRlcm5hbGx5IGJ1dCBkb24ndCBpbmNsdWRlIGluIHJlc3VsdFxuICAgICAgOyh0aGlzIGFzIGFueSkuX2xhc3RNYXRjaGVzID0gbWF0Y2hlc1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBtYXRjaFJhdGUsXG4gICAgICAgIG1hdGNoZXM6IG1hdGNoZXMubGVuZ3RoIGFzIGFueSxcbiAgICAgICAgdG90YWxHYW1lczogcGlja3NoZWV0R2FtZXMubGVuZ3RoLFxuICAgICAgICBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWF0Y2hSYXRlOiAwLFxuICAgICAgICBtYXRjaGVzOiAwIGFzIGFueSxcbiAgICAgICAgdG90YWxHYW1lczogcGlja3NoZWV0R2FtZXMubGVuZ3RoLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBtYXRjaGluZyBlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YWdlIDQ6IENvbXBhcmUgZ2FtZXMgYW5kIGNhbGN1bGF0ZSBLUElzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGNvbXBhcmVHYW1lcyhcbiAgICBwaWNrc2hlZXRHYW1lczogYW55W10sXG4gICAgbWFya2V0R2FtZXM6IGFueVtdLFxuICAgIG1hdGNoaW5nUmVzdWx0OiBhbnlcbiAgKTogUHJvbWlzZTxQaXBlbGluZVJlc3VsdFsnY29tcGFyaXNvbiddPiB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICAgIHRoaXMuY3VycmVudFN0YWdlID0gJ2NvbXBhcmlzb24nXG4gICAgdGhpcy5sb2coJ0NvbXBhcmluZyBnYW1lcyBhbmQgY2FsY3VsYXRpbmcgS1BJcycpXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGFyaXNvbkVuZ2luZS5jb21wYXJlR2FtZXMoXG4gICAgICAgIHBpY2tzaGVldEdhbWVzLFxuICAgICAgICBtYXJrZXRHYW1lcyxcbiAgICAgICAgKHRoaXMgYXMgYW55KS5fbGFzdE1hdGNoZXMgfHwgW11cbiAgICAgIClcblxuICAgICAgdGhpcy5sb2coYENhbGN1bGF0ZWQgS1BJczogQXZnIGRlbHRhICR7cmVzdWx0LmtwaXMuYXZnU3ByZWFkRGVsdGF9LCBLZXkgY3Jvc3NpbmdzICR7cmVzdWx0LmtwaXMua2V5TnVtYmVyQ3Jvc3NpbmdzfWApXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGtwaXM6IHJlc3VsdC5rcGlzLFxuICAgICAgICBjb21wYXJpc29uczogcmVzdWx0LmNvbXBhcmlzb25zLFxuICAgICAgICB1bm1hdGNoZWQ6IHJlc3VsdC51bm1hdGNoZWQsXG4gICAgICAgIGR1cmF0aW9uOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBjb21wYXJpc29uIGVycm9yJyxcbiAgICAgICAgZHVyYXRpb246IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHBpcGVsaW5lIHJlc3VsdCBieSBJRFxuICAgKi9cbiAgZ2V0UGlwZWxpbmVSZXN1bHQoaWQ6IHN0cmluZyk6IFBpcGVsaW5lUmVzdWx0IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5yZXN1bHRzLmdldChpZClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHBpcGVsaW5lIHJlc3VsdHNcbiAgICovXG4gIGdldEFsbFJlc3VsdHMoKTogUGlwZWxpbmVSZXN1bHRbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5yZXN1bHRzLnZhbHVlcygpKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIudGltZXN0YW1wKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLnRpbWVzdGFtcCkuZ2V0VGltZSgpKVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHN0b3JlZCByZXN1bHRzXG4gICAqL1xuICBjbGVhclJlc3VsdHMoKTogdm9pZCB7XG4gICAgdGhpcy5yZXN1bHRzLmNsZWFyKClcbiAgICB0aGlzLmxvZygnQ2xlYXJlZCBhbGwgcGlwZWxpbmUgcmVzdWx0cycpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgcGlwZWxpbmUgc3RhZ2VcbiAgICovXG4gIGdldEN1cnJlbnRTdGFnZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGFnZVxuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIGxvZ2dpbmdcbiAgICovXG4gIHByaXZhdGUgbG9nKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIGNvbnN0IGxvZ0VudHJ5ID0gYFske3RpbWVzdGFtcH1dIFske3RoaXMuY3VycmVudFN0YWdlfV0gJHttZXNzYWdlfWBcbiAgICB0aGlzLmxvZ3MucHVzaChsb2dFbnRyeSlcbiAgICBjb25zb2xlLmxvZyhsb2dFbnRyeSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBsb2dzXG4gICAqL1xuICBwcml2YXRlIGNsZWFyTG9ncygpOiB2b2lkIHtcbiAgICB0aGlzLmxvZ3MgPSBbXVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHVuaXF1ZSBwaXBlbGluZSBJRFxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBpcGVsaW5lSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYHBpcGVsaW5lXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YFxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBwaXBlbGluZU9yY2hlc3RyYXRvciA9IG5ldyBQaXBlbGluZU9yY2hlc3RyYXRvcigpIl0sIm5hbWVzIjpbIkxMTVBpY2tzaGVldFBhcnNlciIsImdldE9kZHNBUEkiLCJPZGRzQVBJU2VydmljZSIsIkVudGl0eVJlc29sdmVyIiwiY29tcGFyaXNvbkVuZ2luZSIsIlBpcGVsaW5lT3JjaGVzdHJhdG9yIiwicnVuUGlwZWxpbmUiLCJpbnB1dCIsImNvbmZpZyIsInBpcGVsaW5lSWQiLCJnZW5lcmF0ZVBpcGVsaW5lSWQiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwicmVzdWx0IiwiaWQiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsInN0YXR1cyIsInN0YWdlIiwibG9nIiwicGlja3NoZWV0R2FtZXMiLCJwaWNrc2hlZXRUZXh0IiwicGFyc2luZyIsInBhcnNlUGlja3NoZWV0IiwidXNlTExNIiwic3VjY2VzcyIsIkVycm9yIiwiZXJyb3IiLCJnYW1lcyIsImxlbmd0aCIsIm1hcmtldEdhbWVzIiwidXNlT2Rkc0FQSSIsIm9kZHNSZXRyaWV2YWwiLCJyZXRyaWV2ZU9kZHMiLCJtYXRjaGluZyIsIm1hdGNoR2FtZXMiLCJtYXRjaGluZ1RocmVzaG9sZCIsIm1hdGNoUmF0ZSIsInRvRml4ZWQiLCJjb21wYXJpc29uIiwiY29tcGFyZUdhbWVzIiwidG90YWxEdXJhdGlvbiIsImluY2x1ZGVMb2dzIiwibG9ncyIsInJlc3VsdHMiLCJzZXQiLCJtZXNzYWdlIiwiY2xlYXJMb2dzIiwiX2xhc3RNYXRjaGVzIiwidGV4dCIsImN1cnJlbnRTdGFnZSIsInBhcnNlZCIsInBhcnNlV2l0aExMTSIsImdhbWVzRm91bmQiLCJkdXJhdGlvbiIsIm1hcCIsImdhbWUiLCJob21lVGVhbSIsImF3YXlUZWFtIiwic3ByZWFkIiwiaG9tZVNwcmVhZCIsImdhbWVEYXRlIiwidW5kZWZpbmVkIiwib2Rkc0FQSSIsIm5mbCIsIm5jYWFmIiwiZ2V0QWxsU3ByZWFkcyIsIm5mbEdhbWVzIiwiZ2V0QmVzdFNwcmVhZCIsImdhbWVJZCIsImdhbWVUaW1lIiwiY29tbWVuY2VfdGltZSIsImxlYWd1ZSIsIm5jYWFmR2FtZXMiLCJ0aHJlc2hvbGQiLCJyZXNvbHZlciIsIm1hdGNoZXMiLCJwSWR4IiwicGlja3NoZWV0R2FtZSIsImJlc3RNYXRjaCIsIm1hcmtldEluZGV4IiwiY29uZmlkZW5jZSIsIm1JZHgiLCJtYXJrZXRHYW1lIiwiaG9tZU1hdGNoIiwibWF0Y2hUZWFtIiwibWFya2V0SG9tZU1hdGNoIiwiYXdheU1hdGNoIiwibWFya2V0QXdheU1hdGNoIiwibm9ybWFsTWF0Y2giLCJtYXRjaGVkTmFtZSIsInN3YXBwZWRNYXRjaCIsIk1hdGgiLCJtaW4iLCJwdXNoIiwicGlja3NoZWV0SW5kZXgiLCJ0b3RhbEdhbWVzIiwibWF0Y2hpbmdSZXN1bHQiLCJrcGlzIiwiYXZnU3ByZWFkRGVsdGEiLCJrZXlOdW1iZXJDcm9zc2luZ3MiLCJjb21wYXJpc29ucyIsInVubWF0Y2hlZCIsImdldFBpcGVsaW5lUmVzdWx0IiwiZ2V0IiwiZ2V0QWxsUmVzdWx0cyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiLCJjbGVhclJlc3VsdHMiLCJjbGVhciIsImdldEN1cnJlbnRTdGFnZSIsImxvZ0VudHJ5IiwiY29uc29sZSIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiTWFwIiwicGlwZWxpbmVPcmNoZXN0cmF0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/services/pipeline-orchestrator.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/openai","vendor-chunks/zod","vendor-chunks/fuse.js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpipeline%2Frun%2Froute&page=%2Fapi%2Fpipeline%2Frun%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpipeline%2Frun%2Froute.ts&appDir=%2FUsers%2Fjb%2FDevelopment%2Foffice_football_pool%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjb%2FDevelopment%2Foffice_football_pool&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();