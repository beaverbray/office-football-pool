"use strict";(()=>{var e={};e.id=304,e.ids=[304],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5184:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var r={};s.r(r),s.d(r,{GET:()=>u});var o=s(9303),n=s(8716),a=s(670),i=s(7070),p=s(8319);async function u(e){try{let e=process.env.OPENAI_API_KEY;if(!e)return i.NextResponse.json({success:!1,error:"OPENAI_API_KEY not found in environment variables"},{status:503});let t={exists:!0,length:e.length,startsWithSk:e.startsWith("sk-"),firstChars:e.substring(0,10)+"..."},s=new p.ZP({apiKey:e});try{let e=await s.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"user",content:'Say "API key works!" in 3 words only.'}],max_tokens:10});return i.NextResponse.json({success:!0,keyInfo:t,testResponse:e.choices[0].message.content,message:"OpenAI API key is valid and working!"})}catch(e){return i.NextResponse.json({success:!1,keyInfo:t,error:e.message||"Failed to call OpenAI API",statusCode:e.status,details:e.error?.message||e.message},{status:400})}}catch(e){return i.NextResponse.json({success:!1,error:"Unexpected error testing OpenAI API"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/test-openai/route",pathname:"/api/test-openai",filename:"route",bundlePath:"app/api/test-openai/route"},resolvedPagePath:"/Users/jb/Development/office_football_pool/src/app/api/test-openai/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m}=c,g="/api/test-openai/route";function h(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,972,319],()=>s(5184));module.exports=r})();